import{a as H}from"./chunk-XG4H3KSK.js";import{a as U}from"./chunk-XLT3BDRA.js";import{a as D,b as z,c as T,d as A,e as W,f as j,h as B,i as q,j as L,m as R,n as G}from"./chunk-IQNO2F6Q.js";import{Aa as o,Ba as w,Mb as V,Nb as N,Pa as f,Ra as d,Sb as k,Ta as S,Va as n,Wa as i,Ya as C,Za as _,_a as c,aa as O,cb as E,db as a,e as M,eb as v,fb as P,ia as m,ib as x,ja as u,jb as b,kb as h,mb as F,rb as I}from"./chunk-MNIEKAC2.js";function J(r,g){if(r&1){let e=C();n(0,"button",18),_("click",function(){m(e);let t=c();return u(t.cancelEdit())}),a(1," Cancel "),i()}}function K(r,g){if(r&1){let e=C();n(0,"div",21)(1,"div",22)(2,"div",23),a(3),i(),n(4,"div",24)(5,"div",25)(6,"span",26),a(7,"\u{1F4DE}"),i(),n(8,"span"),a(9),i()(),n(10,"div",25)(11,"span",26),a(12,"\u{1F4CD}"),i(),n(13,"span"),a(14),i()()()(),n(15,"div",27)(16,"button",28),_("click",function(){let t=m(e).$implicit,l=c(2);return u(l.editCustomer(t))}),a(17," \u270F\uFE0F "),i(),n(18,"button",29),_("click",function(){let t=m(e).$implicit,l=c(2);return u(l.deleteCustomer(t.id))}),a(19," \u{1F5D1}\uFE0F "),i()()()}if(r&2){let e=g.$implicit,s=c(2);S("editing",e.id===s.editingId),o(3),v(e.name),o(6),v(e.phoneNumber),o(5),v(e.deliveryAddress),o(2),d("disabled",!!s.editingId&&s.editingId!==e.id),o(2),d("disabled",!!s.editingId)}}function Q(r,g){if(r&1&&(n(0,"div",19),f(1,K,20,7,"div",20),i()),r&2){let e=c();o(),d("ngForOf",e.paginatedCustomers)}}function X(r,g){if(r&1&&(n(0,"option",36),a(1),i()),r&2){let e=g.$implicit;d("value",e),o(),v(e)}}function Y(r,g){if(r&1){let e=C();n(0,"button",41),_("click",function(){let t=m(e).$implicit,l=c(3);return u(l.goToPage(t))}),a(1),i()}if(r&2){let e=g.$implicit,s=c(3);S("active",e===s.currentPage),o(),P(" ",e," ")}}function Z(r,g){if(r&1){let e=C();n(0,"div",37)(1,"button",38),_("click",function(){m(e);let t=c(2);return u(t.prevPage())}),a(2," \u2190 Prev "),i(),n(3,"div",39),f(4,Y,2,3,"button",40),i(),n(5,"button",38),_("click",function(){m(e);let t=c(2);return u(t.nextPage())}),a(6," Next \u2192 "),i()()}if(r&2){let e=c(2);o(),d("disabled",e.currentPage===1),o(3),d("ngForOf",e.getPageNumbers()),o(),d("disabled",e.currentPage===e.totalPages)}}function $(r,g){if(r&1){let e=C();n(0,"div",30)(1,"div",31)(2,"label",32),a(3,"Show:"),i(),n(4,"select",33),h("ngModelChange",function(t){m(e);let l=c();return b(l.pageSize,t)||(l.pageSize=t),u(t)}),_("change",function(){m(e);let t=c();return u(t.currentPage=1)}),f(5,X,2,2,"option",34),i(),n(6,"span"),a(7,"per page"),i()(),f(8,Z,7,3,"div",35),i()}if(r&2){let e=c();o(4),x("ngModel",e.pageSize),o(),d("ngForOf",e.pageSizeOptions),o(3),d("ngIf",e.totalPages>1)}}function ee(r,g){r&1&&(n(0,"div",42)(1,"p"),a(2,"No customers registered yet"),i()())}var le=(()=>{class r{constructor(e,s){this.customerService=e,this.dialogService=s,this.customers=[],this.editingId=null,this.currentPage=1,this.pageSize=10,this.pageSizeOptions=[5,10,20,50],this.customer={name:"",phoneNumber:"",deliveryAddress:""}}ngOnInit(){this.customerService.loadCustomers(),this.customerService.getCustomers().subscribe(e=>{this.customers=e})}onSubmit(){this.isValid()&&(this.editingId?(this.customerService.updateCustomer(this.editingId,{name:this.customer.name,phoneNumber:this.customer.phoneNumber,deliveryAddress:this.customer.deliveryAddress}),this.editingId=null):this.customerService.addCustomer({name:this.customer.name,phoneNumber:this.customer.phoneNumber,deliveryAddress:this.customer.deliveryAddress}),this.resetForm())}editCustomer(e){this.editingId=e.id,this.customer={name:e.name,phoneNumber:e.phoneNumber||"",deliveryAddress:e.deliveryAddress||""}}cancelEdit(){this.editingId=null,this.resetForm()}resetForm(){this.customer={name:"",phoneNumber:"",deliveryAddress:""}}deleteCustomer(e){return M(this,null,function*(){(yield this.dialogService.confirm("Are you sure you want to delete this customer?","Delete Customer"))&&(this.customerService.deleteCustomer(e),this.editingId===e&&this.cancelEdit())})}isValid(){return!!(this.customer.name&&this.customer.phoneNumber&&this.customer.deliveryAddress)}get paginatedCustomers(){let e=(this.currentPage-1)*this.pageSize;return this.customers.slice(e,e+this.pageSize)}get totalPages(){return Math.ceil(this.customers.length/this.pageSize)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}goToPage(e){this.currentPage=e}getPageNumbers(){return Array(this.totalPages).fill(0).map((e,s)=>s+1)}static{this.\u0275fac=function(s){return new(s||r)(w(U),w(H))}}static{this.\u0275cmp=O({type:r,selectors:[["app-customer-form"]],standalone:!0,features:[F],decls:34,vars:12,consts:[["noCustomers",""],[1,"customer-container"],[1,"card"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","customerName"],["type","text","id","customerName","name","name","placeholder","Enter customer name","required","",3,"ngModelChange","ngModel"],["for","phoneNumber"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","e.g., +1 234 567 8900","required","",3,"ngModelChange","ngModel"],["for","deliveryAddress"],["id","deliveryAddress","name","deliveryAddress","placeholder","Enter full delivery address","rows","3","required","",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button","class","btn-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"icon"],[1,"badge"],["class","customer-list",4,"ngIf","ngIfElse"],["class","pagination",4,"ngIf"],["type","button",1,"btn-secondary",3,"click"],[1,"customer-list"],["class","customer-item",3,"editing",4,"ngFor","ngForOf"],[1,"customer-item"],[1,"customer-info"],[1,"customer-name"],[1,"customer-details"],[1,"detail-row"],[1,"detail-icon"],[1,"customer-actions"],[1,"btn-edit",3,"click","disabled"],[1,"btn-delete",3,"click","disabled"],[1,"pagination"],[1,"pagination-size"],["for","pageSize"],["id","pageSize",1,"page-size-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","pagination-controls",4,"ngIf"],[3,"value"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-pages"],["class","pagination-page",3,"active","click",4,"ngFor","ngForOf"],[1,"pagination-page",3,"click"],[1,"empty-state"]],template:function(s,t){if(s&1){let l=C();n(0,"div",1)(1,"div",2)(2,"h3"),a(3),i(),n(4,"form",3),_("ngSubmit",function(){return m(l),u(t.onSubmit())}),n(5,"div",4)(6,"label",5),a(7,"Customer Name *"),i(),n(8,"input",6),h("ngModelChange",function(p){return m(l),b(t.customer.name,p)||(t.customer.name=p),u(p)}),i()(),n(9,"div",4)(10,"label",7),a(11,"Phone Number *"),i(),n(12,"input",8),h("ngModelChange",function(p){return m(l),b(t.customer.phoneNumber,p)||(t.customer.phoneNumber=p),u(p)}),i()(),n(13,"div",4)(14,"label",9),a(15,"Delivery Address *"),i(),n(16,"textarea",10),h("ngModelChange",function(p){return m(l),b(t.customer.deliveryAddress,p)||(t.customer.deliveryAddress=p),u(p)}),i()(),n(17,"div",11),f(18,J,2,0,"button",12),n(19,"button",13)(20,"span"),a(21),i(),a(22),i()()()(),n(23,"div",2)(24,"h3")(25,"span",14),a(26,"\u{1F465}"),i(),a(27," Registered Customers "),n(28,"span",15),a(29),i()(),f(30,Q,2,1,"div",16)(31,$,9,3,"div",17)(32,ee,3,0,"ng-template",null,0,I),i()()}if(s&2){let l=E(33);o(3),v(t.editingId?"Edit Customer":"Register New Customer"),o(5),x("ngModel",t.customer.name),o(4),x("ngModel",t.customer.phoneNumber),o(4),x("ngModel",t.customer.deliveryAddress),o(2),d("ngIf",t.editingId),o(),d("disabled",!t.isValid()),o(2),v(t.editingId?"\u{1F4BE}":"\u{1F464}"),o(),P(" ",t.editingId?"Update Customer":"Add Customer"," "),o(7),v(t.customers.length),o(),d("ngIf",t.customers.length>0)("ngIfElse",l),o(),d("ngIf",t.totalPages>1||t.customers.length>5)}},dependencies:[k,V,N,G,j,q,L,D,B,z,T,R,W,A],styles:[".customer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-2xl)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin-top:var(--space-lg)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:inherit;font-size:.9375rem;padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);transition:all var(--transition-base);width:100%;resize:vertical}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-lg)}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.badge[_ngcontent-%COMP%]{margin-left:auto;background:var(--color-bg);color:var(--color-primary);padding:var(--space-xs) var(--space-md);border-radius:var(--radius-xl);font-size:.875rem;font-weight:600}.customer-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-top:var(--space-md)}.customer-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--space-sm);padding:var(--space-xs) var(--space-sm);background:var(--color-bg);border-radius:var(--radius-md);border:1px solid var(--color-border);transition:all var(--transition-base)}.customer-item[_ngcontent-%COMP%]:hover{background:#e0e7ff;transform:translate(2px)}.customer-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.customer-name[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:var(--color-text)}.customer-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:var(--space-lg);align-items:center}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:var(--color-text-muted)}.detail-icon[_ngcontent-%COMP%]{font-size:.9rem}.customer-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs)}.btn-delete[_ngcontent-%COMP%]{padding:0;background:transparent;border:1px solid var(--color-border);color:var(--color-danger);border-radius:var(--radius-md);font-size:.9rem;cursor:pointer;transition:all var(--transition-base);width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-delete[_ngcontent-%COMP%]:hover{background:var(--color-danger);border-color:var(--color-danger);transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted)}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);justify-content:flex-end}.btn-secondary[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-xl);background:transparent;border:1px solid var(--color-border);color:var(--color-text);border-radius:var(--radius-md);font-weight:600;cursor:pointer;transition:all var(--transition-base)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--color-bg);border-color:var(--color-text)}.btn-edit[_ngcontent-%COMP%]{padding:0;background:transparent;border:1px solid var(--color-border);color:var(--color-primary);border-radius:var(--radius-md);font-size:.9rem;cursor:pointer;transition:all var(--transition-base);width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-edit[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:#fff;border-color:var(--color-primary);transform:scale(1.1)}.btn-edit[_ngcontent-%COMP%]:disabled, .btn-delete[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.customer-item.editing[_ngcontent-%COMP%]{border-color:var(--color-primary);background:var(--color-surface);box-shadow:0 0 0 2px #3b82f61a}"]})}}return r})();export{le as a};

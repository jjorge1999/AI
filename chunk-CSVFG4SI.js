import{a as X}from"./chunk-KSHKVDE3.js";import{a as U,b as j,e as Q,g as R,h as G,i as Y,j as H,l as J,n as K}from"./chunk-ZPQL42FH.js";import{$a as A,Ca as v,Ea as d,Fa as N,Ga as k,Ia as o,Ja as i,Ka as S,La as _,Ma as u,Na as s,Ra as T,Sa as a,Ta as f,Ua as x,Va as O,X as D,Xa as b,Ya as C,Za as h,a as V,ab as I,b as L,cb as M,da as g,ea as m,eb as z,pa as w,sa as r,ta as F,tb as $,ub as W,wb as B,zb as q}from"./chunk-K7VUYT6X.js";function ee(t,p){if(t&1&&(o(0,"div",32)(1,"div",33),a(2),i(),o(3,"div",34),S(4,"div",35),i(),o(5,"div",36),a(6),i()()),t&2){let e=p.$implicit,l=s();r(2),f(e.category),r(2),N("width",e.total/l.totalSalesValue*100,"%"),d("title","$"+e.total.toFixed(2)),r(2),O("$",e.total.toFixed(2)," (",e.count,")")}}function te(t,p){t&1&&(o(0,"div",37),a(1," No sales data yet "),i())}function ie(t,p){if(t&1&&(o(0,"div",50),S(1,"img",51),i()),t&2){let e=s().$implicit;r(),d("src",e.imageUrl,w)("alt",e.name)}}function ne(t,p){t&1&&(o(0,"div",52)(1,"span",53),a(2,"\u{1F4E6}"),i()())}function oe(t,p){if(t&1){let e=_();o(0,"div",40),v(1,ie,2,2,"div",41)(2,ne,3,0,"div",42),o(3,"div",43)(4,"div",44),a(5),i(),o(6,"div",45),a(7),i()(),o(8,"div",46)(9,"div",47),a(10),i(),o(11,"div",48),a(12),i(),o(13,"button",49),u("click",function(){let n=g(e).$implicit,c=s(2);return m(c.openEditModal(n))}),a(14," \u270F\uFE0F Edit "),i()()()}if(t&2){let e=p.$implicit;r(),d("ngIf",e.imageUrl),r(),d("ngIf",!e.imageUrl),r(3),f(e.name),r(2),f(e.category),r(3),x("$",e.price.toFixed(2),""),r(2),x("Stock: ",e.quantity,"")}}function re(t,p){if(t&1&&(o(0,"div",38),v(1,oe,15,6,"div",39),i()),t&2){let e=s();r(),d("ngForOf",e.paginatedAvailableProducts)}}function ae(t,p){if(t&1&&(o(0,"option",59),a(1),i()),t&2){let e=p.$implicit;d("value",e),r(),f(e)}}function le(t,p){if(t&1){let e=_();o(0,"button",64),u("click",function(){let n=g(e).$implicit,c=s(3);return m(c.goToAvailablePage(n))}),a(1),i()}if(t&2){let e=p.$implicit,l=s(3);k("active",e===l.availableProductsPage),r(),x(" ",e," ")}}function ce(t,p){if(t&1){let e=_();o(0,"div",60)(1,"button",61),u("click",function(){g(e);let n=s(2);return m(n.prevAvailablePage())}),a(2," \u2190 Prev "),i(),o(3,"div",62),v(4,le,2,3,"button",63),i(),o(5,"button",61),u("click",function(){g(e);let n=s(2);return m(n.nextAvailablePage())}),a(6," Next \u2192 "),i()()}if(t&2){let e=s(2);r(),d("disabled",e.availableProductsPage===1),r(3),d("ngForOf",e.getPageNumbers(e.availableProductsTotalPages)),r(),d("disabled",e.availableProductsPage===e.availableProductsTotalPages)}}function de(t,p){if(t&1){let e=_();o(0,"div",54)(1,"div",55)(2,"label",56),a(3,"Show:"),i(),o(4,"select",57),h("ngModelChange",function(n){g(e);let c=s();return C(c.availableProductsPageSize,n)||(c.availableProductsPageSize=n),m(n)}),u("change",function(){g(e);let n=s();return m(n.onAvailablePageSizeChange())}),v(5,ae,2,2,"option",28),i(),o(6,"span"),a(7,"per page"),i()(),v(8,ce,7,3,"div",58),i()}if(t&2){let e=s();r(4),b("ngModel",e.availableProductsPageSize),r(),d("ngForOf",e.pageSizeOptions),r(3),d("ngIf",e.availableProductsTotalPages>1)}}function se(t,p){t&1&&(o(0,"div",65)(1,"p"),a(2,"No available products"),i()())}function pe(t,p){if(t&1&&(o(0,"span",80),a(1),i()),t&2){let e=s().$implicit;r(),x("(",e.quantityCount," items)")}}function ge(t,p){if(t&1&&(o(0,"div",81),a(1),i()),t&2){let e=s().$implicit;r(),O(" ",e.items[0].quantitySold," \xD7 $",e.items[0].price.toFixed(2)," ")}}function me(t,p){if(t&1&&(o(0,"div",83),a(1),i()),t&2){let e=p.$implicit;r(),O(" \u2022 ",e.productName," (x",e.quantitySold,") ")}}function ve(t,p){if(t&1&&(o(0,"div",81),v(1,me,2,2,"div",82),i()),t&2){let e=s().$implicit;r(),d("ngForOf",e.items)}}function ue(t,p){if(t&1&&(o(0,"span"),a(1),I(2,"date"),i()),t&2){let e=s().$implicit;r(),x("(",M(2,1,e.deliveryDate,"shortDate"),")")}}function _e(t,p){if(t&1&&(o(0,"div",70)(1,"div",71)(2,"div",72),a(3),v(4,pe,2,1,"span",73),i(),v(5,ge,2,2,"div",74)(6,ve,2,1,"div",74),o(7,"div",75),a(8," Pending Delivery "),v(9,ue,3,4,"span",76),i()(),o(10,"div",77)(11,"div",78),a(12),i(),o(13,"div",79),a(14),I(15,"date"),i()()()),t&2){let e=p.$implicit;r(3),x(" ",e.productName," "),r(),d("ngIf",e.isGroup),r(),d("ngIf",!e.isGroup),r(),d("ngIf",e.isGroup),r(3),d("ngIf",e.deliveryDate),r(3),x("$",e.total.toFixed(2),""),r(2),f(M(15,7,e.timestamp,"short"))}}function fe(t,p){if(t&1&&(o(0,"div",66)(1,"h3")(2,"span",5),a(3,"\u{1F69A}"),i(),a(4," Pending Deliveries "),o(5,"span",67),a(6),i()(),o(7,"div",68),v(8,_e,16,10,"div",69),i()()),t&2){let e=s();r(6),f(e.pendingSales.length),r(2),d("ngForOf",e.groupedPendingSales)}}function xe(t,p){if(t&1&&(o(0,"option",59),a(1),i()),t&2){let e=p.$implicit;d("value",e),r(),f(e)}}function Pe(t,p){if(t&1&&(o(0,"div",85),a(1),I(2,"date"),i()),t&2){let e=s().$implicit;r(),x(" \u{1F69A} ",M(2,1,e.deliveryDate,"MMM d, y")," ")}}function ye(t,p){if(t&1&&(o(0,"div",70)(1,"div",71)(2,"div",72),a(3),i(),o(4,"div",81),a(5),i(),v(6,Pe,3,4,"div",84),i(),o(7,"div",77)(8,"div",78),a(9),i(),o(10,"div",79),a(11),I(12,"date"),i()()()),t&2){let e=p.$implicit;r(3),f(e.productName),r(2),O(" ",e.quantitySold," \xD7 $",e.price.toFixed(2)," "),r(),d("ngIf",e.deliveryDate),r(3),x("$",e.total.toFixed(2),""),r(2),f(M(12,6,e.timestamp,"short"))}}function be(t,p){if(t&1&&(o(0,"div",68),v(1,ye,13,9,"div",69),i()),t&2){let e=s();r(),d("ngForOf",e.paginatedSales)}}function Ce(t,p){if(t&1&&(o(0,"option",59),a(1),i()),t&2){let e=p.$implicit;d("value",e),r(),f(e)}}function he(t,p){if(t&1){let e=_();o(0,"button",64),u("click",function(){let n=g(e).$implicit,c=s(3);return m(c.goToSalesPage(n))}),a(1),i()}if(t&2){let e=p.$implicit,l=s(3);k("active",e===l.salesPage),r(),x(" ",e," ")}}function Se(t,p){if(t&1){let e=_();o(0,"div",60)(1,"button",61),u("click",function(){g(e);let n=s(2);return m(n.prevSalesPage())}),a(2," \u2190 Prev "),i(),o(3,"div",62),v(4,he,2,3,"button",63),i(),o(5,"button",61),u("click",function(){g(e);let n=s(2);return m(n.nextSalesPage())}),a(6," Next \u2192 "),i()()}if(t&2){let e=s(2);r(),d("disabled",e.salesPage===1),r(3),d("ngForOf",e.getPageNumbers(e.salesTotalPages)),r(),d("disabled",e.salesPage===e.salesTotalPages)}}function Oe(t,p){if(t&1){let e=_();o(0,"div",54)(1,"div",55)(2,"label",86),a(3,"Show:"),i(),o(4,"select",87),h("ngModelChange",function(n){g(e);let c=s();return C(c.salesPageSize,n)||(c.salesPageSize=n),m(n)}),u("change",function(){g(e);let n=s();return m(n.onSalesPageSizeChange())}),v(5,Ce,2,2,"option",28),i(),o(6,"span"),a(7,"per page"),i()(),v(8,Se,7,3,"div",58),i()}if(t&2){let e=s();r(4),b("ngModel",e.salesPageSize),r(),d("ngForOf",e.pageSizeOptions),r(3),d("ngIf",e.salesTotalPages>1)}}function Ie(t,p){t&1&&(o(0,"div",65)(1,"p"),a(2,"No sales yet"),i()())}function Me(t,p){if(t&1&&(o(0,"div",50),S(1,"img",51),i()),t&2){let e=s().$implicit;r(),d("src",e.imageUrl,w)("alt",e.name)}}function we(t,p){t&1&&(o(0,"div",52)(1,"span",53),a(2,"\u{1F4E6}"),i()())}function ke(t,p){if(t&1&&(o(0,"option",59),a(1),i()),t&2){let e=p.$implicit;d("value",e),r(),f(e)}}function Ee(t,p){if(t&1){let e=_();o(0,"button",64),u("click",function(){let n=g(e).$implicit,c=s(5);return m(c.goToOutOfStockPage(n))}),a(1),i()}if(t&2){let e=p.$implicit,l=s(5);k("active",e===l.outOfStockPage),r(),x(" ",e," ")}}function Te(t,p){if(t&1){let e=_();o(0,"div",60)(1,"button",61),u("click",function(){g(e);let n=s(4);return m(n.prevOutOfStockPage())}),a(2," \u2190 Prev "),i(),o(3,"div",62),v(4,Ee,2,3,"button",63),i(),o(5,"button",61),u("click",function(){g(e);let n=s(4);return m(n.nextOutOfStockPage())}),a(6," Next \u2192 "),i()()}if(t&2){let e=s(4);r(),d("disabled",e.outOfStockPage===1),r(3),d("ngForOf",e.getPageNumbers(e.outOfStockTotalPages)),r(),d("disabled",e.outOfStockPage===e.outOfStockTotalPages)}}function ze(t,p){if(t&1){let e=_();o(0,"div",54)(1,"div",55)(2,"label",94),a(3,"Show:"),i(),o(4,"select",95),h("ngModelChange",function(n){g(e);let c=s(3);return C(c.outOfStockPageSize,n)||(c.outOfStockPageSize=n),m(n)}),u("change",function(){g(e);let n=s(3);return m(n.onOutOfStockPageSizeChange())}),v(5,ke,2,2,"option",28),i(),o(6,"span"),a(7,"per page"),i()(),v(8,Te,7,3,"div",58),i()}if(t&2){let e=s(3);r(4),b("ngModel",e.outOfStockPageSize),r(),d("ngForOf",e.pageSizeOptions),r(3),d("ngIf",e.outOfStockTotalPages>1)}}function Ve(t,p){if(t&1){let e=_();o(0,"div",90),v(1,Me,2,2,"div",41)(2,we,3,0,"div",42),o(3,"div",43)(4,"div",44),a(5),o(6,"div")(7,"div",45),a(8),i()(),o(9,"div",46)(10,"div",47),a(11),i(),o(12,"div",91),a(13,"Out of Stock"),i(),o(14,"div",92)(15,"button",93),u("click",function(){let n=g(e).$implicit,c=s(2);return m(c.onRestock(n))}),a(16," \u2795 Restock "),i()()()()(),v(17,ze,9,3,"div",22),i()}if(t&2){let e=p.$implicit,l=s(2);r(),d("ngIf",e.imageUrl),r(),d("ngIf",!e.imageUrl),r(3),x(" ",e.name,""),r(3),f(e.category),r(3),x("$",e.price.toFixed(2),""),r(6),d("ngIf",l.outOfStockTotalPages>1||l.outOfStockProducts.length>10)}}function Le(t,p){if(t&1&&(o(0,"div",88)(1,"h3")(2,"span",5),a(3,"\u26A0\uFE0F"),i(),a(4," Out of Stock "),o(5,"span",67),a(6),i()(),o(7,"div",38),v(8,Ve,18,6,"div",89),i()()),t&2){let e=s();r(6),f(e.outOfStockProducts.length),r(2),d("ngForOf",e.paginatedOutOfStockProducts)}}function De(t,p){if(t&1){let e=_();o(0,"div",115),S(1,"img",116),o(2,"button",117),u("click",function(){g(e);let n=s(2);return m(n.removeEditImage())}),a(3," Remove Image "),i()()}if(t&2){let e=s(2);r(),d("src",e.editImagePreview,w)}}function Fe(t,p){if(t&1){let e=_();o(0,"div",118)(1,"input",119),u("change",function(n){g(e);let c=s(2);return m(c.onEditImageChange(n))}),i(),o(2,"label",120),a(3," \u{1F4F7} Upload Image "),i()()}}function Ne(t,p){if(t&1){let e=_();o(0,"div",96),u("click",function(){g(e);let n=s();return m(n.closeEditModal())}),o(1,"div",97),u("click",function(n){return g(e),m(n.stopPropagation())}),o(2,"div",98)(3,"h3"),a(4,"Edit Product"),i(),o(5,"button",99),u("click",function(){g(e);let n=s();return m(n.closeEditModal())}),a(6,"\xD7"),i()(),o(7,"div",100)(8,"div",101)(9,"label",102),a(10,"Product Image"),i(),v(11,De,4,1,"div",103)(12,Fe,4,0,"div",104),i(),o(13,"div",105)(14,"label",106),a(15,"Product Name"),i(),o(16,"input",107),h("ngModelChange",function(n){g(e);let c=s();return C(c.editProductName,n)||(c.editProductName=n),m(n)}),i()(),o(17,"div",105)(18,"label",108),a(19,"Stock Quantity"),i(),o(20,"input",109),h("ngModelChange",function(n){g(e);let c=s();return C(c.editProductQuantity,n)||(c.editProductQuantity=n),m(n)}),i()(),o(21,"div",105)(22,"label",110),a(23,"Price"),i(),o(24,"input",111),h("ngModelChange",function(n){g(e);let c=s();return C(c.editProductPrice,n)||(c.editProductPrice=n),m(n)}),i()()(),o(25,"div",112)(26,"button",113),u("click",function(){g(e);let n=s();return m(n.closeEditModal())}),a(27,"Cancel"),i(),o(28,"button",114),u("click",function(){g(e);let n=s();return m(n.saveProductEdit())}),a(29,"Save Changes"),i()()()()}if(t&2){let e=s();r(11),d("ngIf",e.editImagePreview),r(),d("ngIf",!e.editImagePreview),r(4),b("ngModel",e.editProductName),r(4),b("ngModel",e.editProductQuantity),r(4),b("ngModel",e.editProductPrice)}}var je=(()=>{class t{constructor(e){this.inventoryService=e,this.products=[],this.sales=[],this.selectedCategory="All",this.categories=["All","Lechon","Hollow blocks","Sand and Gravel","Copra","Others"],this.pageSizeOptions=[10,20,50,100],this.availableProductsPage=1,this.availableProductsPageSize=10,this.salesPage=1,this.salesPageSize=10,this.outOfStockPage=1,this.outOfStockPageSize=10,this.isEditModalOpen=!1,this.editingProduct=null,this.editProductName="",this.editProductQuantity=0,this.editProductPrice=0,this.editProductImage="",this.editImagePreview=null}ngOnInit(){this.inventoryService.getProducts().subscribe(e=>{this.products=e}),this.inventoryService.getSales().subscribe(e=>{this.sales=e})}get pendingSales(){return this.sales.filter(e=>e.pending===!0)}get groupedPendingSales(){let e=new Map,l=[];this.pendingSales.forEach(c=>{c.orderId?(e.has(c.orderId)||e.set(c.orderId,[]),e.get(c.orderId).push(c)):l.push(c)});let n=[];return e.forEach((c,P)=>{let y=c[0];n.push({isGroup:!0,orderId:P,sales:c,total:c.reduce((E,Z)=>E+Z.total,0),productName:`Order #${P.substring(4,10)}...`,quantityCount:c.length,items:c,timestamp:y.timestamp,deliveryDate:y.deliveryDate,pending:!0})}),l.forEach(c=>{n.push({isGroup:!1,sales:[c],total:c.total,productName:c.productName,quantityCount:1,items:[c],timestamp:c.timestamp,deliveryDate:c.deliveryDate,pending:!0})}),n.sort((c,P)=>{let y=c.deliveryDate?new Date(c.deliveryDate).getTime():1/0,E=P.deliveryDate?new Date(P.deliveryDate).getTime():1/0;return y-E})}get filteredSales(){let e=this.sales.filter(l=>l.pending!==!0);return this.selectedCategory==="All"?e:e.filter(l=>l.category===this.selectedCategory)}get availableProducts(){return this.products.filter(e=>e.quantity>0)}get paginatedAvailableProducts(){let e=(this.availableProductsPage-1)*this.availableProductsPageSize,l=e+this.availableProductsPageSize;return this.availableProducts.slice(e,l)}get availableProductsTotalPages(){return Math.ceil(this.availableProducts.length/this.availableProductsPageSize)}get outOfStockProducts(){return this.products.filter(e=>e.quantity===0)}get paginatedOutOfStockProducts(){let e=(this.outOfStockPage-1)*this.outOfStockPageSize,l=e+this.outOfStockPageSize;return this.outOfStockProducts.slice(e,l)}get outOfStockTotalPages(){return Math.ceil(this.outOfStockProducts.length/this.outOfStockPageSize)}get paginatedSales(){let e=(this.salesPage-1)*this.salesPageSize,l=e+this.salesPageSize;return this.filteredSales.slice(e,l)}get salesTotalPages(){return Math.ceil(this.filteredSales.length/this.salesPageSize)}get salesByCategory(){let e=new Map;return this.sales.filter(l=>!l.pending).forEach(l=>{let n=e.get(l.category)||{total:0,count:0};e.set(l.category,{total:n.total+l.total,count:n.count+1})}),Array.from(e.entries()).map(([l,n])=>({category:l,total:n.total,count:n.count}))}get totalInventoryValue(){return this.products.reduce((e,l)=>e+l.price*l.quantity,0)}get totalSalesValue(){return this.sales.filter(e=>!e.pending).reduce((e,l)=>e+l.total,0)}nextAvailablePage(){this.availableProductsPage<this.availableProductsTotalPages&&this.availableProductsPage++}prevAvailablePage(){this.availableProductsPage>1&&this.availableProductsPage--}goToAvailablePage(e){e>=1&&e<=this.availableProductsTotalPages&&(this.availableProductsPage=e)}nextSalesPage(){this.salesPage<this.salesTotalPages&&this.salesPage++}prevSalesPage(){this.salesPage>1&&this.salesPage--}goToSalesPage(e){e>=1&&e<=this.salesTotalPages&&(this.salesPage=e)}nextOutOfStockPage(){this.outOfStockPage<this.outOfStockTotalPages&&this.outOfStockPage++}prevOutOfStockPage(){this.outOfStockPage>1&&this.outOfStockPage--}goToOutOfStockPage(e){this.outOfStockPage=e}onAvailablePageSizeChange(){this.availableProductsPage=1}onSalesPageSizeChange(){this.salesPage=1}onOutOfStockPageSizeChange(){this.outOfStockPage=1}getPageNumbers(e){return Array.from({length:e},(l,n)=>n+1)}onRestock(e){let l=prompt(`Enter quantity to add for ${e.name}:`);if(l){let n=parseInt(l,10);!isNaN(n)&&n>0?this.inventoryService.restockProduct(e.id,n):alert("Please enter a valid number greater than 0")}}openEditModal(e){this.editingProduct=e,this.editProductName=e.name,this.editProductQuantity=e.quantity,this.editProductPrice=e.price,this.editProductImage=e.imageUrl||"",this.editImagePreview=e.imageUrl||null,this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editingProduct=null,this.editProductName="",this.editProductQuantity=0,this.editProductPrice=0,this.editProductImage="",this.editImagePreview=null}onEditImageChange(e){let l=e.target;if(l.files&&l.files[0]){let n=l.files[0],c=new FileReader;c.onload=P=>{this.editImagePreview=P.target?.result,this.editProductImage=P.target?.result},c.readAsDataURL(n)}}removeEditImage(){this.editImagePreview=null,this.editProductImage=""}saveProductEdit(){if(!this.editingProduct)return;if(!this.editProductName.trim()){alert("Product name cannot be empty");return}if(this.editProductQuantity<0){alert("Quantity cannot be negative");return}if(this.editProductPrice<0){alert("Price cannot be negative");return}let e=L(V({},this.editingProduct),{name:this.editProductName,quantity:this.editProductQuantity,price:this.editProductPrice,imageUrl:this.editProductImage});this.inventoryService.updateProduct(e),this.closeEditModal()}static{this.\u0275fac=function(l){return new(l||t)(F(X))}}static{this.\u0275cmp=D({type:t,selectors:[["app-inventory-list"]],standalone:!0,features:[A],decls:63,vars:17,consts:[["noAvailable",""],["noSales",""],[1,"inventory-section"],[1,"inventory-content"],[1,"card","analytics-card"],[1,"icon"],[1,"analytics-grid"],[1,"chart-container"],[1,"bar-chart"],["class","bar-item",4,"ngFor","ngForOf"],["class","empty-chart",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"stat-card","success"],[1,"lists-container"],[1,"card"],[1,"badge"],["class","product-list",4,"ngIf","ngIfElse"],["class","pagination",4,"ngIf"],["class","card pending-section",4,"ngIf"],[1,"section-header"],[1,"filter-group"],["for","categoryFilter"],["id","categoryFilter",1,"category-filter",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","sales-list",4,"ngIf","ngIfElse"],["class","card out-of-stock-section",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"bar-item"],[1,"bar-label"],[1,"bar-wrapper"],[1,"bar-fill",3,"title"],[1,"bar-value"],[1,"empty-chart"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],["class","product-image-wrapper",4,"ngIf"],["class","product-image-wrapper placeholder",4,"ngIf"],[1,"product-info"],[1,"product-name"],[1,"product-category"],[1,"product-details"],[1,"product-price"],[1,"product-stock"],[1,"btn-edit-sm",3,"click"],[1,"product-image-wrapper"],["loading","lazy",1,"product-image",3,"src","alt"],[1,"product-image-wrapper","placeholder"],[1,"placeholder-icon"],[1,"pagination"],[1,"pagination-size"],["for","availablePageSize"],["id","availablePageSize",1,"page-size-select",3,"ngModelChange","change","ngModel"],["class","pagination-controls",4,"ngIf"],[3,"value"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-pages"],["class","pagination-page",3,"active","click",4,"ngFor","ngForOf"],[1,"pagination-page",3,"click"],[1,"empty-state"],[1,"card","pending-section"],[1,"badge","warning"],[1,"sales-list"],["class","sale-item",4,"ngFor","ngForOf"],[1,"sale-item"],[1,"sale-info"],[1,"sale-name"],["style","font-size:0.8em; color:gray",4,"ngIf"],["class","sale-details-text",4,"ngIf"],[1,"delivery-badge","warning"],[4,"ngIf"],[1,"sale-amount"],[1,"sale-total"],[1,"sale-date"],[2,"font-size","0.8em","color","gray"],[1,"sale-details-text"],["style","font-size:0.9em; margin-bottom:2px",4,"ngFor","ngForOf"],[2,"font-size","0.9em","margin-bottom","2px"],["class","delivery-badge",4,"ngIf"],[1,"delivery-badge"],["for","salesPageSize"],["id","salesPageSize",1,"page-size-select",3,"ngModelChange","change","ngModel"],[1,"card","out-of-stock-section"],["class","product-item dimmed",4,"ngFor","ngForOf"],[1,"product-item","dimmed"],[1,"product-stock","out"],[1,"product-actions"],[1,"btn-restock",3,"click"],["for","outOfStockPageSize"],["id","outOfStockPageSize",1,"page-size-select",3,"ngModelChange","change","ngModel"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"edit-image-section"],[1,"edit-label"],["class","edit-image-preview-container",4,"ngIf"],["class","edit-image-upload",4,"ngIf"],[1,"form-group"],["for","editName"],["type","text","id","editName",1,"text-input",3,"ngModelChange","ngModel"],["for","editQuantity"],["type","number","id","editQuantity","min","0",1,"number-input",3,"ngModelChange","ngModel"],["for","editPrice"],["type","number","id","editPrice","min","0","step","0.01",1,"number-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"edit-image-preview-container"],["alt","Product preview",1,"edit-image-preview",3,"src"],["type","button",1,"remove-edit-image-btn",3,"click"],[1,"edit-image-upload"],["type","file","id","editProductImage","accept","image/*",1,"file-input",3,"change"],["for","editProductImage",1,"btn-upload"]],template:function(l,n){if(l&1){let c=_();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3")(4,"span",5),a(5,"\u{1F4C8}"),i(),a(6," Sales Analytics "),i(),o(7,"div",6)(8,"div",7)(9,"h4"),a(10,"Sales by Category"),i(),o(11,"div",8),v(12,ee,7,6,"div",9)(13,te,2,0,"div",10),i()()()(),o(14,"div",11)(15,"div",12)(16,"div",13),a(17,"\u{1F4B0}"),i(),o(18,"div",14)(19,"div",15),a(20,"Total Inventory Value"),i(),o(21,"div",16),a(22),i()()(),o(23,"div",17)(24,"div",13),a(25,"\u{1F4CA}"),i(),o(26,"div",14)(27,"div",15),a(28,"Total Sales"),i(),o(29,"div",16),a(30),i()()()(),o(31,"div",18)(32,"div",19)(33,"h3")(34,"span",5),a(35,"\u{1F4E6}"),i(),a(36," Available Inventory "),o(37,"span",20),a(38),i()(),v(39,re,2,1,"div",21)(40,de,9,3,"div",22)(41,se,3,0,"ng-template",null,0,z),i(),v(43,fe,9,2,"div",23),o(44,"div",19)(45,"div",24)(46,"h3")(47,"span",5),a(48,"\u{1F4B0}"),i(),a(49," Sales History "),o(50,"span",20),a(51),i()(),o(52,"div",25)(53,"label",26),a(54,"Filter by Category:"),i(),o(55,"select",27),h("ngModelChange",function(y){return g(c),C(n.selectedCategory,y)||(n.selectedCategory=y),m(y)}),u("change",function(){return g(c),m(n.salesPage=1)}),v(56,xe,2,2,"option",28),i()()(),v(57,be,2,1,"div",29)(58,Oe,9,3,"div",22)(59,Ie,3,0,"ng-template",null,1,z),i(),v(61,Le,9,2,"div",30)(62,Ne,30,5,"div",31),i()()()}if(l&2){let c=T(42),P=T(60);r(12),d("ngForOf",n.salesByCategory),r(),d("ngIf",n.salesByCategory.length===0),r(9),x("$",n.totalInventoryValue.toFixed(2),""),r(8),x("$",n.totalSalesValue.toFixed(2),""),r(8),f(n.availableProducts.length),r(),d("ngIf",n.availableProducts.length>0)("ngIfElse",c),r(),d("ngIf",n.availableProductsTotalPages>1||n.availableProducts.length>10),r(3),d("ngIf",n.pendingSales.length>0),r(8),f(n.filteredSales.length),r(4),b("ngModel",n.selectedCategory),r(),d("ngForOf",n.categories),r(),d("ngIf",n.sales.length>0)("ngIfElse",P),r(),d("ngIf",n.salesTotalPages>1||n.filteredSales.length>10),r(3),d("ngIf",n.outOfStockProducts.length>0),r(),d("ngIf",n.isEditModalOpen)}},dependencies:[q,$,W,B,K,Y,H,U,R,G,j,J,Q],styles:[".inventory-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xl)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--space-lg);margin-bottom:var(--space-2xl)}.analytics-card[_ngcontent-%COMP%]{margin-bottom:var(--space-2xl)}.analytics-grid[_ngcontent-%COMP%]{margin-top:var(--space-lg)}.chart-container[_ngcontent-%COMP%]{background:var(--color-bg);padding:var(--space-lg);border-radius:var(--radius-md)}.chart-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 var(--space-lg) 0;color:var(--color-text);font-size:1rem}.bar-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.bar-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr 120px;gap:var(--space-sm);align-items:center}.bar-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.bar-wrapper[_ngcontent-%COMP%]{height:24px;background:var(--color-surface);border-radius:var(--radius-md);overflow:hidden;border:1px solid var(--color-border)}.bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--color-primary),var(--color-success));transition:width .3s ease;min-width:2%}.bar-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-text);text-align:right}.empty-chart[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted);font-style:italic}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--space-md);margin-bottom:var(--space-lg)}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.category-filter[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);font-size:.875rem;cursor:pointer;transition:all var(--transition-base)}.category-filter[_ngcontent-%COMP%]:hover{border-color:var(--color-primary)}.category-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-dark));color:#fff;padding:var(--space-xl);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:var(--space-lg)}.stat-card.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success),#059669)}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem}.stat-info[_ngcontent-%COMP%]{flex:1}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9;margin-bottom:var(--space-sm)}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.lists-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:var(--space-xl)}h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-lg)}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.badge[_ngcontent-%COMP%]{margin-left:auto;background:var(--color-bg);color:var(--color-primary);padding:var(--space-xs) var(--space-md);border-radius:var(--radius-xl);font-size:.875rem;font-weight:600}.badge.warning[_ngcontent-%COMP%]{background:#fef3c7;color:var(--color-warning)}.product-list[_ngcontent-%COMP%], .sales-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.product-item[_ngcontent-%COMP%], .sale-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--space-md);padding:var(--space-md);background:var(--color-bg);border-radius:var(--radius-md);transition:all var(--transition-base)}.product-image-wrapper[_ngcontent-%COMP%]{flex-shrink:0;width:60px;height:60px;border-radius:var(--radius-md);overflow:hidden;background:var(--color-surface);border:1px solid var(--color-border);display:flex;align-items:center;justify-content:center}.product-image-wrapper.placeholder[_ngcontent-%COMP%]{background:var(--color-bg)}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.placeholder-icon[_ngcontent-%COMP%]{font-size:1.5rem;opacity:.5}.product-item[_ngcontent-%COMP%]:hover, .sale-item[_ngcontent-%COMP%]:hover{background:#e0e7ff;transform:translate(4px)}.product-item.dimmed[_ngcontent-%COMP%]{opacity:.5}.product-info[_ngcontent-%COMP%], .sale-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs);flex:1;align-self:flex-start;padding-top:4px}.product-name[_ngcontent-%COMP%], .sale-name[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.product-category[_ngcontent-%COMP%], .sale-details-text[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted)}.delivery-badge[_ngcontent-%COMP%]{display:inline-block;margin-top:var(--space-xs);padding:var(--space-xs) var(--space-sm);background:#10b9811a;color:var(--color-success);border-radius:var(--radius-sm);font-size:.75rem;font-weight:500}.product-details[_ngcontent-%COMP%], .sale-amount[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:var(--space-xs)}.product-price[_ngcontent-%COMP%], .sale-total[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:var(--color-primary)}.product-stock[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-success);font-weight:500}.product-stock.out[_ngcontent-%COMP%]{color:var(--color-danger)}.sale-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted)}.out-of-stock-section[_ngcontent-%COMP%]{border:2px solid rgba(239,68,68,.2)}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md);margin-top:var(--space-lg);padding-top:var(--space-lg);border-top:1px solid var(--color-border)}.pagination-size[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:.875rem;color:var(--color-text)}.pagination-size[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.page-size-select[_ngcontent-%COMP%]{padding:var(--space-xs) var(--space-sm);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);font-size:.875rem;cursor:pointer;transition:all var(--transition-base)}.page-size-select[_ngcontent-%COMP%]:hover{border-color:var(--color-primary)}.page-size-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm)}.pagination-btn[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);background:var(--color-surface);border:1px solid var(--color-border);color:var(--color-text);border-radius:var(--radius-md);font-size:.875rem;font-weight:500;cursor:pointer;transition:all var(--transition-base)}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary);color:#fff;border-color:var(--color-primary);transform:translateY(-1px)}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;transform:none}.pagination-pages[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap;justify-content:center}.pagination-page[_ngcontent-%COMP%]{min-width:36px;height:36px;padding:var(--space-xs) var(--space-sm);background:var(--color-surface);border:1px solid var(--color-border);color:var(--color-text);border-radius:var(--radius-md);font-size:.875rem;font-weight:500;cursor:pointer;transition:all var(--transition-base);display:flex;align-items:center;justify-content:center}.pagination-page[_ngcontent-%COMP%]:hover{background:var(--color-bg);border-color:var(--color-primary);transform:translateY(-1px)}.pagination-page.active[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}@media (max-width: 768px){.lists-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.pagination[_ngcontent-%COMP%]{flex-wrap:wrap}.pagination-pages[_ngcontent-%COMP%]{order:3;width:100%;margin-top:var(--space-sm)}h3[_ngcontent-%COMP%]{font-size:1.25rem}.product-name[_ngcontent-%COMP%], .sale-name[_ngcontent-%COMP%]{font-size:.95rem}.product-category[_ngcontent-%COMP%], .sale-details-text[_ngcontent-%COMP%]{font-size:.8rem}.product-price[_ngcontent-%COMP%], .sale-total[_ngcontent-%COMP%]{font-size:1rem}.product-stock[_ngcontent-%COMP%], .sale-date[_ngcontent-%COMP%]{font-size:.75rem}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.btn-restock[_ngcontent-%COMP%]{margin-top:var(--space-xs);padding:var(--space-xs) var(--space-sm);background:var(--color-primary-light);color:#fff;border:none;border-radius:var(--radius-sm);font-size:.75rem;font-weight:500;cursor:pointer;transition:all var(--transition-base)}.btn-restock[_ngcontent-%COMP%]:hover{background:var(--color-primary);transform:translateY(-1px)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{background-color:var(--color-surface);padding:2rem;border-radius:12px;width:90%;max-width:500px;box-shadow:0 10px 25px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-out;color:var(--color-text)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;border-bottom:1px solid var(--color-border);padding-bottom:1rem}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--color-text)}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--color-text-muted)}.modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.modal-footer[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:flex-end;gap:1rem;padding-top:1rem;border-top:1px solid var(--color-border)}.btn-cancel[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--color-border);background-color:var(--color-surface);color:var(--color-text);border-radius:6px;cursor:pointer;font-weight:500;transition:background-color .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:var(--color-bg)}.btn-save[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#4caf50;color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:500}.btn-save[_ngcontent-%COMP%]:hover{background-color:#45a049}.btn-edit-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:transparent;color:var(--color-primary);border:1px solid var(--color-primary);border-radius:4px;cursor:pointer;font-size:.75rem;font-weight:500;transition:all .2s;margin-left:.5rem}.btn-edit-sm[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.product-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.edit-image-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.edit-label[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text);font-size:.9rem}.edit-image-preview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;align-items:flex-start}.edit-image-preview[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:var(--radius-md);border:1px solid var(--color-border)}.remove-edit-image-btn[_ngcontent-%COMP%]{font-size:.8rem;color:var(--color-danger);background:none;border:none;cursor:pointer;padding:0;text-decoration:underline}.remove-edit-image-btn[_ngcontent-%COMP%]:hover{text-decoration:none}.edit-image-upload[_ngcontent-%COMP%]{display:flex;align-items:center}.edit-image-upload[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{opacity:0;width:.1px;height:.1px;position:absolute}.btn-upload[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background-color:var(--color-bg);border:1px dashed var(--color-border);border-radius:var(--radius-md);color:var(--color-text-muted);font-size:.9rem;cursor:pointer;transition:all .2s;width:100%;justify-content:center}.btn-upload[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);color:var(--color-primary);background-color:#f0f9ff}"]})}}return t})();export{je as a};

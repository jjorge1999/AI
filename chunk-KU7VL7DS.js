import{a as L}from"./chunk-5TFQBXGH.js";import{a as R}from"./chunk-VYKVMX3Y.js";import{a as k,b as A,c as T,d as z,e as W,f as j,m as q,n as B}from"./chunk-ZPQL42FH.js";import{$a as I,Ca as b,Ea as u,Ga as P,Ia as r,Ja as n,La as C,Ma as v,Na as g,Ra as O,Sa as i,Ta as p,Ua as E,X as S,Xa as _,Ya as x,Za as h,c as w,da as m,ea as c,eb as N,sa as o,ta as M,tb as F,ub as D,zb as V}from"./chunk-K7VUYT6X.js";function G(a,f){if(a&1){let e=C();r(0,"button",17),v("click",function(){m(e);let t=g();return c(t.cancelEdit())}),i(1," Cancel "),n()}}function U(a,f){if(a&1){let e=C();r(0,"div",20)(1,"div",21)(2,"div",22),i(3),n(),r(4,"div",23)(5,"div",24)(6,"span",25),i(7,"\u{1F4DE}"),n(),r(8,"span"),i(9),n()(),r(10,"div",24)(11,"span",25),i(12,"\u{1F4CD}"),n(),r(13,"span"),i(14),n()()()(),r(15,"div",26)(16,"button",27),v("click",function(){let t=m(e).$implicit,l=g(2);return c(l.editCustomer(t))}),i(17," \u270F\uFE0F "),n(),r(18,"button",28),v("click",function(){let t=m(e).$implicit,l=g(2);return c(l.deleteCustomer(t.id))}),i(19," \u{1F5D1}\uFE0F "),n()()()}if(a&2){let e=f.$implicit,s=g(2);P("editing",e.id===s.editingId),o(3),p(e.name),o(6),p(e.phoneNumber),o(5),p(e.deliveryAddress),o(2),u("disabled",!!s.editingId&&s.editingId!==e.id),o(2),u("disabled",!!s.editingId)}}function H(a,f){if(a&1&&(r(0,"div",18),b(1,U,20,7,"div",19),n()),a&2){let e=g();o(),u("ngForOf",e.customers)}}function J(a,f){a&1&&(r(0,"div",29)(1,"p"),i(2,"No customers registered yet"),n()())}var te=(()=>{class a{constructor(e,s){this.customerService=e,this.dialogService=s,this.customers=[],this.editingId=null,this.customer={name:"",phoneNumber:"",deliveryAddress:""}}ngOnInit(){this.customerService.getCustomers().subscribe(e=>{this.customers=e})}onSubmit(){this.isValid()&&(this.editingId?(this.customerService.updateCustomer(this.editingId,{name:this.customer.name,phoneNumber:this.customer.phoneNumber,deliveryAddress:this.customer.deliveryAddress}),this.editingId=null):this.customerService.addCustomer({name:this.customer.name,phoneNumber:this.customer.phoneNumber,deliveryAddress:this.customer.deliveryAddress}),this.resetForm())}editCustomer(e){this.editingId=e.id,this.customer={name:e.name,phoneNumber:e.phoneNumber||"",deliveryAddress:e.deliveryAddress||""}}cancelEdit(){this.editingId=null,this.resetForm()}resetForm(){this.customer={name:"",phoneNumber:"",deliveryAddress:""}}deleteCustomer(e){return w(this,null,function*(){(yield this.dialogService.confirm("Are you sure you want to delete this customer?","Delete Customer"))&&(this.customerService.deleteCustomer(e),this.editingId===e&&this.cancelEdit())})}isValid(){return!!(this.customer.name&&this.customer.phoneNumber&&this.customer.deliveryAddress)}static{this.\u0275fac=function(s){return new(s||a)(M(R),M(L))}}static{this.\u0275cmp=S({type:a,selectors:[["app-customer-form"]],standalone:!0,features:[I],decls:33,vars:11,consts:[["noCustomers",""],[1,"customer-container"],[1,"card"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","customerName"],["type","text","id","customerName","name","name","placeholder","Enter customer name","required","",3,"ngModelChange","ngModel"],["for","phoneNumber"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","e.g., +1 234 567 8900","required","",3,"ngModelChange","ngModel"],["for","deliveryAddress"],["id","deliveryAddress","name","deliveryAddress","placeholder","Enter full delivery address","rows","3","required","",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button","class","btn-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"icon"],[1,"badge"],["class","customer-list",4,"ngIf","ngIfElse"],["type","button",1,"btn-secondary",3,"click"],[1,"customer-list"],["class","customer-item",3,"editing",4,"ngFor","ngForOf"],[1,"customer-item"],[1,"customer-info"],[1,"customer-name"],[1,"customer-details"],[1,"detail-row"],[1,"detail-icon"],[1,"customer-actions"],[1,"btn-edit",3,"click","disabled"],[1,"btn-delete",3,"click","disabled"],[1,"empty-state"]],template:function(s,t){if(s&1){let l=C();r(0,"div",1)(1,"div",2)(2,"h3"),i(3),n(),r(4,"form",3),v("ngSubmit",function(){return m(l),c(t.onSubmit())}),r(5,"div",4)(6,"label",5),i(7,"Customer Name *"),n(),r(8,"input",6),h("ngModelChange",function(d){return m(l),x(t.customer.name,d)||(t.customer.name=d),c(d)}),n()(),r(9,"div",4)(10,"label",7),i(11,"Phone Number *"),n(),r(12,"input",8),h("ngModelChange",function(d){return m(l),x(t.customer.phoneNumber,d)||(t.customer.phoneNumber=d),c(d)}),n()(),r(13,"div",4)(14,"label",9),i(15,"Delivery Address *"),n(),r(16,"textarea",10),h("ngModelChange",function(d){return m(l),x(t.customer.deliveryAddress,d)||(t.customer.deliveryAddress=d),c(d)}),n()(),r(17,"div",11),b(18,G,2,0,"button",12),r(19,"button",13)(20,"span"),i(21),n(),i(22),n()()()(),r(23,"div",2)(24,"h3")(25,"span",14),i(26,"\u{1F465}"),n(),i(27," Registered Customers "),r(28,"span",15),i(29),n()(),b(30,H,2,1,"div",16)(31,J,3,0,"ng-template",null,0,N),n()()}if(s&2){let l=O(32);o(3),p(t.editingId?"Edit Customer":"Register New Customer"),o(5),_("ngModel",t.customer.name),o(4),_("ngModel",t.customer.phoneNumber),o(4),_("ngModel",t.customer.deliveryAddress),o(2),u("ngIf",t.editingId),o(),u("disabled",!t.isValid()),o(2),p(t.editingId?"\u{1F4BE}":"\u{1F464}"),o(),E(" ",t.editingId?"Update Customer":"Add Customer"," "),o(7),p(t.customers.length),o(),u("ngIf",t.customers.length>0)("ngIfElse",l)}},dependencies:[V,F,D,B,j,k,A,T,q,W,z],styles:[".customer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-2xl)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin-top:var(--space-lg)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:inherit;font-size:.9375rem;padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);transition:all var(--transition-base);width:100%;resize:vertical}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-lg)}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.badge[_ngcontent-%COMP%]{margin-left:auto;background:var(--color-bg);color:var(--color-primary);padding:var(--space-xs) var(--space-md);border-radius:var(--radius-xl);font-size:.875rem;font-weight:600}.customer-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-top:var(--space-md)}.customer-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--space-sm);padding:var(--space-xs) var(--space-sm);background:var(--color-bg);border-radius:var(--radius-md);border:1px solid var(--color-border);transition:all var(--transition-base)}.customer-item[_ngcontent-%COMP%]:hover{background:#e0e7ff;transform:translate(2px)}.customer-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.customer-name[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:var(--color-text)}.customer-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:var(--space-lg);align-items:center}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:var(--color-text-muted)}.detail-icon[_ngcontent-%COMP%]{font-size:.9rem}.customer-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs)}.btn-delete[_ngcontent-%COMP%]{padding:0;background:transparent;border:1px solid var(--color-border);color:var(--color-danger);border-radius:var(--radius-md);font-size:.9rem;cursor:pointer;transition:all var(--transition-base);width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-delete[_ngcontent-%COMP%]:hover{background:var(--color-danger);border-color:var(--color-danger);transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted)}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);justify-content:flex-end}.btn-secondary[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-xl);background:transparent;border:1px solid var(--color-border);color:var(--color-text);border-radius:var(--radius-md);font-weight:600;cursor:pointer;transition:all var(--transition-base)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--color-bg);border-color:var(--color-text)}.btn-edit[_ngcontent-%COMP%]{padding:0;background:transparent;border:1px solid var(--color-border);color:var(--color-primary);border-radius:var(--radius-md);font-size:.9rem;cursor:pointer;transition:all var(--transition-base);width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-edit[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:#fff;border-color:var(--color-primary);transform:scale(1.1)}.btn-edit[_ngcontent-%COMP%]:disabled, .btn-delete[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.customer-item.editing[_ngcontent-%COMP%]{border-color:var(--color-primary);background:var(--color-surface);box-shadow:0 0 0 2px #3b82f61a}"]})}}return a})();export{te as a};

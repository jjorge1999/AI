import{a as X}from"./chunk-HCDRVIEA.js";import{a as Q,b as q,c as H,f as G,p as J}from"./chunk-FPAFKXL4.js";import{a as $}from"./chunk-U2YG2SLE.js";import"./chunk-5M6G2CG4.js";import"./chunk-RYSERWOP.js";import{a as Z}from"./chunk-22TPNUCU.js";import"./chunk-BOWZELNC.js";import{$b as B,Ba as s,Ca as O,Eb as F,Ra as x,Ta as _,Va as I,Ya as n,Za as r,_ as N,_a as k,a as D,ac as R,bb as y,cb as u,db as d,fb as W,ga as c,ha as p,hc as Y,kb as V,lb as i,mb as v,nb as T,p as L,qb as C,qc as K,rb as w,sb as M,ub as j,xa as E}from"./chunk-N535F6OD.js";import{a as U}from"./chunk-7QOE2ANW.js";function ee(l,f){if(l&1&&k(0,"img",45),l&2){let e=d().$implicit;W("alt","",e.name," logo"),_("src",e.logoUrl,E)}}function te(l,f){l&1&&(n(0,"span",10),i(1,"storefront"),r())}function ne(l,f){l&1&&(n(0,"span",46),i(1,"Active Context"),r())}function re(l,f){l&1&&(n(0,"span",47)(1,"span",48),i(2,"security"),r(),i(3," Super Branch "),r())}function ie(l,f){if(l&1){let e=y();n(0,"button",49),u("click",function(t){c(e);let o=d().$implicit;return d(2).onDeleteStore(o,t),p(t.stopPropagation())}),n(1,"span",10),i(2,"delete_outline"),r()()}}function oe(l,f){l&1&&(n(0,"p",50),i(1," Assignment required "),r())}function ae(l,f){if(l&1){let e=y();n(0,"div",24),u("click",function(){let t=c(e).$implicit,o=d(2);return p(o.openEditModal(t))})("keydown.enter",function(){let t=c(e).$implicit,o=d(2);return p(o.openEditModal(t))}),k(1,"span",25),n(2,"div",26)(3,"div",27),x(4,ee,1,3,"img",28)(5,te,2,0,"ng-template",null,1,F),r(),n(7,"div",29)(8,"h3"),i(9),r(),n(10,"div",30),x(11,ne,2,0,"span",31)(12,re,4,0,"span",32),r()(),x(13,ie,3,0,"button",33),r(),n(14,"div",34)(15,"div",35)(16,"span",10),i(17,"location_on"),r(),n(18,"span"),i(19),r()(),n(20,"div",35)(21,"span",10),i(22,"phone"),r(),n(23,"span"),i(24),r()()(),n(25,"div",36)(26,"div",37)(27,"div",38)(28,"span",39),i(29),r(),n(30,"span",40),i(31,"Products"),r()(),n(32,"div",38)(33,"span",39),i(34),r(),n(35,"span",40),i(36,"Sales"),r()(),n(37,"div",41)(38,"span",39),i(39),r(),n(40,"span",40),i(41,"Admin"),r()(),n(42,"div",38)(43,"span",39),i(44),r(),n(45,"span",40),i(46,"Users"),r()()(),n(47,"div",42)(48,"button",43),u("click",function(t){let o=c(e).$implicit;return d(2).onSwitchStore(o.id),p(t.stopPropagation())}),i(49),r(),x(50,oe,2,0,"p",44),r()()()}if(l&2){let e=f.$implicit,a=V(6),t=d(2);I("active-context",t.getActiveStoreId()===e.id),s(4),_("ngIf",e.logoUrl)("ngIfElse",a),s(5),v(e.name),s(2),_("ngIf",t.getActiveStoreId()===e.id),s(),_("ngIf",e.isSuperAdminOnly),s(),_("ngIf",!e.isSuperAdminOnly),s(6),v(e.address||"No address provided"),s(5),v(e.phoneNumber||"No phone set"),s(5),v((t.storeStats[e.id]==null?null:t.storeStats[e.id].products)||0),s(5),v((t.storeStats[e.id]==null?null:t.storeStats[e.id].sales)||0),s(5),v((t.storeStats[e.id]==null?null:t.storeStats[e.id].admins)||0),s(5),v((t.storeStats[e.id]==null?null:t.storeStats[e.id].staff)||0),s(4),I("disabled",!t.canSwitchToStore(e.id)),_("disabled",!t.canSwitchToStore(e.id))("title",t.canSwitchToStore(e.id)?"Switch to this store":"You must be assigned to this store to switch"),s(),T(" ",t.canSwitchToStore(e.id)?"Switch Context":"Restricted"," "),s(),_("ngIf",!t.canSwitchToStore(e.id))}}function le(l,f){if(l&1&&(n(0,"div",22),x(1,ae,51,20,"div",23),r()),l&2){let e=d();s(),_("ngForOf",e.filteredStores)}}function se(l,f){l&1&&(n(0,"p"),i(1,"Try adjusting your search query or clear filters."),r())}function de(l,f){l&1&&(n(0,"p"),i(1,"Start by registering your first store branch."),r())}function ce(l,f){if(l&1){let e=y();n(0,"div",51)(1,"div",52),k(2,"img",53),r(),n(3,"h2"),i(4,"No stores found"),r(),x(5,se,2,0,"p",54)(6,de,2,0,"p",54),n(7,"button",55),u("click",function(){c(e);let t=d();return p(t.openAddModal())}),i(8,"Add Your First Store"),r()()}if(l&2){let e=d();s(5),_("ngIf",e.searchQuery),s(),_("ngIf",!e.searchQuery)}}function pe(l,f){if(l&1){let e=y();n(0,"div",87),k(1,"img",88),n(2,"button",89),u("click",function(t){return c(e),d(2).removeLogo(),p(t.stopPropagation())}),n(3,"span",48),i(4,"delete"),r()(),n(5,"input",90),u("change",function(t){c(e);let o=d(2);return p(o.onLogoChange(t))}),r()()}if(l&2){let e=d(2);s(),_("src",e.logoPreview,E)}}function ge(l,f){if(l&1){let e=y();n(0,"div",91)(1,"span",48),i(2,"add_photo_alternate"),r(),n(3,"p"),i(4,"Upload Logo"),r(),n(5,"input",92),u("change",function(t){c(e);let o=d(2);return p(o.onLogoChange(t))}),r()()}}function me(l,f){if(l&1){let e=y();n(0,"div",56),u("click",function(){c(e);let t=d();return p(t.closeModal())})("keydown.escape",function(){c(e);let t=d();return p(t.closeModal())}),n(1,"div",57),u("click",function(t){return c(e),p(t.stopPropagation())})("keydown",function(t){return c(e),p(t.stopPropagation())}),n(2,"div",58)(3,"h2",59),i(4),r(),n(5,"button",60),u("click",function(){c(e);let t=d();return p(t.closeModal())}),n(6,"span",10),i(7,"close"),r()()(),n(8,"div",61)(9,"div",62)(10,"div",63)(11,"label",64),i(12,"Store Logo"),r(),n(13,"div",65),x(14,pe,6,1,"div",66)(15,ge,6,0,"div",67),r()(),n(16,"div",63)(17,"label",68),i(18,"Store Name *"),r(),n(19,"div",69)(20,"span",10),i(21,"badge"),r(),n(22,"input",70),M("ngModelChange",function(t){c(e);let o=d();return w(o.storeForm.name,t)||(o.storeForm.name=t),p(t)}),r()()(),n(23,"div",71)(24,"label",72),i(25,"Phone Number"),r(),n(26,"div",69)(27,"span",10),i(28,"phone"),r(),n(29,"input",73),M("ngModelChange",function(t){c(e);let o=d();return w(o.storeForm.phoneNumber,t)||(o.storeForm.phoneNumber=t),p(t)}),r()()(),n(30,"div",71)(31,"label",74),i(32,"Status"),r(),n(33,"div",75)(34,"span"),i(35,"Active"),r(),n(36,"input",76),M("ngModelChange",function(t){c(e);let o=d();return w(o.storeForm.isActive,t)||(o.storeForm.isActive=t),p(t)}),r()()(),n(37,"div",71)(38,"label",77),i(39,"Super Admin Only"),r(),n(40,"div",75)(41,"span",78),i(42,"security"),r(),n(43,"input",79),M("ngModelChange",function(t){c(e);let o=d();return w(o.storeForm.isSuperAdminOnly,t)||(o.storeForm.isSuperAdminOnly=t),p(t)}),r()()(),n(44,"div",63)(45,"label",80),i(46,"Business Address"),r(),n(47,"div",69)(48,"span",10),i(49,"place"),r(),n(50,"input",81),M("ngModelChange",function(t){c(e);let o=d();return w(o.storeForm.address,t)||(o.storeForm.address=t),p(t)}),r()()(),n(51,"div",63)(52,"label",82),i(53,"Notes / Description"),r(),n(54,"textarea",83),M("ngModelChange",function(t){c(e);let o=d();return w(o.storeForm.description,t)||(o.storeForm.description=t),p(t)}),r()()()(),n(55,"div",84)(56,"button",85),u("click",function(){c(e);let t=d();return p(t.closeModal())}),i(57,"Cancel"),r(),n(58,"button",86),u("click",function(){c(e);let t=d();return p(t.saveStore())}),i(59),r()()()()}if(l&2){let e=d();s(4),v(e.isEditing?"Edit Store Details":"Register New Branch"),s(10),_("ngIf",e.logoPreview),s(),_("ngIf",!e.logoPreview),s(7),C("ngModel",e.storeForm.name),s(7),C("ngModel",e.storeForm.phoneNumber),s(7),C("ngModel",e.storeForm.isActive),s(7),C("ngModel",e.storeForm.isSuperAdminOnly),s(7),C("ngModel",e.storeForm.address),s(4),C("ngModel",e.storeForm.description),s(5),T(" ",e.isEditing?"Update Records":"Save Branch"," ")}}var we=(()=>{class l{constructor(e,a,t,o){this.storeService=e,this.dialogService=a,this.inventoryService=t,this.userService=o,this.stores=[],this.filteredStores=[],this.searchQuery="",this.isModalOpen=!1,this.isEditing=!1,this.editingStoreId=null,this.storeForm={name:"",address:"",phoneNumber:"",description:"",isActive:!0,isSuperAdminOnly:!1,logoUrl:""},this.logoPreview=null,this.storeStats={},this.currentUser=null,this.sub=new D}ngOnInit(){this.sub.add(L([this.storeService.stores$,this.inventoryService.getProducts(),this.inventoryService.getSales(),this.userService.users$,this.userService.currentUser$]).subscribe(([e,a,t,o,h])=>{this.stores=e,this.currentUser=h,this.storeStats={},e.forEach(g=>{this.storeStats[g.id]={products:a.filter(m=>m.storeId===g.id).length,sales:t.filter(m=>m.storeId===g.id).length,admins:o.filter(m=>m.storeId===g.id&&m.role==="super-admin").length,staff:o.filter(m=>m.storeId===g.id&&(m.role==="admin"||m.role==="user")).length}}),this.applyFilter()})),this.storeService.loadStores(),this.inventoryService.reloadData(),this.userService.loadUsers()}ngOnDestroy(){this.sub.unsubscribe()}applyFilter(){if(this.searchQuery){let e=this.searchQuery.toLowerCase();this.filteredStores=this.stores.filter(a=>a.name.toLowerCase().includes(e)||a.address?.toLowerCase().includes(e)||a.phoneNumber?.toLowerCase().includes(e))}else this.filteredStores=[...this.stores]}openAddModal(){this.isEditing=!1,this.editingStoreId=null,this.storeForm={name:"",address:"",phoneNumber:"",description:"",isActive:!0,isSuperAdminOnly:!1,logoUrl:""},this.logoPreview=null,this.isModalOpen=!0}openEditModal(e){this.isEditing=!0,this.editingStoreId=e.id,this.storeForm=U({},e),this.logoPreview=e.logoUrl||null,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}saveStore(){if(!this.storeForm.name){this.dialogService.error("Store name is required");return}this.isEditing&&this.editingStoreId?this.storeService.updateStore(this.editingStoreId,this.storeForm).subscribe({next:()=>{this.dialogService.success("Store updated successfully"),this.closeModal()},error:e=>{console.error("Update failed:",e);let a=e.error?.details||e.error?.error||"Failed to update store";this.dialogService.error(a)}}):this.storeService.createStore(this.storeForm).subscribe({next:()=>{this.dialogService.success("Store created successfully"),this.closeModal()},error:()=>this.dialogService.error("Failed to create store")})}onDeleteStore(e,a){if(a.stopPropagation(),e.isSuperAdminOnly){this.dialogService.error("This is a protected system-level branch and cannot be deleted.","Action Restricted");return}this.dialogService.confirm("Are you sure you want to delete this store? All associated data might be affected.","Delete Store").subscribe(t=>{t&&this.storeService.deleteStore(e.id).subscribe({next:()=>this.dialogService.success("Store deleted successfully"),error:()=>this.dialogService.error("Failed to delete store")})})}onSwitchStore(e){if(!this.canSwitchToStore(e)){this.dialogService.error("Access Denied: You are not assigned to this store branch.","Permission Restricted");return}this.storeService.setActiveStore(e),this.dialogService.success("Switched active store context")}canSwitchToStore(e){return this.currentUser?this.currentUser.role==="super-admin"?!0:this.stores.find(o=>o.id===e)?.isSuperAdminOnly?!1:(this.currentUser.storeIds||[]).includes(e)||this.currentUser.storeId===e:!1}onLogoChange(e){let a=e.target;if(a.files?.[0]){let t=a.files[0],o=new FileReader;o.onload=h=>{let g=new Image;g.src=h.target.result,g.onload=()=>{let m=document.createElement("canvas"),b=g.width,S=g.height,P=400;(b>P||S>P)&&(b>S?(S=Math.round(S*P/b),b=P):(b=Math.round(b*P/S),S=P)),m.width=b,m.height=S;let A=m.getContext("2d");if(A){A.drawImage(g,0,0,b,S);let z=m.toDataURL("image/jpeg",.8);this.logoPreview=z,this.storeForm.logoUrl=z}}},o.readAsDataURL(t)}}removeLogo(){this.logoPreview=null,this.storeForm.logoUrl=""}getActiveStoreId(){return this.storeService.getActiveStoreId()}onMigrateData(){let e=this.getActiveStoreId();if(!e){this.dialogService.error("Please select an active store first");return}this.dialogService.confirm("Migrate Legacy Data?","This will move all products, sales, and customers that are NOT currently assigned to any store into your ACTIVE store context. This is usually done once when setting up branches.").subscribe(a=>{a&&this.storeService.migrateData(e).subscribe({next:t=>{let o=t?.summary||{},h=Object.values(o).reduce((g,m)=>g+Number(m),0);this.dialogService.success(`Migration complete! Successfully moved ${h} records.`),this.inventoryService.reloadData()},error:()=>this.dialogService.error("Migration failed. Please check network logs.")})})}static{this.\u0275fac=function(a){return new(a||l)(O(K),O(Z),O($),O(X))}}static{this.\u0275cmp=N({type:l,selectors:[["app-store-management"]],hostBindings:function(a,t){a&1&&u("keydown.escape",function(){return t.closeModal()})},standalone:!0,features:[j],decls:40,vars:6,consts:[["emptyState",""],["defaultIcon",""],[1,"store-mgmt-wrapper"],[1,"mgmt-header"],[1,"header-content"],[1,"title-group"],[1,"premium-title"],[1,"subtitle"],[1,"header-actions-top"],["title","Move unassigned data to current store","type","button",1,"btn-migrate",3,"click"],["aria-hidden","true",1,"material-icon"],["type","button",1,"btn-create","premium-shadow",3,"click"],[1,"filter-bar","glass"],[1,"search-input-group"],["type","text","placeholder","Search by name, address or phone...","aria-label","Search stores",3,"ngModelChange","ngModel"],[1,"stats-overview"],[1,"stat-mini"],[1,"stat-label"],[1,"stat-value"],[1,"stores-container"],["class","store-grid",4,"ngIf","ngIfElse"],["class","modal-overlay","role","dialog","aria-modal","true","aria-labelledby","modal-title",3,"click","keydown.escape",4,"ngIf"],[1,"store-grid"],["class","store-premium-card","tabindex","0","role","button",3,"active-context","click","keydown.enter",4,"ngFor","ngForOf"],["tabindex","0","role","button",1,"store-premium-card",3,"click","keydown.enter"],["aria-hidden","true",1,"card-glow"],[1,"card-header"],[1,"store-icon-wrapper"],["class","store-logo-img",3,"src","alt",4,"ngIf","ngIfElse"],[1,"header-info"],[1,"header-badges"],["class","active-badge",4,"ngIf"],["class","super-badge",4,"ngIf"],["class","btn-delete-subtle","title","Delete Store","type","button",3,"click",4,"ngIf"],[1,"card-body"],[1,"info-row"],[1,"card-footer"],[1,"store-stats"],[1,"mini-stat"],[1,"val"],[1,"label"],[1,"mini-stat","highlight"],[1,"switch-actions"],["type","button",1,"btn-switch",3,"click","disabled","title"],["class","restricted-text",4,"ngIf"],[1,"store-logo-img",3,"src","alt"],[1,"active-badge"],[1,"super-badge"],[1,"material-icon"],["title","Delete Store","type","button",1,"btn-delete-subtle",3,"click"],[1,"restricted-text"],[1,"empty-layout"],[1,"empty-illustration"],["src","assets/store_empty.png","alt","No stores illustration",1,"premium-shadow"],[4,"ngIf"],["type","button",1,"btn-primary",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","modal-title",1,"modal-overlay",3,"click","keydown.escape"],[1,"modal-card","glass",3,"click","keydown"],[1,"modal-header"],["id","modal-title"],["aria-label","Close modal","type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-grid"],[1,"input-field","full"],["for","logo-upload"],[1,"logo-upload-container"],["class","logo-preview-box",4,"ngIf"],["class","logo-placeholder",4,"ngIf"],["for","reg-name"],[1,"input-wrapper"],["id","reg-name","type","text","placeholder","e.g. Downtown Mall Branch",3,"ngModelChange","ngModel"],[1,"input-field","half"],["for","reg-phone"],["id","reg-phone","type","text","placeholder","+254 ...",3,"ngModelChange","ngModel"],["for","reg-status"],[1,"toggle-wrapper",2,"display","flex","align-items","center","gap","10px","height","100%"],["id","reg-status","type","checkbox",2,"width","20px","height","20px","cursor","pointer",3,"ngModelChange","ngModel"],["for","reg-super"],[1,"material-icon",2,"color","#6366f1","font-size","20px"],["id","reg-super","type","checkbox",2,"width","20px","height","20px","cursor","pointer",3,"ngModelChange","ngModel"],["for","reg-address"],["id","reg-address","type","text","placeholder","Physical location details",3,"ngModelChange","ngModel"],["for","reg-desc"],["id","reg-desc","rows","3","placeholder","Optional notes about this branch...",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","button",1,"btn-save","premium-shadow",3,"click"],[1,"logo-preview-box"],["alt","Store logo preview",3,"src"],["type","button","aria-label","Remove logo",1,"btn-remove-logo",3,"click"],["type","file","accept","image/*","aria-label","Change store logo",1,"logo-input",3,"change"],[1,"logo-placeholder"],["id","logo-upload","type","file","accept","image/*","aria-label","Upload store logo",1,"logo-input",3,"change"]],template:function(a,t){if(a&1){let o=y();n(0,"div",2)(1,"header",3)(2,"div",4)(3,"div",5)(4,"h1",6),i(5,"Store Management"),r(),n(6,"p",7),i(7,"Manage and monitor all your physical branches from one place"),r()(),n(8,"div",8)(9,"button",9),u("click",function(){return c(o),p(t.onMigrateData())}),n(10,"span",10),i(11,"settings_backup_restore"),r(),n(12,"span"),i(13,"Migrate Data"),r()(),n(14,"button",11),u("click",function(){return c(o),p(t.openAddModal())}),n(15,"span",10),i(16,"add_business"),r(),n(17,"span"),i(18,"Register New Store"),r()()()(),n(19,"div",12)(20,"div",13)(21,"span",10),i(22,"search"),r(),n(23,"input",14),M("ngModelChange",function(g){return c(o),w(t.searchQuery,g)||(t.searchQuery=g),p(g)}),u("ngModelChange",function(){return c(o),p(t.applyFilter())}),r()(),n(24,"div",15)(25,"div",16)(26,"span",17),i(27,"Total Stores"),r(),n(28,"span",18),i(29),r()(),n(30,"div",16)(31,"span",17),i(32,"Active Branches"),r(),n(33,"span",18),i(34),r()()()()(),n(35,"div",19),x(36,le,2,1,"div",20)(37,ce,9,2,"ng-template",null,0,F),r(),x(39,me,60,10,"div",21),r()}if(a&2){let o=V(38);s(23),C("ngModel",t.searchQuery),s(6),v(t.stores.length),s(5),v(t.stores.length),s(2),_("ngIf",t.filteredStores.length>0)("ngIfElse",o),s(3),_("ngIf",t.isModalOpen)}},dependencies:[Y,B,R,J,q,Q,H,G],styles:['.store-mgmt-wrapper[_ngcontent-%COMP%]{padding:var(--space-xl);max-width:1400px;margin:0 auto;min-height:100vh;background:var(--color-bg)}.mgmt-header[_ngcontent-%COMP%]{margin-bottom:var(--space-2xl)}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:var(--space-xl)}.header-actions-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md)}.btn-migrate[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);background:transparent;color:var(--color-text-muted);border:1px solid var(--color-border);padding:.75rem 1.5rem;border-radius:var(--radius-lg);font-weight:600;cursor:pointer;transition:all .3s ease}.btn-migrate[_ngcontent-%COMP%]:hover{background:var(--color-surface);color:var(--color-primary);border-color:var(--color-primary);transform:translateY(-2px)}.premium-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,var(--color-primary),#a855f7);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin:0}.subtitle[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:1.1rem;margin:var(--space-xs) 0 0 0}.btn-create[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);background:linear-gradient(135deg,var(--color-primary),#7c3aed);color:#fff;border:none;padding:1rem 2rem;border-radius:var(--radius-lg);font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1)}.btn-create[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 10px 25px -5px #7c3aed66}.filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-md) var(--space-xl);border-radius:var(--radius-xl);border:1px solid rgba(255,255,255,.1)}.glass[_ngcontent-%COMP%]{background:#ffffff0d;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.search-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);background:#0003;padding:.75rem 1.25rem;border-radius:var(--radius-full);width:400px}.search-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;width:100%;outline:none;font-size:.95rem}.stats-overview[_ngcontent-%COMP%]{display:flex;gap:var(--space-2xl)}.stat-mini[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:1px;color:var(--color-text-muted)}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-primary)}.store-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:var(--space-xl)}.store-premium-card[_ngcontent-%COMP%]{position:relative;background:var(--color-surface);border-radius:var(--radius-2xl);padding:var(--space-xl);border:1px solid var(--color-border);cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1);overflow:hidden;display:flex;flex-direction:column;gap:var(--space-lg)}.store-premium-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);border-color:var(--color-primary);box-shadow:var(--shadow-2xl)}.store-premium-card.active-context[_ngcontent-%COMP%]{border:2px solid var(--color-primary);background:linear-gradient(to bottom,var(--color-surface),rgba(124,58,237,.05))}.card-glow[_ngcontent-%COMP%]{position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,rgba(124,58,237,.05) 0%,transparent 70%);pointer-events:none}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md)}.store-icon-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;background:linear-gradient(135deg,#7c3aed1a,#a855f71a);border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;color:var(--color-primary)}.header-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.35rem;font-weight:800;color:var(--color-text);line-height:1.2}.store-logo-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:var(--radius-lg)}.header-badges[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;margin-top:4px}.active-badge[_ngcontent-%COMP%]{font-size:.65rem;background:var(--color-primary);color:#fff;padding:2px 10px;border-radius:var(--radius-full);font-weight:700;text-transform:uppercase;box-shadow:0 2px 8px #6366f14d}.super-badge[_ngcontent-%COMP%]{font-size:.65rem;background:linear-gradient(135deg,#3730a3,#312e81);color:#fff;padding:2px 10px;border-radius:var(--radius-full);font-weight:700;text-transform:uppercase;box-shadow:0 2px 8px #312e8166;display:flex;align-items:center;gap:4px}.super-badge[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:12px}.btn-delete-subtle[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;color:var(--color-text-muted);cursor:pointer;padding:8px;border-radius:50%;transition:all .2s}.btn-delete-subtle[_ngcontent-%COMP%]:hover{background:#ef44441a;color:var(--color-danger)}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:var(--space-sm)}.info-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--space-sm);color:var(--color-text);font-size:.9rem}.info-row[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--color-primary)}.card-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md);padding-top:var(--space-lg);border-top:1px solid var(--color-border);margin-top:auto}.store-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-sm)}.mini-stat[_ngcontent-%COMP%]{padding:.5rem;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-lg);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;transition:all .2s ease;min-height:60px}.mini-stat.highlight[_ngcontent-%COMP%]{background:#ffd7000d;border-color:#ffd70033}.mini-stat.highlight[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{color:#c5a021}.mini-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.6rem;text-transform:uppercase;color:var(--color-text-muted);font-weight:700;letter-spacing:.05em;margin-top:1px}.mini-stat[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:800;color:var(--color-text);line-height:1;white-space:nowrap}.switch-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.btn-switch[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:var(--color-primary);color:#fff;border:none;border-radius:var(--radius-lg);font-weight:700;cursor:pointer;transition:all .3s ease}.btn-switch[_ngcontent-%COMP%]:hover:not(.disabled){background:var(--color-primary-dark);transform:translateY(-2px);box-shadow:0 4px 12px #6366f14d}.btn-switch.disabled[_ngcontent-%COMP%]{background:var(--color-surface);color:var(--color-text-muted);border:1px solid var(--color-border);cursor:not-allowed;opacity:.7}.restricted-text[_ngcontent-%COMP%]{font-size:.7rem;color:var(--color-danger);text-align:center;font-weight:500;margin:0}.empty-layout[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl) 0}.empty-illustration[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px;margin-bottom:var(--space-xl);filter:drop-shadow(0 20px 30px rgba(0,0,0,.2))}.empty-layout[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:var(--space-sm)}.empty-layout[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-muted);margin-bottom:var(--space-xl)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:var(--space-xl)}.modal-card[_ngcontent-%COMP%]{width:100%;max-width:600px;max-height:90vh;background:var(--color-surface);border-radius:var(--radius-3xl);border:1px solid rgba(255,255,255,.1);overflow:hidden;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_modalIn .4s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_modalIn{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{padding:var(--space-xl);display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--color-border)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;margin:0}.modal-body[_ngcontent-%COMP%]{padding:var(--space-xl);overflow-y:auto;flex:1}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-xl)}.input-field.full[_ngcontent-%COMP%]{grid-column:span 2}.input-field.half[_ngcontent-%COMP%]{grid-column:span 1}.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:600;margin-bottom:8px;color:var(--color-text-muted)}.input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);background:var(--color-bg);padding:.85rem 1rem;border-radius:var(--radius-lg);border:1px solid var(--color-border);transition:all .2s}.input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--color-primary);box-shadow:0 0 0 4px #7c3aed1a}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--color-text);width:100%;outline:none}textarea[_ngcontent-%COMP%]{width:100%;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:1rem;color:var(--color-text);outline:none;resize:none}.modal-footer[_ngcontent-%COMP%]{padding:var(--space-xl);display:flex;justify-content:flex-end;gap:var(--space-md);background:#0000000d}.btn-secondary[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--color-border);color:var(--color-text);padding:.75rem 1.5rem;border-radius:var(--radius-lg);font-weight:600;cursor:pointer}.btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),#7c3aed);color:#fff;border:none;padding:.75rem 2rem;border-radius:var(--radius-lg);font-weight:700;cursor:pointer}.logo-upload-container[_ngcontent-%COMP%]{margin-top:.5rem}.logo-preview-box[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;border-radius:var(--radius-xl);overflow:hidden;border:2px solid var(--color-primary);box-shadow:0 8px 16px #0000001a;cursor:pointer}.logo-preview-box[_ngcontent-%COMP%]:after{content:"Change Logo";position:absolute;inset:0;background:#0009;color:#fff;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700;opacity:0;transition:opacity .3s}.logo-preview-box[_ngcontent-%COMP%]:hover:after{opacity:1}.logo-preview-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.btn-remove-logo[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background:#ef4444;color:#fff;border:none;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;z-index:10}.btn-remove-logo[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:var(--color-danger)}.logo-placeholder[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;border:2px dashed var(--color-border);border-radius:var(--radius-xl);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;color:var(--color-text);cursor:pointer;transition:all .3s;background:var(--color-bg)}.logo-placeholder[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);background:#7c3aed0d;color:var(--color-primary)}.logo-placeholder[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:32px}.logo-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;margin:0}.logo-input[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;cursor:pointer}.store-premium-card[_ngcontent-%COMP%]:focus-visible{outline:3px solid var(--color-primary);outline-offset:4px}body.dark-theme[_nghost-%COMP%]   .glass[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .glass[_ngcontent-%COMP%]{background:#0f172a99;border:1px solid rgba(255,255,255,.05)}body.dark-theme[_nghost-%COMP%]   .mini-stat[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .mini-stat[_ngcontent-%COMP%]{background:#1e293b}body.dark-theme[_nghost-%COMP%]   .modal-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .modal-card[_ngcontent-%COMP%]{background:#0f172a}']})}}return l})();export{we as StoreManagementComponent};

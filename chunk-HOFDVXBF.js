import{b as lt}from"./chunk-VK5DVZBR.js";import"./chunk-MIPRC6FC.js";import{d as ct}from"./chunk-WDA6IXAE.js";import"./chunk-Z5ZNEV7G.js";import"./chunk-6KUWSICS.js";import{b as H,c as J,d as K,e as G,f as X,g as $,h as Z,i as tt,j as et,k as nt,m as it,n as rt,p as ot}from"./chunk-WU6DJJUB.js";import{a as at}from"./chunk-4KKS43UV.js";import{Ab as T,Ba as a,Ca as F,Cb as A,Ra as b,Ta as m,Ua as L,Va as E,Ya as n,Za as i,_ as R,_a as V,ac as U,bb as h,bc as B,cb as g,db as s,fc as Q,ga as d,ha as p,ic as Y,lb as r,mb as _,nb as v,ob as D,pb as W,qb as C,rb as y,sb as P,ub as j,xa as N}from"./chunk-TA5RWKR2.js";import{a as z,b as q}from"./chunk-7QOE2ANW.js";function st(l,u){if(l&1&&(n(0,"option",46),r(1),i()),l&2){let t=u.$implicit;m("value",t.name),a(),_(t.name)}}function dt(l,u){l&1&&(n(0,"span",70),r(1,"inventory_2"),i())}function pt(l,u){if(l&1&&(n(0,"span"),r(1),i()),l&2){let t=s().$implicit,o=s();a(),_(o.formatCurrency(t.cost))}}function gt(l,u){l&1&&(n(0,"span",71),r(1,"\u2014"),i())}function mt(l,u){if(l&1&&(n(0,"span",72),r(1),T(2,"number"),i()),l&2){let t=s().$implicit;E("positive",t.price-t.cost>0)("negative",t.price-t.cost<0),a(),v(" ",A(2,5,(t.price-t.cost)/t.price*100,"1.0-0"),"% ")}}function ut(l,u){l&1&&(n(0,"span",73),r(1,"\u2014"),i())}function _t(l,u){if(l&1){let t=h();n(0,"tr",47)(1,"td")(2,"div",48)(3,"div",49),b(4,dt,2,0,"span",50),i(),n(5,"span",51),r(6),i()()(),n(7,"td",52),r(8),i(),n(9,"td")(10,"span",53),r(11),i()(),n(12,"td",54),r(13),i(),n(14,"td",55),b(15,pt,2,1,"span",40)(16,gt,2,0,"span",56),i(),n(17,"td",57),b(18,mt,3,8,"span",58)(19,ut,2,0,"span",59),i(),n(20,"td")(21,"div",60)(22,"div",61)(23,"span",62),r(24),i()(),n(25,"div",63),V(26,"div",64),i()()(),n(27,"td")(28,"span",65),V(29,"span",66),r(30),i()(),n(31,"td",38)(32,"div",67)(33,"button",68),g("click",function(){let e=d(t).$implicit,c=s();return p(c.openEditModal(e))}),n(34,"span",13),r(35,"edit"),i()(),n(36,"button",69),g("click",function(){let e=d(t).$implicit,c=s();return p(c.deleteProduct(e))}),n(37,"span",13),r(38,"delete"),i()()()()()}if(l&2){let t=u.$implicit,o=s();a(3),L("background-image",t.imageUrl?"url("+t.imageUrl+")":"none"),a(),m("ngIf",!t.imageUrl),a(2),_(t.name),a(2),_(t.id.slice(0,8).toUpperCase()),a(3),_(t.category),a(2),_(o.formatCurrency(t.price)),a(2),m("ngIf",t.cost),a(),m("ngIf",!t.cost),a(2),m("ngIf",t.cost),a(),m("ngIf",!t.cost),a(4),E("low",o.getStockStatus(t.quantity)==="low-stock")("out",o.getStockStatus(t.quantity)==="out-of-stock"),a(),v(" ",t.quantity," left "),a(2),L("width",o.getStockPercent(t.quantity),"%"),E("low",o.getStockStatus(t.quantity)==="low-stock")("out",o.getStockStatus(t.quantity)==="out-of-stock"),a(2),E("active",o.getStockStatus(t.quantity)==="active")("low-stock",o.getStockStatus(t.quantity)==="low-stock")("out-of-stock",o.getStockStatus(t.quantity)==="out-of-stock"),a(2),v(" ",o.getStockStatusLabel(t.quantity)," ")}}function ft(l,u){if(l&1){let t=h();n(0,"tr")(1,"td",74)(2,"div",75)(3,"span",76),r(4,"inventory_2"),i(),n(5,"p"),r(6,"No products found"),i(),n(7,"button",77),g("click",function(){d(t);let e=s();return p(e.openAddModal())}),n(8,"span",13),r(9,"add"),i(),r(10," Add Your First Product "),i()()()()}}function bt(l,u){if(l&1){let t=h();n(0,"div",116),V(1,"img",117),n(2,"button",118),g("click",function(){d(t);let e=s(2);return p(e.removeImage())}),n(3,"span",13),r(4,"close"),i()()()}if(l&2){let t=s(2);a(),m("src",t.imagePreview,N)}}function xt(l,u){if(l&1){let t=h();n(0,"div",119)(1,"input",120),g("change",function(e){d(t);let c=s(2);return p(c.onImageChange(e))}),i(),n(2,"label",121)(3,"span",122),r(4,"cloud_upload"),i(),n(5,"span",123),r(6,"Click to upload image"),i(),n(7,"span",124),r(8,"PNG, JPG up to 10MB"),i()()()}}function ht(l,u){if(l&1&&(n(0,"option",46),r(1),i()),l&2){let t=u.$implicit;m("value",t.name),a(),_(t.name)}}function vt(l,u){l&1&&(n(0,"option",125),r(1,"No categories found. Please add some first."),i())}function Ct(l,u){if(l&1&&(n(0,"option",46),r(1),i()),l&2){let t=u.$implicit,o=s(2);m("value",t.id),a(),D(" ",t.name," (",o.formatCurrency(t.cost||0),") ")}}function yt(l,u){if(l&1){let t=h();n(0,"div",129)(1,"span",130),r(2),i(),n(3,"span",131),r(4),n(5,"small"),r(6),i()(),n(7,"span",132),r(8),i(),n(9,"button",133),g("click",function(){let e=d(t).index,c=s(3);return p(c.removeIngredient(e))}),n(10,"span",13),r(11,"delete"),i()()()}if(l&2){let t=u.$implicit,o=s(3);a(2),_(t.name),a(2),v("x",t.quantity," "),a(2),v("(",o.formatCurrency(t.unitCost),"/u)"),a(2),_(o.formatCurrency(t.unitCost*t.quantity))}}function Pt(l,u){if(l&1&&(n(0,"div",126),b(1,yt,12,4,"div",127),n(2,"div",128)(3,"span"),r(4,"Total Material Cost:"),i(),n(5,"strong"),r(6),i()()()),l&2){let t=s(2);a(),m("ngForOf",t.product.recipe),a(5),_(t.formatCurrency(t.product.cost))}}function Mt(l,u){l&1&&(n(0,"p",98),r(1," Cost price is auto-calculated based on ingredients. "),i())}function wt(l,u){if(l&1){let t=h();n(0,"div",78),g("click",function(){d(t);let e=s();return p(e.closeModal())}),n(1,"div",79),g("click",function(e){return d(t),p(e.stopPropagation())}),n(2,"div",80)(3,"h3",81),r(4),i(),n(5,"button",82),g("click",function(){d(t);let e=s();return p(e.closeModal())}),n(6,"span",13),r(7,"close"),i()()(),n(8,"form",83),g("ngSubmit",function(){d(t);let e=s();return p(e.onSubmit())}),n(9,"div",84)(10,"label",85),r(11,"Product Image (Optional)"),i(),b(12,bt,5,1,"div",86)(13,xt,9,0,"div",87),i(),n(14,"div",84)(15,"label",88),r(16,"Product Name"),i(),n(17,"input",89),P("ngModelChange",function(e){d(t);let c=s();return y(c.product.name,e)||(c.product.name=e),p(e)}),i()(),n(18,"div",84)(19,"label",90),r(20,"Category"),i(),n(21,"select",91),P("ngModelChange",function(e){d(t);let c=s();return y(c.product.category,e)||(c.product.category=e),p(e)}),n(22,"option",28),r(23,"-- Select Category --"),i(),b(24,ht,2,2,"option",29)(25,vt,2,0,"option",92),i()(),n(26,"div",93)(27,"div",84)(28,"label",94),r(29,"Selling Price"),i(),n(30,"input",95),P("ngModelChange",function(e){d(t);let c=s();return y(c.product.price,e)||(c.product.price=e),p(e)}),i()(),n(31,"div",84)(32,"label",96),r(33,"Cost / Purchase Price"),i(),n(34,"input",97),P("ngModelChange",function(e){d(t);let c=s();return y(c.product.cost,e)||(c.product.cost=e),p(e)}),i(),n(35,"span",98),r(36,"For profit calculation"),i()()(),n(37,"div",99)(38,"div",100)(39,"label",85),r(40,"Ingredients / Raw Materials (Recipe)"),i(),n(41,"button",101),g("click",function(){d(t);let e=s();return p(e.openRawMaterialModal())}),n(42,"span",13),r(43,"edit_note"),i(),r(44," Manage Database "),i()(),n(45,"div",102)(46,"p",103),r(47," Define the items used to produce this product. "),i(),n(48,"button",104),g("click",function(){d(t);let e=s();return p(e.assumeIngredients())}),n(49,"span",13),r(50),i(),r(51),i()(),n(52,"div",105)(53,"select",106),P("ngModelChange",function(e){d(t);let c=s();return y(c.selectedIngredientId,e)||(c.selectedIngredientId=e),p(e)}),n(54,"option",28),r(55,"-- Select Material --"),i(),b(56,Ct,2,3,"option",29),i(),n(57,"input",107),P("ngModelChange",function(e){d(t);let c=s();return y(c.ingredientQuantity,e)||(c.ingredientQuantity=e),p(e)}),i(),n(58,"button",108),g("click",function(){d(t);let e=s();return p(e.addIngredient())}),n(59,"span",13),r(60,"add"),i()()(),b(61,Pt,7,2,"div",109)(62,Mt,2,0,"p",110),i(),n(63,"div",84)(64,"label",111),r(65,"Initial Quantity"),i(),n(66,"input",112),P("ngModelChange",function(e){d(t);let c=s();return y(c.product.quantity,e)||(c.product.quantity=e),p(e)}),i()(),n(67,"div",113)(68,"button",114),g("click",function(){d(t);let e=s();return p(e.closeModal())}),r(69,"Cancel"),i(),n(70,"button",115)(71,"span",13),r(72),i(),r(73),i()()()()()}if(l&2){let t=s();a(4),_(t.isEditMode?"Edit Product":"Add New Product"),a(8),m("ngIf",t.imagePreview),a(),m("ngIf",!t.imagePreview),a(4),C("ngModel",t.product.name),a(4),C("ngModel",t.product.category),a(3),m("ngForOf",t.categories),a(),m("ngIf",t.categories.length===0),a(5),C("ngModel",t.product.price),a(4),C("ngModel",t.product.cost),a(14),m("disabled",t.isAiLoading),a(),E("rotating",t.isAiLoading),a(),_(t.isAiLoading?"sync":"auto_awesome"),a(),v(" ",t.isAiLoading?"Assuming...":"AI Suggest Recipe"," "),a(2),C("ngModel",t.selectedIngredientId),a(3),m("ngForOf",t.rawMaterials),a(),C("ngModel",t.ingredientQuantity),a(),m("disabled",!t.selectedIngredientId),a(3),m("ngIf",t.product.recipe&&t.product.recipe.length>0),a(),m("ngIf",t.product.recipe&&t.product.recipe.length>0),a(4),C("ngModel",t.product.quantity),a(4),m("disabled",!t.isValid()),a(2),_(t.isEditMode?"save":"add"),a(),v(" ",t.isEditMode?"Save Changes":"Add Product"," ")}}function Ot(l,u){if(l&1){let t=h();n(0,"div",143)(1,"span",144),r(2),i(),n(3,"button",145),g("click",function(){let e=d(t).$implicit,c=s(2);return p(c.deleteCategory(e))}),n(4,"span",13),r(5,"delete"),i()()()}if(l&2){let t=u.$implicit;a(2),_(t.name)}}function kt(l,u){l&1&&(n(0,"div",146)(1,"p"),r(2,"No categories added yet."),i()())}function St(l,u){if(l&1){let t=h();n(0,"div",78),g("click",function(){d(t);let e=s();return p(e.closeCategoryModal())}),n(1,"div",134),g("click",function(e){return d(t),p(e.stopPropagation())}),n(2,"div",80)(3,"h3",81),r(4,"Manage Categories"),i(),n(5,"button",82),g("click",function(){d(t);let e=s();return p(e.closeCategoryModal())}),n(6,"span",13),r(7,"close"),i()()(),n(8,"div",135)(9,"div",136)(10,"input",137),P("ngModelChange",function(e){d(t);let c=s();return y(c.newCategoryName,e)||(c.newCategoryName=e),p(e)}),g("keyup.enter",function(){d(t);let e=s();return p(e.addCategory())}),i(),n(11,"button",138),g("click",function(){d(t);let e=s();return p(e.addCategory())}),n(12,"span",13),r(13,"add"),i()()(),n(14,"div",139),b(15,Ot,6,1,"div",140)(16,kt,3,0,"div",141),i()(),n(17,"div",113)(18,"button",142),g("click",function(){d(t);let e=s();return p(e.closeCategoryModal())}),r(19,"Done"),i()()()()}if(l&2){let t=s();a(10),C("ngModel",t.newCategoryName),a(),m("disabled",!t.newCategoryName.trim()),a(4),m("ngForOf",t.categories),a(),m("ngIf",t.categories.length===0)}}function Et(l,u){if(l&1){let t=h();n(0,"button",161),g("click",function(){d(t);let e=s(2);return p(e.resetRawForm())}),n(1,"span",13),r(2,"close"),i()()}}function It(l,u){if(l&1){let t=h();n(0,"div",166),g("click",function(){let e=d(t).$implicit,c=s(3);return p(c.addSuggestedMaterial(e))}),n(1,"span",167),r(2),i(),n(3,"span",168),r(4),i(),n(5,"span",13),r(6,"add"),i()()}if(l&2){let t=u.$implicit;a(2),_(t.name),a(2),v("\u20B1",t.cost,"")}}function Ft(l,u){if(l&1){let t=h();n(0,"div",162)(1,"label",153),r(2),i(),n(3,"div",163),b(4,It,7,2,"div",164),i(),n(5,"button",165),g("click",function(){d(t);let e=s(2);return p(e.aiSuggestions=[])}),r(6,"Clear Suggestions"),i()()}if(l&2){let t=s(2);a(2),v('AI Suggestions for "',t.product.name,'"'),a(2),m("ngForOf",t.aiSuggestions)}}function Vt(l,u){if(l&1){let t=h();n(0,"div",143)(1,"div",169)(2,"span",144),r(3),i(),n(4,"span",170),r(5),T(6,"number"),i()(),n(7,"div",171)(8,"button",172),g("click",function(){let e=d(t).$implicit,c=s(2);return p(c.editRawMaterial(e))}),n(9,"span",13),r(10,"edit"),i()(),n(11,"button",173),g("click",function(){let e=d(t).$implicit,c=s(2);return p(c.deleteRawMaterialFromDb(e.id))}),n(12,"span",13),r(13,"delete"),i()()()()}if(l&2){let t=u.$implicit;a(3),_(t.name),a(2),v("\u20B1",A(6,2,t.cost,"1.2-2"),"/u")}}function Tt(l,u){l&1&&(n(0,"div",146)(1,"p"),r(2,"No raw materials added yet."),i()())}function At(l,u){if(l&1){let t=h();n(0,"div",78),g("click",function(){d(t);let e=s();return p(e.closeRawMaterialModal())}),n(1,"div",134),g("click",function(e){return d(t),p(e.stopPropagation())}),n(2,"div",80)(3,"h3",81),r(4,"Manage Raw Materials"),i(),n(5,"button",82),g("click",function(){d(t);let e=s();return p(e.closeRawMaterialModal())}),n(6,"span",13),r(7,"close"),i()()(),n(8,"div",135)(9,"div",147)(10,"button",148),g("click",function(){d(t);let e=s();return p(e.suggestMaterials())}),n(11,"span",13),r(12),i(),r(13),i()(),n(14,"div",149)(15,"div",150)(16,"span",13),r(17,"info"),i(),n(18,"p")(19,"strong"),r(20,"Reminder:"),i(),r(21," Enter costs based on a single piece/unit."),i()(),n(22,"div",151)(23,"div",152)(24,"label",153),r(25,"Material Name"),i(),n(26,"input",154),P("ngModelChange",function(e){d(t);let c=s();return y(c.rawMaterialForm.name,e)||(c.rawMaterialForm.name=e),p(e)}),i()(),n(27,"div",152)(28,"label",153),r(29,"Cost Price (per unit)"),i(),n(30,"div",155)(31,"input",156),P("ngModelChange",function(e){d(t);let c=s();return y(c.rawMaterialForm.cost,e)||(c.rawMaterialForm.cost=e),p(e)}),i(),n(32,"button",157),g("click",function(){d(t);let e=s();return p(e.saveRawMaterial())}),n(33,"span",13),r(34),i()(),b(35,Et,3,0,"button",158),i()()()(),b(36,Ft,7,2,"div",159),n(37,"div",160),b(38,Vt,14,5,"div",140)(39,Tt,3,0,"div",141),i()(),n(40,"div",113)(41,"button",142),g("click",function(){d(t);let e=s();return p(e.closeRawMaterialModal())}),r(42,"Done"),i()()()()}if(l&2){let t=s();a(10),m("disabled",t.isAiLoading)("title","Suggest ingredients for "+(t.product.name||"this product")),a(),E("rotating",t.isAiLoading),a(),_(t.isAiLoading?"sync":"auto_awesome"),a(),v(" ",t.isAiLoading?"AI is Thinking...":"AI Suggest Ingredients"," "),a(13),C("ngModel",t.rawMaterialForm.name),a(5),C("ngModel",t.rawMaterialForm.cost),a(),m("disabled",!t.rawMaterialForm.name),a(2),_(t.editingRawId?"save":"add"),a(),m("ngIf",t.editingRawId),a(),m("ngIf",t.aiSuggestions.length>0),a(2),m("ngForOf",t.rawMaterialsDb),a(),m("ngIf",t.rawMaterialsDb.length===0)}}var Ut=(()=>{class l{constructor(t,o,e){this.inventoryService=t,this.dialogService=o,this.aiService=e,this.products=[],this.filteredProducts=[],this.stats={totalProducts:0,lowStockCount:0,totalValue:0,totalPotentialProfit:0},this.searchQuery="",this.categoryFilter="",this.stockFilter="",this.categories=[],this.showCategoryModal=!1,this.newCategoryName="",this.rawMaterialsDb=[],this.showRawMaterialModal=!1,this.editingRawId=null,this.rawMaterialForm={name:"",cost:0},this.isAiLoading=!1,this.aiSuggestions=[],this.currentPage=1,this.pageSize=10,this.totalPages=1,this.showAddModal=!1,this.isEditMode=!1,this.editingProductId=null,this.product={name:"",category:"",price:0,cost:0,quantity:0,isRawMaterial:!1,recipe:[],imageUrl:""},this.imagePreview=null,this.subscription=null,this.LOW_STOCK_THRESHOLD=10,this.selectedIngredientId="",this.ingredientQuantity=1}get rawMaterials(){return this.rawMaterialsDb}ngOnInit(){this.subscription=this.inventoryService.getProducts().subscribe(t=>{this.products=t,this.calculateStats(),this.applyFilters()}),this.subscription.add(this.inventoryService.getCategories().subscribe(t=>{this.categories=t})),this.subscription.add(this.inventoryService.rawMaterials$.subscribe(t=>{this.rawMaterialsDb=t}))}ngOnDestroy(){this.subscription?.unsubscribe()}calculateStats(){this.stats.totalProducts=this.products.length,this.stats.lowStockCount=this.products.filter(t=>(t.quantity||0)<=this.LOW_STOCK_THRESHOLD).length,this.stats.totalValue=this.products.reduce((t,o)=>t+o.price*(o.quantity||0),0),this.stats.totalPotentialProfit=this.products.reduce((t,o)=>t+(o.price-(o.cost||0))*(o.quantity||0),0)}applyFilters(){let t=[...this.products];if(this.searchQuery){let e=this.searchQuery.toLowerCase();t=t.filter(c=>c.name.toLowerCase().includes(e)||c.id.toLowerCase().includes(e)||c.category.toLowerCase().includes(e))}if(this.categoryFilter&&(t=t.filter(e=>e.category===this.categoryFilter)),this.stockFilter)switch(this.stockFilter){case"in-stock":t=t.filter(e=>(e.quantity||0)>this.LOW_STOCK_THRESHOLD);break;case"low-stock":t=t.filter(e=>(e.quantity||0)>0&&(e.quantity||0)<=this.LOW_STOCK_THRESHOLD);break;case"out-of-stock":t=t.filter(e=>(e.quantity||0)===0);break}t.sort((e,c)=>e.name.localeCompare(c.name)),this.totalPages=Math.ceil(t.length/this.pageSize)||1,this.currentPage>this.totalPages&&(this.currentPage=1);let o=(this.currentPage-1)*this.pageSize;this.filteredProducts=t.slice(o,o+this.pageSize)}onSearchChange(){this.currentPage=1,this.applyFilters()}onFilterChange(){this.currentPage=1,this.applyFilters()}prevPage(){this.currentPage>1&&(this.currentPage--,this.applyFilters())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.applyFilters())}getStockPercent(t){return Math.min(t/100*100,100)}getStockStatus(t){return t===0?"out-of-stock":t<=this.LOW_STOCK_THRESHOLD?"low-stock":"active"}getStockStatusLabel(t){switch(this.getStockStatus(t)){case"active":return"Active";case"low-stock":return"Low Stock";case"out-of-stock":return"Out of Stock"}}openAddModal(){this.isEditMode=!1,this.editingProductId=null,this.resetForm(),this.showAddModal=!0}openEditModal(t){this.isEditMode=!0,this.editingProductId=t.id,this.product={name:t.name,category:t.category,price:t.price,cost:t.cost||0,quantity:t.quantity,isRawMaterial:t.isRawMaterial||!1,recipe:t.recipe?[...t.recipe]:[],imageUrl:t.imageUrl||""},this.imagePreview=t.imageUrl||null,this.showAddModal=!0}closeModal(){this.showAddModal=!1,this.resetForm()}resetForm(){this.product={name:"",category:"",price:0,cost:0,quantity:0,isRawMaterial:!1,recipe:[],imageUrl:""},this.imagePreview=null}onImageChange(t){let o=t.target;if(o.files&&o.files[0]){let e=o.files[0],c=new FileReader;c.onload=f=>{let O=new Image;O.src=f.target?.result,O.onload=()=>{let S=document.createElement("canvas"),w=O.width,x=O.height,M=800;(w>M||x>M)&&(w>x?(x=Math.round(x*M/w),w=M):(w=Math.round(w*M/x),x=M)),S.width=w,S.height=x;let k=S.getContext("2d");if(k){k.drawImage(O,0,0,w,x);let I=S.toDataURL("image/jpeg",.7);this.imagePreview=I,this.product.imageUrl=I}}},c.readAsDataURL(e)}}removeImage(){this.imagePreview=null,this.product.imageUrl=""}onSubmit(){if(this.isValid()){if(this.isEditMode&&this.editingProductId){let t=this.products.find(o=>o.id===this.editingProductId);t&&this.inventoryService.updateProduct(q(z({},t),{name:this.product.name,category:this.product.category,price:this.product.price,cost:this.product.cost,quantity:this.product.quantity,isRawMaterial:!0,recipe:this.product.recipe,imageUrl:this.product.imageUrl})).subscribe()}else this.inventoryService.addProduct({name:this.product.name,category:this.product.category,price:this.product.price,cost:this.product.cost,quantity:this.product.quantity,isRawMaterial:!0,recipe:this.product.recipe,imageUrl:this.product.imageUrl}).subscribe();this.closeModal()}}isValid(){return!!(this.product.name&&this.product.category&&this.product.quantity>=0&&(this.product.cost||0)>=0)}openCategoryModal(){this.showCategoryModal=!0}closeCategoryModal(){this.showCategoryModal=!1,this.newCategoryName=""}addCategory(){this.newCategoryName.trim()&&this.inventoryService.addCategory(this.newCategoryName.trim()).subscribe({next:()=>{this.newCategoryName=""},error:t=>{let o=t.message||"Failed to add category";this.dialogService.error(o)}})}deleteCategory(t){this.dialogService.confirm(`Are you sure you want to delete category "${t.name}"? products with this category will remain, but the category option will be removed.`,"Delete Category").subscribe(o=>{o&&this.inventoryService.deleteCategory(t.id).subscribe({error:e=>{console.error("Error deleting category:",e),this.dialogService.error("Failed to delete category")}})})}deleteProduct(t){this.dialogService.confirm(`Are you sure you want to delete "${t.name}"?`,"Delete Product").subscribe(o=>{o&&this.inventoryService.deleteProduct(t.id).subscribe()})}addIngredient(){if(!this.selectedIngredientId)return;let t=Number(this.ingredientQuantity);if(isNaN(t)||t<=0)return;let o=this.rawMaterials.find(c=>c.id===this.selectedIngredientId);if(!o){console.warn("Selected raw material not found in local products list.");return}this.product.recipe||(this.product.recipe=[]);let e=this.product.recipe.find(c=>c.productId===o.id);e?e.quantity=Number(e.quantity)+t:this.product.recipe.push({productId:o.id,name:o.name,quantity:t,unitCost:o.cost||0}),this.autoCalculateCost(),this.selectedIngredientId="",this.ingredientQuantity=1}removeIngredient(t){this.product.recipe.splice(t,1),this.autoCalculateCost()}autoCalculateCost(){this.product.recipe&&this.product.recipe.length>0?this.product.cost=this.product.recipe.reduce((t,o)=>t+(Number(o.unitCost)||0)*(Number(o.quantity)||0),0):this.product.recipe&&this.product.recipe.length===0&&(this.product.cost=0)}formatCurrency(t){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:2}).format(t)}formatNumber(t){return new Intl.NumberFormat("en-US").format(t)}get showingFrom(){return(this.currentPage-1)*this.pageSize+1}get showingTo(){return Math.min(this.currentPage*this.pageSize,this.products.length)}openRawMaterialModal(){this.resetRawForm(),this.showRawMaterialModal=!0}closeRawMaterialModal(){this.showRawMaterialModal=!1,this.resetRawForm()}resetRawForm(){this.rawMaterialForm={name:"",cost:0},this.editingRawId=null}editRawMaterial(t){this.editingRawId=t.id,this.rawMaterialForm={name:t.name,cost:t.cost}}saveRawMaterial(){this.rawMaterialForm.name&&(this.editingRawId?this.inventoryService.updateRawMaterial(q(z({id:this.editingRawId},this.rawMaterialForm),{createdAt:new Date})).subscribe(()=>{this.resetRawForm()}):this.inventoryService.addRawMaterial(this.rawMaterialForm).subscribe(()=>{this.resetRawForm()}))}deleteRawMaterialFromDb(t){this.dialogService.confirm("Delete Raw Material","Are you sure you want to delete this material? It may affect products using it.").subscribe(o=>{o&&this.inventoryService.deleteRawMaterial(t).subscribe()})}suggestMaterials(){if(!this.product.name){this.dialogService.alert("Missing Name","Please enter a product name first so AI can suggest ingredients.");return}this.isAiLoading=!0;let t=`As a professional inventory manager, suggest a list of 5-8 essential raw materials (ingredients) needed to make "${this.product.name}". For each material, provide a name and an estimated bulk purchase cost in Philippine Pesos (PHP) per standard unit. Output ONLY a valid JSON array of objects with keys "name" and "cost". Example: [{"name": "Sugar", "cost": 45}, {"name": "Flour", "cost": 30}]. Do not include any other text.`;this.aiService.generateText(t).subscribe({next:o=>{if(this.isAiLoading=!1,!o){this.dialogService.alert("AI Error","Could not get suggestions from AI. Please try again.");return}try{let e=o.replace(/```json|```/g,"").trim(),c=JSON.parse(e);if(Array.isArray(c))this.aiSuggestions=c;else throw new Error("Response is not an array")}catch{console.error("Failed to parse AI response:",o),this.dialogService.alert("AI Error","The AI provided an invalid format. Try again with a different product name.")}},error:o=>{this.isAiLoading=!1,this.dialogService.alert("AI Error","Failed to connect to AI service.")}})}addSuggestedMaterial(t){let o={name:t.name,cost:Number(t.cost)||0};if(this.rawMaterialsDb.find(c=>c.name.toLowerCase()===o.name.toLowerCase())){this.dialogService.alert("Already Exists",`"${o.name}" is already in your database.`);return}this.inventoryService.addRawMaterial(o).subscribe(()=>{this.aiSuggestions=this.aiSuggestions.filter(c=>c!==t)})}assumeIngredients(){if(!this.product.name){this.dialogService.alert("Missing Name","Please enter a product name first.");return}if(this.rawMaterialsDb.length===0){this.dialogService.alert("Empty Database","Please add some raw materials to your database first.");return}this.isAiLoading=!0;let t=this.rawMaterialsDb.map(c=>`- ${c.name} [ID: ${c.id}]`).join(`
`),o=this.product.category?` belonging to the "${this.product.category}" category`:"",e=`As a professional production manager, I am making 1 unit of "${this.product.name}"${o}. 
    Choose 3-6 essential ingredients from this list (use EXACT IDs provided):
    ${t}

    Output ONLY a valid JSON array of objects.
    CRITICAL: 
    - Use curly braces {} for objects, NOT square brackets [].
    - Use EXACT IDs from the list. DO NOT add "id" prefix.
    - Format: [{"productId": "...", "quantity": 0.5}, ...]`;this.aiService.generateText(e).subscribe({next:c=>{if(this.isAiLoading=!1,!!c)try{let f=c.replace(/```json|```/g,"").trim();if(f.includes('["productId":')&&(f=f.replace(/\[\s*"productId":/g,'{"productId":').replace(/"\s*\]/g,'"}').replace(/(\d+)\s*\]/g,"$1}")),!f.startsWith("[")||!f.endsWith("]"))throw new Error("Malformed or truncated response");let O=JSON.parse(f);if(Array.isArray(O)){let S=0;O.forEach(w=>{let x=w.productId;if(x&&!this.rawMaterialsDb.find(k=>k.id===x)&&x.startsWith("id")){let k=x.substring(2);this.rawMaterialsDb.find(I=>I.id===k)&&(x=k)}let M=this.rawMaterialsDb.find(k=>k.id===x);M&&(this.product.recipe.find(I=>I.productId===M.id)||(this.product.recipe.push({productId:M.id,name:M.name,quantity:Number(w.quantity)||1,unitCost:M.cost}),S++))}),S>0?this.autoCalculateCost():this.dialogService.alert("AI Note","AI suggested some items, but they were either already in your recipe or mismatched your database IDs.")}}catch{console.error("Failed to parse AI recipe response:",c);let O=!c.trim().endsWith("]");this.dialogService.alert("AI Error",O?"The AI response was cut off because the recipe is too complex. Try again or add items manually.":"Could not accurately map ingredients. Make sure your raw materials have clear names.")}},error:()=>this.isAiLoading=!1})}static{this.\u0275fac=function(o){return new(o||l)(F(ct),F(at),F(lt))}}static{this.\u0275cmp=R({type:l,selectors:[["app-product-form"]],standalone:!0,features:[j],decls:142,vars:23,consts:[[1,"products-page"],[1,"page-header"],[1,"header-content"],[1,"header-title-section"],[1,"page-title"],[1,"page-subtitle"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"stat-icon-container","blue"],[1,"material-icon"],[1,"stat-trend","trend-up"],[1,"trend-value"],[1,"trend-label"],[1,"stat-icon-container","orange"],[1,"stat-trend","trend-warning"],[1,"stat-icon-container","green"],[1,"stat-icon-container","purple"],[1,"filters-bar"],[1,"filters-left"],[1,"search-container","mobile-only"],[1,"material-icon","search-icon"],["type","text","placeholder","Search...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filter-buttons"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["title","Manage Categories",1,"manage-cats-btn",3,"click"],["value","in-stock"],["value","low-stock"],["value","out-of-stock"],[1,"add-product-btn",3,"click"],[1,"table-container"],[1,"table-wrapper"],[1,"products-table"],[1,"text-right"],["class","table-row",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-footer"],[1,"pagination-info"],[1,"pagination-buttons"],[1,"pagination-btn",3,"click","disabled"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"table-row"],[1,"product-cell"],[1,"product-image"],["class","material-icon no-image",4,"ngIf"],[1,"product-name"],[1,"sku-cell"],[1,"category-badge"],[1,"price-cell"],[1,"cost-cell"],["class","no-cost",4,"ngIf"],[1,"profit-cell"],["class","profit-badge",3,"positive","negative",4,"ngIf"],["class","no-profit",4,"ngIf"],[1,"stock-level"],[1,"stock-info"],[1,"stock-count"],[1,"stock-bar-bg"],[1,"stock-bar"],[1,"status-badge"],[1,"status-dot"],[1,"action-buttons"],["title","Edit",1,"action-btn","edit",3,"click"],["title","Delete",1,"action-btn","delete",3,"click"],[1,"material-icon","no-image"],[1,"no-cost"],[1,"profit-badge"],[1,"no-profit"],["colspan","9",1,"empty-state"],[1,"empty-content"],[1,"material-icon","empty-icon"],[1,"add-product-btn","small",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"modal-close",3,"click"],[1,"modal-form",3,"ngSubmit"],[1,"form-section"],[1,"form-label"],["class","image-preview-container",4,"ngIf"],["class","image-upload-area",4,"ngIf"],["for","productName",1,"form-label"],["type","text","id","productName","name","name","placeholder","Enter product name","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","category",1,"form-label"],["id","category","name","category","required","",1,"form-select",3,"ngModelChange","ngModel"],["disabled","",4,"ngIf"],[1,"form-row"],["for","price",1,"form-label"],["type","number","id","price","name","price","placeholder","0.00","min","0","step","0.01","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","cost",1,"form-label"],["type","number","id","cost","name","cost","placeholder","0.00","min","0","step","0.01",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-hint"],[1,"form-section","recipe-section"],[1,"section-header"],["type","button",1,"btn-manage-raw",3,"click"],[1,"flex-between","align-center","mb-sm"],[1,"recipe-info","mb-0"],["type","button","title","AI: Auto-pick ingredients from your database",1,"btn-ai-sparkle-mini",3,"click","disabled"],[1,"ingredient-adder"],["name","selectedIngredientId",1,"form-select","ingredient-select",3,"ngModelChange","ngModel"],["type","number","name","ingredientQuantity","placeholder","Qty","min","1",1,"form-input","qty-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-add-ingredient",3,"click","disabled"],["class","ingredients-list",4,"ngIf"],["class","form-hint",4,"ngIf"],["for","quantity",1,"form-label"],["type","number","id","quantity","name","quantity","placeholder","0","min","0","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-submit",3,"disabled"],[1,"image-preview-container"],["alt","Product preview",1,"image-preview",3,"src"],["type","button",1,"remove-image-btn",3,"click"],[1,"image-upload-area"],["type","file","id","productImage","accept","image/*",1,"file-input",3,"change"],["for","productImage",1,"file-input-label"],[1,"material-icon","upload-icon"],[1,"upload-text"],[1,"upload-hint"],["disabled",""],[1,"ingredients-list"],["class","ingredient-item",4,"ngFor","ngForOf"],[1,"recipe-total"],[1,"ingredient-item"],[1,"ingredient-name"],[1,"ingredient-qty"],[1,"ingredient-cost"],["type","button",1,"btn-remove-ingredient",3,"click"],[1,"modal-content","category-modal",3,"click"],[1,"category-manager"],[1,"add-cat-form"],["type","text","placeholder","New category name...",1,"form-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn-add-cat",3,"click","disabled"],[1,"categories-list"],["class","category-item",4,"ngFor","ngForOf"],["class","empty-categories",4,"ngIf"],[1,"btn-submit","full-width",3,"click"],[1,"category-item"],[1,"category-item-name"],["title","Delete Category",1,"btn-delete-cat",3,"click"],[1,"empty-categories"],[1,"raw-material-header-actions","mb-md"],["type","button",1,"btn-ai-sparkle",3,"click","disabled","title"],[1,"raw-material-form-box"],[1,"raw-reminder-toast"],[1,"form-grid-2"],[1,"form-group"],[1,"form-label-small"],["type","text","placeholder","e.g. Flour",1,"form-input",3,"ngModelChange","ngModel"],[1,"input-with-button"],["type","number","placeholder","0.00",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn-primary-sq",3,"click","disabled"],["class","btn-ghost-sq","title","Cancel Edit",3,"click",4,"ngIf"],["class","ai-suggestions-container",4,"ngIf"],[1,"categories-list","mt-lg"],["title","Cancel Edit",1,"btn-ghost-sq",3,"click"],[1,"ai-suggestions-container"],[1,"suggestions-grid"],["class","suggestion-chip",3,"click",4,"ngFor","ngForOf"],[1,"btn-clear-suggestions",3,"click"],[1,"suggestion-chip",3,"click"],[1,"suggestion-name"],[1,"suggestion-cost"],[1,"raw-info"],[1,"raw-price-info"],[1,"raw-actions"],["title","Edit Material",1,"btn-edit-cat",3,"click"],["title","Delete Material",1,"btn-delete-cat",3,"click"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),r(5,"Inventory Overview"),i(),n(6,"p",5),r(7,"Manage your stock, track sales, and monitor deliveries."),i()()()(),n(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"p",10),r(13,"Total Products"),i(),n(14,"h3",11),r(15),i()(),n(16,"div",12)(17,"span",13),r(18,"inventory_2"),i()()(),n(19,"div",14)(20,"span",13),r(21,"trending_up"),i(),n(22,"span",15),r(23,"+12%"),i(),n(24,"span",16),r(25,"vs last month"),i()()(),n(26,"div",7)(27,"div",8)(28,"div",9)(29,"p",10),r(30,"Low Stock"),i(),n(31,"h3",11),r(32),i()(),n(33,"div",17)(34,"span",13),r(35,"warning"),i()()(),n(36,"div",18)(37,"span",13),r(38,"trending_up"),i(),n(39,"span",15),r(40),i(),n(41,"span",16),r(42,"items need attention"),i()()(),n(43,"div",7)(44,"div",8)(45,"div",9)(46,"p",10),r(47,"Total Value"),i(),n(48,"h3",11),r(49),i()(),n(50,"div",19)(51,"span",13),r(52,"attach_money"),i()()(),n(53,"div",14)(54,"span",13),r(55,"trending_up"),i(),n(56,"span",15),r(57,"+5%"),i(),n(58,"span",16),r(59,"vs last month"),i()()(),n(60,"div",7)(61,"div",8)(62,"div",9)(63,"p",10),r(64,"Estimated Profit"),i(),n(65,"h3",11),r(66),i()(),n(67,"div",20)(68,"span",13),r(69,"payments"),i()()(),n(70,"div",14)(71,"span",13),r(72,"trending_up"),i(),n(73,"span",15),r(74),T(75,"number"),i(),n(76,"span",16),r(77,"avg. margin"),i()()()(),n(78,"div",21)(79,"div",22)(80,"div",23)(81,"span",24),r(82,"search"),i(),n(83,"input",25),P("ngModelChange",function(f){return y(e.searchQuery,f)||(e.searchQuery=f),f}),g("input",function(){return e.onSearchChange()}),i()(),n(84,"div",26)(85,"select",27),P("ngModelChange",function(f){return y(e.categoryFilter,f)||(e.categoryFilter=f),f}),g("change",function(){return e.onFilterChange()}),n(86,"option",28),r(87,"All Categories"),i(),b(88,st,2,2,"option",29),i(),n(89,"button",30),g("click",function(){return e.openCategoryModal()}),n(90,"span",13),r(91,"settings"),i()(),n(92,"select",27),P("ngModelChange",function(f){return y(e.stockFilter,f)||(e.stockFilter=f),f}),g("change",function(){return e.onFilterChange()}),n(93,"option",28),r(94,"Stock Status"),i(),n(95,"option",31),r(96,"In Stock"),i(),n(97,"option",32),r(98,"Low Stock"),i(),n(99,"option",33),r(100,"Out of Stock"),i()()()(),n(101,"button",34),g("click",function(){return e.openAddModal()}),n(102,"span",13),r(103,"add"),i(),r(104," Add Product "),i()(),n(105,"div",35)(106,"div",36)(107,"table",37)(108,"thead")(109,"tr")(110,"th"),r(111,"Product"),i(),n(112,"th"),r(113,"SKU"),i(),n(114,"th"),r(115,"Category"),i(),n(116,"th"),r(117,"Price"),i(),n(118,"th"),r(119,"Cost"),i(),n(120,"th"),r(121,"Profit"),i(),n(122,"th"),r(123,"Stock Level"),i(),n(124,"th"),r(125,"Status"),i(),n(126,"th",38),r(127,"Actions"),i()()(),n(128,"tbody"),b(129,_t,39,29,"tr",39)(130,ft,11,0,"tr",40),i()()(),n(131,"div",41)(132,"span",42),r(133),i(),n(134,"div",43)(135,"button",44),g("click",function(){return e.prevPage()}),r(136," Previous "),i(),n(137,"button",44),g("click",function(){return e.nextPage()}),r(138," Next "),i()()()()(),b(139,wt,74,24,"div",45)(140,St,20,4,"div",45)(141,At,43,14,"div",45)),o&2&&(a(15),_(e.formatNumber(e.stats.totalProducts)),a(17),_(e.stats.lowStockCount),a(8),v("+",e.stats.lowStockCount>0?e.stats.lowStockCount:0,""),a(9),_(e.formatCurrency(e.stats.totalValue)),a(17),_(e.formatCurrency(e.stats.totalPotentialProfit)),a(8),v("",e.stats.totalValue>0?A(75,20,e.stats.totalPotentialProfit/e.stats.totalValue*100,"1.0-0"):0,"%"),a(9),C("ngModel",e.searchQuery),a(2),C("ngModel",e.categoryFilter),a(3),m("ngForOf",e.categories),a(4),C("ngModel",e.stockFilter),a(37),m("ngForOf",e.filteredProducts),a(),m("ngIf",e.filteredProducts.length===0),a(3),W(" Showing ",e.showingFrom," to ",e.showingTo," of ",e.formatNumber(e.products.length)," results "),a(2),m("disabled",e.currentPage===1),a(2),m("disabled",e.currentPage>=e.totalPages),a(2),m("ngIf",e.showAddModal),a(),m("ngIf",e.showCategoryModal),a(),m("ngIf",e.showRawMaterialModal))},dependencies:[Y,U,B,Q,ot,$,et,nt,H,Z,tt,J,K,rt,it,X,G],styles:['.products-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.material-icon[_ngcontent-%COMP%]{font-family:Material Symbols Outlined,sans-serif;font-weight:400;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.breadcrumbs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:.875rem;color:var(--color-text-muted)}.breadcrumb-link[_ngcontent-%COMP%]{color:var(--color-text-muted);text-decoration:none;transition:color .2s}.breadcrumb-link[_ngcontent-%COMP%]:hover{color:var(--color-primary)}.breadcrumb-separator[_ngcontent-%COMP%]{font-size:16px;color:var(--color-text-muted)}.breadcrumb-current[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text)}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-text);margin:0}.page-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);margin:4px 0 0}.header-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:var(--space-md)}.header-title-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--space-md)}@media (max-width: 1024px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.stat-card[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-xl);padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-md);transition:all .2s ease}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md);transform:translateY(-2px)}.stat-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-muted);margin:0}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--color-text);margin:0}.stat-icon-container[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center}.stat-icon-container.blue[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.stat-icon-container.orange[_ngcontent-%COMP%]{background:#f973161a;color:#f97316}.stat-icon-container.green[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.stat-icon-container.purple[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.875rem}.stat-trend[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}.stat-trend.trend-up[_ngcontent-%COMP%]{color:#10b981}.stat-trend.trend-warning[_ngcontent-%COMP%]{color:#ef4444}.trend-value[_ngcontent-%COMP%]{font-weight:500}.trend-label[_ngcontent-%COMP%]{color:var(--color-text-muted)}.filters-bar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:var(--space-md)}.filters-left[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:var(--space-sm)}.search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;display:none}.search-container.mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 769px){.search-container.mobile-only[_ngcontent-%COMP%]{display:none}}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;color:var(--color-text-muted)}.search-input[_ngcontent-%COMP%]{padding-left:40px;width:200px;height:40px;border-radius:var(--radius-lg);border:1px solid var(--color-border);background:var(--color-surface);font-size:.875rem}.filter-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm)}.filter-select[_ngcontent-%COMP%]{height:40px;padding:0 var(--space-md);padding-right:32px;border-radius:var(--radius-lg);border:1px solid var(--color-border);background:var(--color-surface);color:var(--color-text);font-size:.875rem;cursor:pointer;transition:all .2s}.filter-select[_ngcontent-%COMP%]:focus{border-color:var(--color-primary);outline:none;box-shadow:0 0 0 2px #137fec33}.add-product-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);padding:10px 20px;background:var(--color-primary);color:#fff;border:none;border-radius:var(--radius-lg);font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s;box-shadow:0 4px 12px #137fec4d}.add-product-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary-dark);transform:translateY(-2px);box-shadow:0 6px 16px #137fec66}.add-product-btn[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:20px}.add-product-btn.small[_ngcontent-%COMP%]{padding:8px 16px;font-size:.8125rem}.table-container[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-xl);overflow:hidden;box-shadow:var(--shadow-sm)}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.products-table[_ngcontent-%COMP%]{width:100%;text-align:left;font-size:.875rem;border-collapse:collapse}.products-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--color-bg);border-bottom:1px solid var(--color-border)}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:var(--space-md) var(--space-lg);font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--color-text)}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--space-md) var(--space-lg);border-top:1px solid var(--color-border);vertical-align:middle}.table-row[_ngcontent-%COMP%]{transition:background .2s}.table-row[_ngcontent-%COMP%]:hover{background:var(--color-bg)}.text-right[_ngcontent-%COMP%]{text-align:right}.product-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md)}.product-image[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;border-radius:var(--radius-lg);background-color:var(--color-bg);background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center}.product-image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{font-size:20px;color:var(--color-text-muted)}.product-name[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text)}.sku-cell[_ngcontent-%COMP%]{color:var(--color-text-muted);font-family:monospace}.category-badge[_ngcontent-%COMP%]{display:inline-flex;padding:4px 8px;border-radius:var(--radius-md);background:var(--color-bg);font-size:.75rem;font-weight:500;color:var(--color-text-muted)}.price-cell[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.cost-cell[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:.875rem}.no-cost[_ngcontent-%COMP%], .no-profit[_ngcontent-%COMP%]{color:var(--color-text-muted);opacity:.5;font-style:italic}.profit-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:var(--radius-md);font-size:.8125rem;font-weight:700}.profit-badge.positive[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.profit-badge.negative[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.stock-level[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;width:120px}.stock-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.stock-count[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.stock-count.low[_ngcontent-%COMP%]{color:#f97316;font-weight:500}.stock-count.out[_ngcontent-%COMP%]{color:var(--color-text-muted)}.stock-bar-bg[_ngcontent-%COMP%]{height:6px;width:100%;background:var(--color-bg);border-radius:9999px;overflow:hidden}.stock-bar[_ngcontent-%COMP%]{height:100%;background:#10b981;border-radius:9999px;transition:width .3s ease}.stock-bar.low[_ngcontent-%COMP%]{background:#f97316}.stock-bar.out[_ngcontent-%COMP%]{background:var(--color-text-muted)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:9999px;font-size:.75rem;font-weight:500}.status-badge.active[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.status-badge.low-stock[_ngcontent-%COMP%]{background:#f973161a;color:#f97316}.status-badge.out-of-stock[_ngcontent-%COMP%]{background:var(--color-bg);color:var(--color-text-muted)}.status-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:currentColor}.action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:var(--space-sm)}.table-row[_ngcontent-%COMP%]:hover   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:var(--color-bg)}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:none;background:transparent;border-radius:var(--radius-lg);color:var(--color-text-muted);cursor:pointer;transition:all .2s;padding:0}.action-btn[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:20px}.action-btn.edit[_ngcontent-%COMP%]:hover{background:var(--color-bg);color:var(--color-primary)}.action-btn.delete[_ngcontent-%COMP%]:hover{background:#ef44441a;color:#ef4444}.empty-state[_ngcontent-%COMP%]{padding:var(--space-2xl)!important;text-align:center}.empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-md)}.empty-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--color-text-muted);opacity:.5}.empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-muted);margin:0}.table-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-md) var(--space-lg);border-top:1px solid var(--color-border);background:var(--color-surface)}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted)}.pagination-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm)}.pagination-btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid var(--color-border);border-radius:var(--radius-lg);background:var(--color-surface);color:var(--color-text);font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-bg);border-color:var(--color-primary)}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease;padding:var(--space-lg)}.modal-content[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:var(--radius-xl);width:100%;max-width:700px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-lg);border-bottom:1px solid var(--color-border)}.modal-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--color-text);margin:0}.modal-close[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background:transparent;border-radius:var(--radius-lg);color:var(--color-text-muted);cursor:pointer;padding:0;transition:all .2s}.modal-close[_ngcontent-%COMP%]:hover{background:var(--color-bg);color:var(--color-text)}.modal-form[_ngcontent-%COMP%]{padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-lg)}.form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:10px 14px;border:1px solid var(--color-border);border-radius:var(--radius-lg);background:var(--color-surface);color:var(--color-text);font-size:.875rem;transition:all .2s}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #137fec26}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md)}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.image-preview-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:200px;margin:0 auto}.image-preview[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:var(--radius-lg);border:2px solid var(--color-border)}.remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:#ef4444e6;color:#fff;border:none;border-radius:50%;cursor:pointer;padding:0;transition:all .2s}.remove-image-btn[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}.remove-image-btn[_ngcontent-%COMP%]:hover{background:#ef4444;transform:scale(1.1)}.image-upload-area[_ngcontent-%COMP%]{width:100%}.file-input[_ngcontent-%COMP%]{display:none}.file-input-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-xl);border:2px dashed var(--color-border);border-radius:var(--radius-lg);background:var(--color-bg);cursor:pointer;transition:all .2s}.file-input-label[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);background:#137fec0d}.upload-icon[_ngcontent-%COMP%]{font-size:36px;color:var(--color-primary)}.upload-text[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text)}.upload-hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--space-md);padding-top:var(--space-md);border-top:1px solid var(--color-border)}.btn-cancel[_ngcontent-%COMP%]{padding:10px 20px;border:1px solid var(--color-border);border-radius:var(--radius-lg);background:transparent;color:var(--color-text);font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background:var(--color-bg)}.btn-submit[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);padding:10px 20px;background:var(--color-primary);color:#fff;border:none;border-radius:var(--radius-lg);font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary-dark)}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-submit[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}body.dark-theme[_nghost-%COMP%]   .stat-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .stat-card[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .table-container[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark-theme[_nghost-%COMP%]   .products-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .products-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#1a2634}body.dark-theme[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#ffffff0d}body.dark-theme[_nghost-%COMP%]   .category-badge[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .category-badge[_ngcontent-%COMP%]{background:#334155;color:#94a3b8}body.dark-theme[_nghost-%COMP%]   .filter-select[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .filter-select[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark-theme[_nghost-%COMP%]   .file-input-label[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .file-input-label[_ngcontent-%COMP%]{background:#1a2634;border-color:#334155}@media (max-width: 640px){.filters-bar[_ngcontent-%COMP%], .filters-left[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filter-buttons[_ngcontent-%COMP%]{flex-wrap:wrap}.add-product-btn[_ngcontent-%COMP%]{justify-content:center}.table-footer[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-md);text-align:center}}.manage-cats-btn[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);color:var(--color-text-muted);cursor:pointer;transition:all .2s}.manage-cats-btn[_ngcontent-%COMP%]:hover{background:var(--color-bg);color:var(--color-primary);border-color:var(--color-primary)}.category-modal[_ngcontent-%COMP%]{max-width:600px}.category-manager[_ngcontent-%COMP%]{padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-lg)}.add-cat-form[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm)}.btn-add-cat[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--color-primary);color:#fff;border:none;border-radius:var(--radius-lg);cursor:pointer;transition:all .2s}.btn-add-cat[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary-dark);transform:scale(1.05)}.btn-add-cat[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.categories-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs);max-height:250px;overflow-y:auto;padding-right:4px}.category-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-lg);transition:all .2s}.category-item[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);background:var(--color-surface)}.category-item-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.btn-delete-cat[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;color:var(--color-text-muted);border:none;border-radius:var(--radius-md);cursor:pointer;transition:all .2s}.btn-delete-cat[_ngcontent-%COMP%]:hover{background:#ef44441a;color:#ef4444}.empty-categories[_ngcontent-%COMP%]{text-align:center;padding:var(--space-lg);color:var(--color-text-muted);font-size:.875rem}.full-width[_ngcontent-%COMP%]{width:100%;justify-content:center}body.dark-theme[_nghost-%COMP%]   .category-item[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .category-item[_ngcontent-%COMP%]{background:#1a2634}body.dark-theme[_nghost-%COMP%]   .category-item[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:#1e293b}body.dark-theme[_nghost-%COMP%]   .manage-cats-btn[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .manage-cats-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;padding-left:35px;cursor:pointer;font-size:.875rem;-webkit-user-select:none;user-select:none;min-height:25px}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;transform:translateY(-50%);height:20px;width:20px;background-color:var(--color-bg);border:2px solid var(--color-border);border-radius:4px;transition:all .2s}.checkbox-container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{border-color:var(--color-primary)}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:var(--color-primary);border-color:var(--color-primary)}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox-container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.checkbox-label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.recipe-section[_ngcontent-%COMP%]{background:rgba(var(--color-primary-rgb),.05);padding:var(--space-md);border-radius:var(--radius-lg);border:1px dashed var(--color-border)}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-xs)}.raw-toggle-mini[_ngcontent-%COMP%]{background:var(--color-bg);padding:4px 10px;border-radius:20px;border:1px solid var(--color-border)}.checkbox-container.mini[_ngcontent-%COMP%]{padding-left:28px;min-height:20px}.checkbox-container.mini[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{height:16px;width:16px}.checkbox-container.mini[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{font-size:.75rem}.checkbox-container.mini[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:4px;top:1px;width:4px;height:8px}.recipe-info[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted);margin-bottom:var(--space-md)}.recipe-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--color-primary)}.ingredient-adder[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);margin-bottom:var(--space-md)}.ingredient-select[_ngcontent-%COMP%]{flex:1}.qty-input[_ngcontent-%COMP%]{width:80px}.btn-add-ingredient[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border:none;border-radius:var(--radius-md);padding:0 var(--space-md);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.btn-add-ingredient[_ngcontent-%COMP%]:hover{background:var(--color-primary-dark);transform:translateY(-1px)}.ingredients-list[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:var(--radius-md);border:1px solid var(--color-border);overflow:hidden}.ingredient-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--space-sm) var(--space-md);border-bottom:1px solid var(--color-border);gap:var(--space-sm)}.ingredient-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.ingredient-name[_ngcontent-%COMP%]{flex:1;font-size:.875rem;font-weight:500}.ingredient-qty[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:.75rem;padding:2px 6px;background:var(--color-bg-alt);border-radius:4px}.ingredient-qty[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{opacity:.7;font-weight:400;margin-left:2px}.ingredient-cost[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.875rem;font-weight:600;color:var(--color-primary)}.btn-remove-ingredient[_ngcontent-%COMP%]{background:transparent;color:#ef4444;border:none;padding:4px;cursor:pointer;border-radius:4px;display:flex;transition:all .2s}.btn-remove-ingredient[_ngcontent-%COMP%]:hover{background:#ef44441a}.btn-remove-ingredient[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}.recipe-total[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);background:var(--color-bg-alt);display:flex;justify-content:space-between;align-items:center;font-size:.875rem}.recipe-total[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--color-primary);font-size:1rem}.no-raw-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);background:#f59e0b1a;color:#d97706;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);border:1px solid rgba(245,158,11,.2);font-size:.875rem}.no-raw-warning[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:20px}.no-raw-warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:underline}.btn-manage-raw[_ngcontent-%COMP%]{background:var(--color-bg);color:var(--color-primary);border:1px solid var(--color-border);padding:4px 10px;border-radius:6px;font-size:.75rem;font-weight:600;display:flex;align-items:center;gap:4px}.btn-manage-raw[_ngcontent-%COMP%]:hover{background:var(--color-border)}.raw-material-form-box[_ngcontent-%COMP%]{background:#ffffff08;padding:var(--space-md);border-radius:var(--radius-lg);border:1px solid var(--color-border);margin-bottom:var(--space-lg)}.raw-reminder-toast[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:rgba(var(--color-primary-rgb),.1);border:1px solid rgba(var(--color-primary-rgb),.2);padding:8px 12px;border-radius:var(--radius-md);margin-bottom:var(--space-md);font-size:.8rem;color:var(--color-primary)}.raw-reminder-toast[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}.raw-reminder-toast[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.form-grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md);align-items:flex-end}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-label-small[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--color-text-muted);text-transform:uppercase;letter-spacing:.025em}.input-with-button[_ngcontent-%COMP%]{display:flex;gap:6px;width:100%}.input-with-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:100px}.btn-primary-sq[_ngcontent-%COMP%], .btn-ghost-sq[_ngcontent-%COMP%]{width:42px;height:42px;min-width:42px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);cursor:pointer;border:none;transition:all .2s}.btn-primary-sq[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff}.btn-primary-sq[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary-dark);transform:translateY(-1px)}.btn-primary-sq[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-ghost-sq[_ngcontent-%COMP%]{background:#ffffff0d;color:var(--color-text-muted);border:1px solid var(--color-border)}.btn-ghost-sq[_ngcontent-%COMP%]:hover{background:#ffffff1a}.category-item[_ngcontent-%COMP%]{background:#ffffff05;border:1px solid var(--color-border);padding:var(--space-md);border-radius:var(--radius-md);margin-bottom:8px;transition:transform .2s}.category-item[_ngcontent-%COMP%]:hover{transform:translate(4px);background:#ffffff0a}.raw-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.raw-price-info[_ngcontent-%COMP%]{font-size:.7rem;color:var(--color-primary);font-weight:600}.raw-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.btn-edit-cat[_ngcontent-%COMP%]{background:transparent;color:var(--color-primary);border:none;cursor:pointer;padding:4px;border-radius:4px;display:flex}.btn-edit-cat[_ngcontent-%COMP%]:hover{background:rgba(var(--color-primary-rgb),.1)}.raw-material-header-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn-ai-sparkle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#a855f7);color:#fff;border:none;padding:10px 20px;border-radius:30px;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 4px 15px #a855f74d;transition:all .3s cubic-bezier(.175,.885,.32,1.275)}.btn-ai-sparkle[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px) scale(1.02);box-shadow:0 6px 20px #a855f766}.btn-ai-sparkle[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-ai-sparkle[_ngcontent-%COMP%]:disabled{background:#4b5563;box-shadow:none;cursor:not-allowed;opacity:.8}.btn-ai-sparkle-mini[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#a855f7);color:#fff;border:none;padding:6px 12px;border-radius:20px;font-size:.75rem;font-weight:600;display:flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 2px 8px #a855f733;transition:all .2s}.btn-ai-sparkle-mini[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);box-shadow:0 4px 12px #a855f74d}.btn-ai-sparkle-mini[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:14px}.ai-suggestions-container[_ngcontent-%COMP%]{margin-top:var(--space-lg);padding:var(--space-md);background:#a855f70d;border:1px dashed rgba(168,85,247,.3);border-radius:var(--radius-lg);animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.suggestions-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin:var(--space-sm) 0}.suggestion-chip[_ngcontent-%COMP%]{background:var(--color-bg);border:1px solid var(--color-border);padding:6px 12px;border-radius:20px;display:flex;align-items:center;gap:8px;cursor:pointer;font-size:.85rem;transition:all .2s}.suggestion-chip[_ngcontent-%COMP%]:hover{border-color:#a855f7;background:#a855f71a;transform:translateY(-1px)}.suggestion-name[_ngcontent-%COMP%]{font-weight:600}.suggestion-cost[_ngcontent-%COMP%]{color:#a855f7;font-weight:500}.suggestion-chip[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--color-text-muted)}.btn-clear-suggestions[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--color-text-muted);font-size:.75rem;cursor:pointer;text-decoration:underline;padding:4px}.rotating[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}']})}}return l})();export{Ut as ProductFormComponent};

import{o as P}from"./chunk-HXWIGYJM.js";import{Aa as r,Ba as x,Qb as b,Ra as g,Sa as v,Sb as C,Ta as f,Va as t,Wa as e,Xa as p,aa as u,db as n,eb as c,fb as d,mb as h,nb as o,pb as l}from"./chunk-MNIEKAC2.js";var M=(()=>{class m{constructor(i){this.inventoryService=i,this.sales=[],this.expenses=[]}ngOnInit(){this.inventoryService.getSales().subscribe(i=>{this.sales=i}),this.inventoryService.getExpenses().subscribe(i=>{this.expenses=i})}get totalIncome(){return this.sales.filter(i=>i.pending!==!0).reduce((i,s)=>i+s.total,0)}get totalExpenses(){return this.expenses.reduce((i,s)=>i+s.price,0)}get netProfit(){return this.totalIncome-this.totalExpenses}get incomePercentage(){let i=this.totalIncome+this.totalExpenses;return i>0?this.totalIncome/i*100:0}get expensePercentage(){let i=this.totalIncome+this.totalExpenses;return i>0?this.totalExpenses/i*100:0}get profitMargin(){return this.totalIncome>0?this.netProfit/this.totalIncome*100:0}get completedSalesCount(){return this.sales.filter(i=>i.pending!==!0).length}get pendingSalesCount(){return this.sales.filter(i=>i.pending===!0).length}get averageSale(){let i=this.completedSalesCount;return i>0?this.totalIncome/i:0}static{this.\u0275fac=function(s){return new(s||m)(x(P))}}static{this.\u0275cmp=u({type:m,selectors:[["app-reports"]],standalone:!0,features:[h],decls:119,vars:62,consts:[[1,"reports-section"],[1,"summary-grid"],[1,"summary-card","income"],[1,"card-icon"],[1,"card-content"],[1,"card-label"],[1,"card-value"],[1,"summary-card","expense"],[1,"summary-card","profit"],[1,"summary-card","margin"],[1,"card","chart-card"],[1,"icon"],[1,"comparison-chart"],[1,"chart-row"],[1,"chart-label"],[1,"chart-bar-wrapper"],[1,"chart-bar","income-bar",3,"title"],[1,"chart-value"],[1,"chart-bar","expense-bar",3,"title"],[1,"chart-legend"],[1,"legend-item"],[1,"legend-color","income-color"],[1,"legend-color","expense-color"],[1,"breakdown-grid"],[1,"card"],[1,"breakdown-stats"],[1,"stat-row"],[1,"stat-label"],[1,"stat-value"]],template:function(s,a){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n(4,"\u{1F4B0}"),e(),t(5,"div",4)(6,"div",5),n(7,"Total Income"),e(),t(8,"div",6),n(9),o(10,"number"),e()()(),t(11,"div",7)(12,"div",3),n(13,"\u{1F4B8}"),e(),t(14,"div",4)(15,"div",5),n(16,"Total Expenses"),e(),t(17,"div",6),n(18),o(19,"number"),e()()(),t(20,"div",8)(21,"div",3),n(22),e(),t(23,"div",4)(24,"div",5),n(25,"Net Profit"),e(),t(26,"div",6),n(27),o(28,"number"),e()()(),t(29,"div",9)(30,"div",3),n(31,"\u{1F4CA}"),e(),t(32,"div",4)(33,"div",5),n(34,"Profit Margin"),e(),t(35,"div",6),n(36),o(37,"number"),e()()()(),t(38,"div",10)(39,"h3")(40,"span",11),n(41,"\u{1F4CA}"),e(),n(42," Income vs Expenses "),e(),t(43,"div",12)(44,"div",13)(45,"div",14),n(46,"Income"),e(),t(47,"div",15),p(48,"div",16),o(49,"number"),e(),t(50,"div",17),n(51),o(52,"number"),e()(),t(53,"div",13)(54,"div",14),n(55,"Expenses"),e(),t(56,"div",15),p(57,"div",18),o(58,"number"),e(),t(59,"div",17),n(60),o(61,"number"),e()()(),t(62,"div",19)(63,"div",20),p(64,"span",21),t(65,"span"),n(66),o(67,"number"),e()(),t(68,"div",20),p(69,"span",22),t(70,"span"),n(71),o(72,"number"),e()()()(),t(73,"div",23)(74,"div",24)(75,"h3")(76,"span",11),n(77,"\u{1F4B5}"),e(),n(78," Income Breakdown "),e(),t(79,"div",25)(80,"div",26)(81,"span",27),n(82,"Total Sales:"),e(),t(83,"span",28),n(84),e()(),t(85,"div",26)(86,"span",27),n(87,"Pending Deliveries:"),e(),t(88,"span",28),n(89),e()(),t(90,"div",26)(91,"span",27),n(92,"Average Sale:"),e(),t(93,"span",28),n(94),o(95,"number"),e()()()(),t(96,"div",24)(97,"h3")(98,"span",11),n(99,"\u{1F4B3}"),e(),n(100," Expense Breakdown "),e(),t(101,"div",25)(102,"div",26)(103,"span",27),n(104,"Total Expenses:"),e(),t(105,"span",28),n(106),e()(),t(107,"div",26)(108,"span",27),n(109,"Average Expense:"),e(),t(110,"span",28),n(111),o(112,"number"),e()(),t(113,"div",26)(114,"span",27),n(115,"Expense Ratio:"),e(),t(116,"span",28),n(117),o(118,"number"),e()()()()()()),s&2&&(r(9),d("\u20B1",l(10,23,a.totalIncome,"1.2-2"),""),r(9),d("\u20B1",l(19,26,a.totalExpenses,"1.2-2"),""),r(2),f("negative",a.netProfit<0),r(2),c(a.netProfit>=0?"\u{1F4C8}":"\u{1F4C9}"),r(5),d("\u20B1",l(28,29,a.netProfit,"1.2-2"),""),r(9),d("",l(37,32,a.profitMargin,"1.1-1"),"%"),r(12),v("width",a.incomePercentage,"%"),g("title","\u20B1"+l(49,35,a.totalIncome,"1.2-2")),r(3),d("\u20B1",l(52,38,a.totalIncome,"1.2-2"),""),r(6),v("width",a.expensePercentage,"%"),g("title","\u20B1"+l(58,41,a.totalExpenses,"1.2-2")),r(3),d("\u20B1",l(61,44,a.totalExpenses,"1.2-2"),""),r(6),d("Income (",l(67,47,a.incomePercentage,"1.1-1"),"%)"),r(5),d("Expenses (",l(72,50,a.expensePercentage,"1.1-1"),"%)"),r(13),c(a.completedSalesCount),r(5),c(a.pendingSalesCount),r(5),d("\u20B1",l(95,53,a.averageSale,"1.2-2"),""),r(12),c(a.expenses.length),r(5),d("\u20B1",a.expenses.length>0?a.totalExpenses/a.expenses.length:l(112,56,0,"1.2-2"),""),r(6),d("",l(118,59,a.expensePercentage,"1.1-1"),"%"))},dependencies:[C,b],styles:[".reports-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xl)}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--space-lg)}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-dark));color:#fff;padding:var(--space-xl);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:var(--space-lg);transition:all var(--transition-base);min-width:0;overflow:hidden}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-xl)}.summary-card.income[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success),#059669)}.summary-card.expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-danger),#dc2626)}.summary-card.profit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af)}.summary-card.profit.negative[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.summary-card.margin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#6d28d9)}.card-icon[_ngcontent-%COMP%]{font-size:3rem;opacity:.9;flex-shrink:0}.card-content[_ngcontent-%COMP%]{flex:1;min-width:0;overflow:hidden}.card-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9;margin-bottom:var(--space-xs);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-value[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.5rem);font-weight:700;word-break:break-all;overflow-wrap:break-word}.chart-card[_ngcontent-%COMP%]{margin-top:var(--space-lg)}.icon[_ngcontent-%COMP%]{font-size:1.5rem}h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-lg)}.comparison-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin:var(--space-xl) 0}.chart-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 120px;gap:var(--space-md);align-items:center}.chart-label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.chart-bar-wrapper[_ngcontent-%COMP%]{height:40px;background:var(--color-bg);border-radius:var(--radius-md);overflow:hidden;border:1px solid var(--color-border)}.chart-bar[_ngcontent-%COMP%]{height:100%;transition:width .5s ease;min-width:2%;display:flex;align-items:center;justify-content:flex-end;padding-right:var(--space-sm);color:#fff;font-weight:600}.income-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--color-success),#10b981)}.expense-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--color-danger),#ef4444)}.chart-value[_ngcontent-%COMP%]{font-weight:700;font-size:1.125rem;color:var(--color-text);text-align:right}.chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--space-xl);margin-top:var(--space-lg);padding-top:var(--space-lg);border-top:1px solid var(--color-border)}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:.875rem;color:var(--color-text)}.legend-color[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:var(--radius-sm)}.income-color[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success),#10b981)}.expense-color[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-danger),#ef4444)}.breakdown-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--space-lg)}.breakdown-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md);margin-top:var(--space-lg)}.stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-sm) 0;border-bottom:1px solid var(--color-border)}.stat-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted)}.stat-value[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--color-text)}@media (max-width: 768px){.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.chart-row[_ngcontent-%COMP%]{grid-template-columns:80px 1fr 100px}.chart-legend[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.breakdown-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return m})();export{M as a};

import{n as L}from"./chunk-VCVPJN2K.js";import{a as O,b as E,c as F,d as q,e as I,f as N,g as V,h as W,i as k,j as T,l as z,m as U,n as D}from"./chunk-IQNO2F6Q.js";import{Aa as c,Ba as b,Nb as S,Pa as w,Ra as m,Sb as x,Va as e,Wa as t,Xa as P,Ya as _,Za as s,_a as f,aa as h,db as n,ia as v,ib as p,ja as y,jb as u,kb as g,mb as M,wa as C}from"./chunk-MNIEKAC2.js";function G(l,A){if(l&1){let o=_();e(0,"div",23),P(1,"img",24),e(2,"button",25),s("click",function(){v(o);let i=f();return y(i.removeImage())}),n(3," \u2715 "),t()()}if(l&2){let o=f();c(),m("src",o.imagePreview,C)}}function B(l,A){if(l&1){let o=_();e(0,"div",26)(1,"input",27),s("change",function(i){v(o);let d=f();return y(d.onImageChange(i))}),t(),e(2,"label",28)(3,"span",29),n(4,"\u{1F4F7}"),t(),e(5,"span",30),n(6,"Click to upload image"),t(),e(7,"span",31),n(8,"PNG, JPG, GIF up to 5MB"),t()()()}}var X=(()=>{class l{constructor(o){this.inventoryService=o,this.product={name:"",category:"",price:0,quantity:0,imageUrl:""},this.imagePreview=null}onImageChange(o){let a=o.target;if(a.files&&a.files[0]){let i=a.files[0],d=new FileReader;d.onload=r=>{this.imagePreview=r.target?.result,this.product.imageUrl=r.target?.result},d.readAsDataURL(i)}}removeImage(){this.imagePreview=null,this.product.imageUrl=""}onSubmit(){this.isValid()&&(this.inventoryService.addProduct({name:this.product.name,category:this.product.category,price:this.product.price,quantity:this.product.quantity,imageUrl:this.product.imageUrl}),this.product={name:"",category:"",price:0,quantity:0,imageUrl:""},this.imagePreview=null)}isValid(){return!!(this.product.name&&this.product.category&&this.product.price>0&&this.product.quantity>0)}static{this.\u0275fac=function(a){return new(a||l)(b(L))}}static{this.\u0275cmp=h({type:l,selectors:[["app-product-form"]],standalone:!0,features:[M],decls:42,vars:7,consts:[[1,"card"],[1,"form",3,"ngSubmit"],[1,"image-upload-section"],[1,"image-upload-label"],["class","image-preview-container",4,"ngIf"],["class","image-upload-area",4,"ngIf"],[1,"form-group"],["for","productName"],["type","text","id","productName","name","name","placeholder","Enter product name","required","",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","category","required","",3,"ngModelChange","ngModel"],["value",""],["value","Lechon"],["value","Hollow blocks"],["value","Sand and Gravel"],["value","Copra"],["value","Others"],[1,"form-row"],["for","price"],["type","number","id","price","name","price","placeholder","0.00","min","0","step","0.01","required","",3,"ngModelChange","ngModel"],["for","quantity"],["type","number","id","quantity","name","quantity","placeholder","0","min","1","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-primary",3,"disabled"],[1,"image-preview-container"],["alt","Product preview","loading","lazy",1,"image-preview",3,"src"],["type","button",1,"remove-image-btn",3,"click"],[1,"image-upload-area"],["type","file","id","productImage","accept","image/*",1,"file-input",3,"change"],["for","productImage",1,"file-input-label"],[1,"upload-icon"],[1,"upload-text"],[1,"upload-hint"]],template:function(a,i){a&1&&(e(0,"div",0)(1,"h3"),n(2,"Add New Product"),t(),e(3,"form",1),s("ngSubmit",function(){return i.onSubmit()}),e(4,"div",2)(5,"label",3),n(6,"Product Image (Optional)"),t(),w(7,G,4,1,"div",4)(8,B,9,0,"div",5),t(),e(9,"div",6)(10,"label",7),n(11,"Product Name"),t(),e(12,"input",8),g("ngModelChange",function(r){return u(i.product.name,r)||(i.product.name=r),r}),t()(),e(13,"div",6)(14,"label",9),n(15,"Category"),t(),e(16,"select",10),g("ngModelChange",function(r){return u(i.product.category,r)||(i.product.category=r),r}),e(17,"option",11),n(18,"-- Select Category --"),t(),e(19,"option",12),n(20,"Lechon"),t(),e(21,"option",13),n(22,"Hollow blocks"),t(),e(23,"option",14),n(24,"Sand and Gravel"),t(),e(25,"option",15),n(26,"Copra"),t(),e(27,"option",16),n(28,"Others"),t()()(),e(29,"div",17)(30,"div",6)(31,"label",18),n(32,"Price"),t(),e(33,"input",19),g("ngModelChange",function(r){return u(i.product.price,r)||(i.product.price=r),r}),t()(),e(34,"div",6)(35,"label",20),n(36,"Quantity"),t(),e(37,"input",21),g("ngModelChange",function(r){return u(i.product.quantity,r)||(i.product.quantity=r),r}),t()()(),e(38,"button",22)(39,"span"),n(40,"\u2795"),t(),n(41," Add Product "),t()()()),a&2&&(c(7),m("ngIf",i.imagePreview),c(),m("ngIf",!i.imagePreview),c(4),p("ngModel",i.product.name),c(4),p("ngModel",i.product.category),c(17),p("ngModel",i.product.price),c(4),p("ngModel",i.product.quantity),c(),m("disabled",!i.isValid()))},dependencies:[x,S,D,N,k,T,O,V,W,E,F,U,z,I,q],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin-top:var(--space-lg)}.image-upload-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.image-upload-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.image-preview-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;margin:0 auto}.image-preview[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:var(--radius-lg);border:2px solid var(--color-border)}.remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:var(--space-sm);right:var(--space-sm);width:32px;height:32px;padding:0;background:var(--color-danger);color:#fff;border:none;border-radius:50%;font-size:1.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-md)}.remove-image-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:scale(1.1)}.image-upload-area[_ngcontent-%COMP%]{width:100%}.file-input[_ngcontent-%COMP%]{display:none}.file-input-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-2xl);border:2px dashed var(--color-border);border-radius:var(--radius-lg);background:var(--color-bg);cursor:pointer;transition:all var(--transition-base)}.file-input-label[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);background:#1e40af0d}.upload-icon[_ngcontent-%COMP%]{font-size:3rem}.upload-text[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text)}.upload-hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-lg)}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:var(--space-md) var(--space-lg);font-size:1rem;margin-top:var(--space-sm)}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return l})();export{X as a};

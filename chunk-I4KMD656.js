import{a as ce}from"./chunk-DX5LSENR.js";import{b as K,c as J,f as X,h as Z,i as ee,j as te,k as ne,m as ie,p as oe}from"./chunk-DGZ2O3NI.js";import{c as le}from"./chunk-PSANGQAQ.js";import"./chunk-2ZM6CYAQ.js";import{a as ae}from"./chunk-QIGGX7RR.js";import{a as re}from"./chunk-YFXRQM6Z.js";import{$a as I,Bb as k,Ca as l,Cb as G,Da as V,Db as E,Sa as u,Ua as d,Va as z,Wa as w,Za as t,_ as W,_a as n,a as q,bc as B,cb as b,cc as U,db as v,eb as s,fc as $,ga as g,gc as Y,ha as m,jc as H,mb as o,nb as _,ob as y,pb as L,qb as F,rb as C,sb as M,tb as S,vb as Q,xa as j}from"./chunk-PYKLABYS.js";import{a as D,b as N}from"./chunk-7QOE2ANW.js";function se(a,p){if(a&1&&(t(0,"option",46),o(1),n()),a&2){let e=p.$implicit;d("value",e),l(),y("",e," / page")}}function de(a,p){a&1&&(t(0,"span",67),o(1,"inventory_2"),n())}function pe(a,p){a&1&&(t(0,"span",68),I(1,"span",69),o(2," In Stock "),n())}function ge(a,p){a&1&&(t(0,"span",70),I(1,"span",69),o(2," Low Stock "),n())}function me(a,p){if(a&1){let e=b();t(0,"tr",49)(1,"td")(2,"div",50)(3,"div",51),u(4,de,2,0,"span",52),n(),t(5,"span",53),o(6),n()()(),t(7,"td")(8,"span",54),o(9),n()(),t(10,"td")(11,"div",55)(12,"div",56)(13,"span",57),o(14),n(),t(15,"span",58),o(16,"/ 100"),n()(),t(17,"div",59),I(18,"div",60),n()()(),t(19,"td",61),o(20),k(21,"number"),n(),t(22,"td"),u(23,pe,3,0,"span",62)(24,ge,3,0,"span",63),n(),t(25,"td",48)(26,"div",64)(27,"button",65),v("click",function(){let i=g(e).$implicit,c=s(2);return m(c.openEditModal(i))}),t(28,"span",17),o(29,"edit"),n()(),t(30,"button",66),v("click",function(){let i=g(e).$implicit,c=s(2);return m(c.onRestock(i))}),t(31,"span",17),o(32,"add_circle"),n()()()()()}if(a&2){let e=p.$implicit;l(3),z("background-image",e.imageUrl?"url("+e.imageUrl+")":"none"),l(),d("ngIf",!e.imageUrl),l(2),_(e.name),l(3),_(e.category),l(4),w("low",e.quantity<10),l(),_(e.quantity),l(4),z("width",e.quantity/100*100,"%"),w("low",e.quantity<10),l(2),y("\u20B1",E(21,15,e.price,"1.2-2"),""),l(3),d("ngIf",e.quantity>10),l(),d("ngIf",e.quantity<=10&&e.quantity>0)}}function ve(a,p){a&1&&(t(0,"tr")(1,"td",71)(2,"div",72)(3,"span",17),o(4,"inventory_2"),n(),t(5,"p"),o(6,"No available products"),n()()()())}function ue(a,p){if(a&1&&(t(0,"div",37)(1,"table",47)(2,"thead")(3,"tr")(4,"th"),o(5,"Product Name"),n(),t(6,"th"),o(7,"Category"),n(),t(8,"th"),o(9,"Stock Level"),n(),t(10,"th"),o(11,"Price"),n(),t(12,"th"),o(13,"Status"),n(),t(14,"th",48),o(15,"Actions"),n()()(),t(16,"tbody"),u(17,me,33,18,"tr",39)(18,ve,7,0,"tr",40),n()()()),a&2){let e=s();l(17),d("ngForOf",e.paginatedAvailableProducts),l(),d("ngIf",e.paginatedAvailableProducts.length===0)}}function _e(a,p){a&1&&(t(0,"span",67),o(1,"inventory_2"),n())}function fe(a,p){if(a&1){let e=b();t(0,"div",76)(1,"div",77),u(2,_e,2,0,"span",52),t(3,"span",78),o(4),n()(),t(5,"div",79)(6,"div",80)(7,"h4",53),o(8),n(),t(9,"span",81),o(10),k(11,"number"),n()(),t(12,"div",55)(13,"div",56)(14,"span",57),o(15),n(),t(16,"span",58),o(17,"Items left"),n()(),t(18,"div",59),I(19,"div",60),n()()(),t(20,"div",82)(21,"button",83),v("click",function(){let i=g(e).$implicit,c=s(2);return m(c.openEditModal(i))}),t(22,"span",17),o(23,"edit"),n(),t(24,"span"),o(25,"Edit"),n()(),t(26,"button",84),v("click",function(){let i=g(e).$implicit,c=s(2);return m(c.onRestock(i))}),t(27,"span",17),o(28,"add_circle"),n(),t(29,"span"),o(30,"Restock"),n()()()()}if(a&2){let e=p.$implicit;l(),z("background-image",e.imageUrl?"url("+e.imageUrl+")":"none"),l(),d("ngIf",!e.imageUrl),l(2),_(e.category),l(4),_(e.name),l(2),y("\u20B1",E(11,13,e.price,"1.2-2"),""),l(4),w("low",e.quantity<10),l(),_(e.quantity),l(4),z("width",e.quantity/100*100,"%"),w("low",e.quantity<10)}}function xe(a,p){a&1&&(t(0,"div",72)(1,"span",17),o(2,"inventory_2"),n(),t(3,"p"),o(4,"No available products"),n()())}function be(a,p){if(a&1&&(t(0,"div",73),u(1,fe,31,16,"div",74)(2,xe,5,0,"div",75),n()),a&2){let e=s();l(),d("ngForOf",e.paginatedAvailableProducts),l(),d("ngIf",e.paginatedAvailableProducts.length===0)}}function ye(a,p){if(a&1){let e=b();t(0,"div",85)(1,"p",86),o(2),n(),t(3,"div",87)(4,"button",88),v("click",function(){g(e);let i=s();return m(i.prevAvailablePage())}),o(5,"Previous"),n(),t(6,"button",88),v("click",function(){g(e);let i=s();return m(i.nextAvailablePage())}),o(7,"Next"),n()()()}if(a&2){let e=s();l(2),L(" Page ",e.availableProductsPage," of ",e.availableProductsTotalPages," "),l(2),d("disabled",e.availableProductsPage===1),l(2),d("disabled",e.availableProductsPage===e.availableProductsTotalPages)}}function Pe(a,p){if(a&1&&(t(0,"option",46),o(1),n()),a&2){let e=p.$implicit;d("value",e),l(),_(e)}}function he(a,p){if(a&1&&(t(0,"span",93),o(1),n()),a&2){let e=s().$implicit,r=s();l(),_(r.getCustomerName(e))}}function Ce(a,p){a&1&&(t(0,"span",94),o(1,"Walk-in"),n())}function Me(a,p){if(a&1&&(t(0,"tr",49)(1,"td"),o(2),n(),t(3,"td",89),u(4,he,2,1,"span",90)(5,Ce,2,0,"span",91),n(),t(6,"td"),o(7),n(),t(8,"td",61),o(9),k(10,"number"),n(),t(11,"td",92),o(12),k(13,"date"),n()()),a&2){let e=p.$implicit,r=s();l(2),_(e.productName),l(2),d("ngIf",r.getCustomerName(e)),l(),d("ngIf",!r.getCustomerName(e)),l(2),_(e.quantitySold),l(2),y("\u20B1",E(10,6,e.total,"1.2-2"),""),l(3),_(E(13,9,e.timestamp,"short"))}}function Se(a,p){a&1&&(t(0,"tr")(1,"td",95)(2,"div",96)(3,"span",17),o(4,"receipt_long"),n(),t(5,"p"),o(6,"No sales yet"),n()()()())}function Oe(a,p){if(a&1){let e=b();t(0,"div",85)(1,"p",86),o(2),n(),t(3,"div",87)(4,"button",88),v("click",function(){g(e);let i=s();return m(i.prevSalesPage())}),o(5,"Prev"),n(),t(6,"button",88),v("click",function(){g(e);let i=s();return m(i.nextSalesPage())}),o(7,"Next"),n()()()}if(a&2){let e=s();l(2),L("Page ",e.salesPage," of ",e.salesTotalPages,""),l(2),d("disabled",e.salesPage===1),l(2),d("disabled",e.salesPage===e.salesTotalPages)}}function we(a,p){a&1&&(t(0,"span",113),o(1,"RESERVATION"),n())}function ke(a,p){if(a&1&&(t(0,"span"),o(1),n()),a&2){let e=p.$implicit,r=p.last;l(),F(" ",e.productName," (x",e.quantitySold,")",r?"":", "," ")}}function Ie(a,p){if(a&1&&(t(0,"div",114),u(1,ke,2,3,"span",115),n()),a&2){let e=s().$implicit;l(),d("ngForOf",e.sales)}}function Ee(a,p){if(a&1&&(t(0,"div",106)(1,"span",17),o(2,"person"),n(),o(3),n()),a&2){let e=s().$implicit;l(3),y(" ",e.customerName," ")}}function Te(a,p){if(a&1&&(t(0,"div",106)(1,"span",17),o(2,"notes"),n(),o(3),n()),a&2){let e=s().$implicit;l(3),y(" ",e.deliveryNotes," ")}}function Ve(a,p){if(a&1){let e=b();t(0,"button",116),v("click",function(){g(e);let i=s().$implicit,c=s();return m(c.confirmReservation(i))}),t(1,"span",17),o(2,"check_circle"),n()()}}function ze(a,p){if(a&1){let e=b();t(0,"button",117),v("click",function(){g(e);let i=s().$implicit,c=s();return m(c.markAsDelivered(i))}),t(1,"span",17),o(2,"local_shipping"),n()()}}function Le(a,p){if(a&1){let e=b();t(0,"div",97)(1,"div",98)(2,"span",17),o(3),n()(),t(4,"div",99)(5,"div",100)(6,"span",101),o(7),n(),u(8,we,2,0,"span",102),n(),u(9,Ie,2,1,"div",103),t(10,"div",104),u(11,Ee,4,1,"div",105),t(12,"div",106)(13,"span",17),o(14,"event"),n(),o(15),k(16,"date"),n(),u(17,Te,4,1,"div",105),t(18,"div",107),o(19),k(20,"number"),n()()(),t(21,"div",108),u(22,Ve,3,0,"button",109)(23,ze,3,0,"button",110),t(24,"button",111),v("click",function(){let i=g(e).$implicit,c=s();return m(c.openEditDeliveryModal(i))}),t(25,"span",17),o(26,"edit"),n()(),t(27,"button",112),v("click",function(){let i=g(e).$implicit,c=s();return m(c.cancelDelivery(i))}),t(28,"span",17),o(29,"cancel"),n()()()()}if(a&2){let e=p.$implicit;w("reservation",e.reservationStatus==="pending_confirmation"),l(3),_(e.isGroup?"inventory":"local_shipping"),l(4),_(e.productName),l(),d("ngIf",e.reservationStatus==="pending_confirmation"),l(),d("ngIf",e.isGroup),l(2),d("ngIf",e.customerName),l(4),y(" ",E(16,12,e.deliveryDate,"MMM d, h:mm a")," "),l(2),d("ngIf",e.deliveryNotes),l(2),y(" \u20B1",E(20,15,e.total,"1.2-2")," "),l(3),d("ngIf",e.reservationStatus==="pending_confirmation"),l(),d("ngIf",e.reservationStatus!=="pending_confirmation")}}function De(a,p){a&1&&(t(0,"div",96)(1,"span",17),o(2,"local_shipping"),n(),t(3,"p"),o(4,"No pending deliveries"),n()())}function Ne(a,p){if(a&1){let e=b();t(0,"div",85)(1,"p",86),o(2),n(),t(3,"div",87)(4,"button",88),v("click",function(){g(e);let i=s();return m(i.prevPendingPage())}),o(5,"Prev"),n(),t(6,"button",88),v("click",function(){g(e);let i=s();return m(i.nextPendingPage())}),o(7,"Next"),n()()()}if(a&2){let e=s();l(2),L("Page ",e.pendingPage," of ",e.pendingTotalPages,""),l(2),d("disabled",e.pendingPage===1),l(2),d("disabled",e.pendingPage===e.pendingTotalPages)}}function Ae(a,p){if(a&1&&I(0,"img",136),a&2){let e=s(2);d("src",e.editImagePreview,j)}}function Re(a,p){a&1&&(t(0,"div",137)(1,"span",17),o(2,"add_photo_alternate"),n()())}function qe(a,p){if(a&1){let e=b();t(0,"button",138),v("click",function(){g(e);let i=s(2);return m(i.removeEditImage())}),o(1,"Remove Image"),n()}}function We(a,p){if(a&1){let e=b();t(0,"div",118),v("click",function(){g(e);let i=s();return m(i.closeEditModal())}),t(1,"div",119),v("click",function(i){return g(e),m(i.stopPropagation())}),t(2,"div",120)(3,"h3")(4,"span",17),o(5,"edit"),n(),o(6," Edit Product "),n(),t(7,"button",121),v("click",function(){g(e);let i=s();return m(i.closeEditModal())}),t(8,"span",17),o(9,"close"),n()()(),t(10,"div",122)(11,"div",123)(12,"label"),o(13,"Product Name"),n(),t(14,"input",124),S("ngModelChange",function(i){g(e);let c=s();return M(c.editProductName,i)||(c.editProductName=i),m(i)}),n()(),t(15,"div",125)(16,"div",123)(17,"label"),o(18,"Quantity"),n(),t(19,"input",126),S("ngModelChange",function(i){g(e);let c=s();return M(c.editProductQuantity,i)||(c.editProductQuantity=i),m(i)}),n()(),t(20,"div",123)(21,"label"),o(22,"Price"),n(),t(23,"input",127),S("ngModelChange",function(i){g(e);let c=s();return M(c.editProductPrice,i)||(c.editProductPrice=i),m(i)}),n()()(),t(24,"div",123)(25,"label"),o(26,"Product Image"),n(),t(27,"div",128),u(28,Ae,1,1,"img",129)(29,Re,3,0,"div",130),t(30,"input",131),v("change",function(i){g(e);let c=s();return m(c.onEditImageChange(i))}),n()(),u(31,qe,2,0,"button",132),n()(),t(32,"div",133)(33,"button",134),v("click",function(){g(e);let i=s();return m(i.closeEditModal())}),o(34,"Cancel"),n(),t(35,"button",135),v("click",function(){g(e);let i=s();return m(i.saveProductEdit())}),o(36,"Save Changes"),n()()()()}if(a&2){let e=s();l(14),C("ngModel",e.editProductName),l(5),C("ngModel",e.editProductQuantity),l(4),C("ngModel",e.editProductPrice),l(5),d("ngIf",e.editImagePreview),l(),d("ngIf",!e.editImagePreview),l(2),d("ngIf",e.editImagePreview)}}function je(a,p){if(a&1&&(t(0,"p",145),o(1," New stock will be: "),t(2,"strong"),o(3),n()()),a&2){let e=s(2);l(3),_(((e.restockingProduct==null?null:e.restockingProduct.quantity)||0)+e.restockQuantity)}}function Fe(a,p){if(a&1){let e=b();t(0,"div",118),v("click",function(){g(e);let i=s();return m(i.closeRestockModal())}),t(1,"div",139),v("click",function(i){return g(e),m(i.stopPropagation())}),t(2,"div",120)(3,"h3")(4,"span",17),o(5,"add_circle"),n(),o(6," Restock Product "),n(),t(7,"button",121),v("click",function(){g(e);let i=s();return m(i.closeRestockModal())}),t(8,"span",17),o(9,"close"),n()()(),t(10,"div",122)(11,"p",140),o(12),n(),t(13,"p",141),o(14,"Current stock: "),t(15,"strong"),o(16),n()(),t(17,"div",123)(18,"label"),o(19,"Quantity to Add"),n(),t(20,"input",142),S("ngModelChange",function(i){g(e);let c=s();return M(c.restockQuantity,i)||(c.restockQuantity=i),m(i)}),n()(),u(21,je,4,1,"p",143),n(),t(22,"div",133)(23,"button",134),v("click",function(){g(e);let i=s();return m(i.closeRestockModal())}),o(24,"Cancel"),n(),t(25,"button",144),v("click",function(){g(e);let i=s();return m(i.confirmRestock())}),t(26,"span",17),o(27,"add"),n(),o(28," Add Stock "),n()()()()}if(a&2){let e=s();l(12),_(e.restockingProduct==null?null:e.restockingProduct.name),l(4),_(e.restockingProduct==null?null:e.restockingProduct.quantity),l(4),C("ngModel",e.restockQuantity),l(),d("ngIf",e.restockQuantity>0),l(4),d("disabled",e.restockQuantity<=0)}}function Qe(a,p){if(a&1&&(t(0,"p",151)(1,"span",17),o(2,"person"),n(),o(3),n()),a&2){let e=s(2);l(3),y(" ",e.editingDeliveryGroup==null?null:e.editingDeliveryGroup.customerName," ")}}function Ge(a,p){if(a&1){let e=b();t(0,"div",118),v("click",function(){g(e);let i=s();return m(i.closeEditDeliveryModal())}),t(1,"div",146),v("click",function(i){return g(e),m(i.stopPropagation())}),t(2,"div",120)(3,"h3")(4,"span",17),o(5,"edit_calendar"),n(),o(6," Edit Delivery "),n(),t(7,"button",121),v("click",function(){g(e);let i=s();return m(i.closeEditDeliveryModal())}),t(8,"span",17),o(9,"close"),n()()(),t(10,"div",122)(11,"p",147),o(12),n(),u(13,Qe,4,1,"p",148),t(14,"div",123)(15,"label"),o(16,"Delivery Date"),n(),t(17,"input",149),S("ngModelChange",function(i){g(e);let c=s();return M(c.editDeliveryDate,i)||(c.editDeliveryDate=i),m(i)}),n()(),t(18,"div",123)(19,"label"),o(20,"Delivery Notes"),n(),t(21,"textarea",150),S("ngModelChange",function(i){g(e);let c=s();return M(c.editDeliveryNotes,i)||(c.editDeliveryNotes=i),m(i)}),n()()(),t(22,"div",133)(23,"button",134),v("click",function(){g(e);let i=s();return m(i.closeEditDeliveryModal())}),o(24,"Cancel"),n(),t(25,"button",135),v("click",function(){g(e);let i=s();return m(i.saveDeliveryEdit())}),t(26,"span",17),o(27,"save"),n(),o(28," Save Changes "),n()()()()}if(a&2){let e=s();l(12),_(e.editingDeliveryGroup==null?null:e.editingDeliveryGroup.productName),l(),d("ngIf",e.editingDeliveryGroup==null?null:e.editingDeliveryGroup.customerName),l(4),C("ngModel",e.editDeliveryDate),l(4),C("ngModel",e.editDeliveryNotes)}}var tt=(()=>{class a{get products(){return this.productsSignal()}get sales(){return this.salesSignal()}get customers(){return this.customersSignal()}constructor(e,r,i,c){this.inventoryService=e,this.customerService=r,this.dialogService=i,this.deviceService=c,this.productsSignal=this.inventoryService.products,this.salesSignal=this.inventoryService.sales,this.customersSignal=this.customerService.customers,this.isMobile=this.deviceService.isMobile,this.inventoryViewMode="table",this.subscriptions=new q,this.selectedCategory="All",this.categories=["All","Lechon","Hollow blocks","Sand and Gravel","Copra","Others"],this.pageSizeOptions=[10,20,50,100],this.availableProductsPage=1,this.availableProductsPageSize=10,this.salesPage=1,this.salesPageSize=10,this.outOfStockPage=1,this.outOfStockPageSize=10,this.pendingPage=1,this.pendingPageSize=10,this.isEditModalOpen=!1,this.editingProduct=null,this.editProductName="",this.editProductQuantity=0,this.editProductPrice=0,this.editProductImage="",this.editImagePreview=null,this.isRestockModalOpen=!1,this.restockingProduct=null,this.restockQuantity=0,this.isEditDeliveryModalOpen=!1,this.editingDeliveryGroup=null,this.editDeliveryDate="",this.editDeliveryNotes=""}ngOnInit(){this.customerService.loadCustomers(),this.isMobile()&&(this.inventoryViewMode="grid")}ngOnDestroy(){this.subscriptions.unsubscribe()}get pendingSales(){return this.salesSignal().filter(e=>e.pending===!0)}get groupedPendingSales(){let e=new Map,r=[];this.pendingSales.forEach(c=>{c.orderId?(e.has(c.orderId)||e.set(c.orderId,[]),e.get(c.orderId).push(c)):r.push(c)});let i=[];return e.forEach((c,f)=>{let x=c[0],O=this.getCustomerName(x);i.push({isGroup:!0,orderId:f,sales:c,total:c.reduce((P,h)=>P+h.total,0),productName:`Order #${f.substring(4,10)}...`,quantityCount:c.length,items:c,timestamp:x.timestamp,deliveryDate:x.deliveryDate,deliveryNotes:x.deliveryNotes,pending:!0,customerName:O,reservationStatus:x.reservationStatus})}),r.forEach(c=>{let f=this.getCustomerName(c);i.push({isGroup:!1,sales:[c],total:c.total,productName:c.productName,quantityCount:1,items:[c],timestamp:c.timestamp,deliveryDate:c.deliveryDate,deliveryNotes:c.deliveryNotes,pending:!0,customerName:f,reservationStatus:c.reservationStatus})}),i.sort((c,f)=>{let x=c.deliveryDate?new Date(c.deliveryDate).getTime():1/0,O=f.deliveryDate?new Date(f.deliveryDate).getTime():1/0;return x-O})}get filteredSales(){let e=this.salesSignal().filter(r=>r.pending!==!0);return this.selectedCategory==="All"?e:e.filter(r=>r.category===this.selectedCategory)}get availableProducts(){return this.productsSignal().filter(e=>e.quantity>0)}get paginatedAvailableProducts(){let e=(this.availableProductsPage-1)*this.availableProductsPageSize,r=e+this.availableProductsPageSize;return this.availableProducts.slice(e,r)}get availableProductsTotalPages(){return Math.ceil(this.availableProducts.length/this.availableProductsPageSize)}get outOfStockProducts(){return this.productsSignal().filter(e=>e.quantity===0)}get paginatedOutOfStockProducts(){let e=(this.outOfStockPage-1)*this.outOfStockPageSize,r=e+this.outOfStockPageSize;return this.outOfStockProducts.slice(e,r)}get outOfStockTotalPages(){return Math.ceil(this.outOfStockProducts.length/this.outOfStockPageSize)}get paginatedSales(){let e=(this.salesPage-1)*this.salesPageSize,r=e+this.salesPageSize;return this.filteredSales.slice(e,r)}get salesTotalPages(){return Math.ceil(this.filteredSales.length/this.salesPageSize)}get salesByCategory(){let e=new Map;return this.salesSignal().filter(r=>!r.pending).forEach(r=>{let i=e.get(r.category)||{total:0,count:0};e.set(r.category,{total:i.total+r.total,count:i.count+1})}),Array.from(e.entries()).map(([r,i])=>({category:r,total:i.total,count:i.count}))}get totalInventoryValue(){return this.productsSignal().reduce((e,r)=>e+r.price*r.quantity,0)}get totalSalesValue(){return this.salesSignal().filter(e=>!e.pending).reduce((e,r)=>e+r.total,0)}nextAvailablePage(){this.availableProductsPage<this.availableProductsTotalPages&&this.availableProductsPage++}prevAvailablePage(){this.availableProductsPage>1&&this.availableProductsPage--}goToAvailablePage(e){e>=1&&e<=this.availableProductsTotalPages&&(this.availableProductsPage=e)}nextSalesPage(){this.salesPage<this.salesTotalPages&&this.salesPage++}prevSalesPage(){this.salesPage>1&&this.salesPage--}goToSalesPage(e){e>=1&&e<=this.salesTotalPages&&(this.salesPage=e)}nextOutOfStockPage(){this.outOfStockPage<this.outOfStockTotalPages&&this.outOfStockPage++}prevOutOfStockPage(){this.outOfStockPage>1&&this.outOfStockPage--}goToOutOfStockPage(e){this.outOfStockPage=e}get paginatedPendingSales(){let e=(this.pendingPage-1)*this.pendingPageSize,r=e+this.pendingPageSize;return this.groupedPendingSales.slice(e,r)}get pendingTotalPages(){return Math.ceil(this.groupedPendingSales.length/this.pendingPageSize)}nextPendingPage(){this.pendingPage<this.pendingTotalPages&&this.pendingPage++}prevPendingPage(){this.pendingPage>1&&this.pendingPage--}goToPendingPage(e){this.pendingPage=e}onPendingPageSizeChange(){this.pendingPage=1}onAvailablePageSizeChange(){this.availableProductsPage=1}onSalesPageSizeChange(){this.salesPage=1}onOutOfStockPageSizeChange(){this.outOfStockPage=1}getPageNumbers(e){return Array.from({length:e},(r,i)=>i+1)}onRestock(e){this.restockingProduct=e,this.restockQuantity=0,this.isRestockModalOpen=!0}closeRestockModal(){this.isRestockModalOpen=!1,this.restockingProduct=null,this.restockQuantity=0}confirmRestock(){this.restockingProduct&&this.restockQuantity>0&&(this.inventoryService.restockProduct(this.restockingProduct.id,this.restockQuantity),this.closeRestockModal())}openEditModal(e){this.editingProduct=e,this.editProductName=e.name,this.editProductQuantity=e.quantity,this.editProductPrice=e.price,this.editProductImage=e.imageUrl||"",this.editImagePreview=e.imageUrl||null,this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editingProduct=null,this.editProductName="",this.editProductQuantity=0,this.editProductPrice=0,this.editProductImage="",this.editImagePreview=null}onEditImageChange(e){let r=e.target;if(r.files&&r.files[0]){let i=r.files[0],c=new FileReader;c.onload=f=>{let x=new Image;x.src=f.target?.result,x.onload=()=>{let O=document.createElement("canvas"),P=x.width,h=x.height,T=800;(P>T||h>T)&&(P>h?(h=Math.round(h*T/P),P=T):(P=Math.round(P*T/h),h=T)),O.width=P,O.height=h;let A=O.getContext("2d");if(A){A.drawImage(x,0,0,P,h);let R=O.toDataURL("image/jpeg",.7);this.editImagePreview=R,this.editProductImage=R}}},c.readAsDataURL(i)}}removeEditImage(){this.editImagePreview=null,this.editProductImage=""}saveProductEdit(){if(!this.editingProduct)return;if(!this.editProductName.trim()){this.dialogService.warning("Product name cannot be empty","Validation Error");return}if(this.editProductQuantity<0){this.dialogService.warning("Quantity cannot be negative","Validation Error");return}if(this.editProductPrice<0){this.dialogService.warning("Price cannot be negative","Validation Error");return}let e=N(D({},this.editingProduct),{name:this.editProductName,quantity:this.editProductQuantity,price:this.editProductPrice,imageUrl:this.editProductImage});this.inventoryService.updateProduct(e).subscribe(),this.closeEditModal()}getCustomerName(e){if(e.customerName)return e.customerName;if(e.customerId){let r=this.customersSignal().find(i=>i.id===e.customerId);if(r)return r.name}return""}markAsDelivered(e){let r=e.isGroup?`Mark all ${e.quantityCount} items in this order as delivered?`:`Mark "${e.productName}" as delivered?`;this.dialogService.confirm(r,"Mark as Delivered").subscribe(i=>{i&&e.sales.forEach(c=>{this.inventoryService.completePendingSale(c.id)})})}cancelDelivery(e){let r=e.isGroup?`Cancel all ${e.quantityCount} items in this order? This action cannot be undone.`:`Cancel delivery for "${e.productName}"? This action cannot be undone.`;this.dialogService.confirm(r,"Cancel Delivery").subscribe(i=>{i&&e.sales.forEach(c=>{this.inventoryService.deleteSale(c.id)})})}confirmReservation(e){let r=e.isGroup?`Confirm all ${e.quantityCount} items in this order? This will deduct items from inventory.`:`Confirm reservation for "${e.productName}"? This will deduct items from inventory.`;this.dialogService.confirm(r,"Confirm Reservation").subscribe(i=>{i&&e.sales.forEach(c=>{this.inventoryService.confirmReservation(c)})})}openEditDeliveryModal(e){this.editingDeliveryGroup=e;let r=e.sales[0];this.editDeliveryDate=r.deliveryDate?new Date(r.deliveryDate).toISOString().split("T")[0]:"",this.editDeliveryNotes=r.deliveryNotes||"",this.isEditDeliveryModalOpen=!0}closeEditDeliveryModal(){this.isEditDeliveryModalOpen=!1,this.editingDeliveryGroup=null,this.editDeliveryDate="",this.editDeliveryNotes=""}saveDeliveryEdit(){if(!this.editingDeliveryGroup)return;let e=this.editDeliveryDate?new Date(this.editDeliveryDate):null;this.editingDeliveryGroup.sales.forEach(r=>{let i=N(D({},r),{deliveryDate:e||r.deliveryDate,deliveryNotes:this.editDeliveryNotes});this.inventoryService.updateSale(i)}),this.closeEditDeliveryModal()}static{this.\u0275fac=function(r){return new(r||a)(V(le),V(ae),V(re),V(ce))}}static{this.\u0275cmp=W({type:a,selectors:[["app-inventory-list"]],standalone:!0,features:[Q],decls:112,vars:29,consts:[[1,"inventory-container"],[1,"page-header"],[1,"header-content"],[1,"header-title-section"],[1,"page-title"],[1,"page-subtitle"],[1,"header-search"],[1,"search-box"],[1,"material-icon","search-icon"],["type","text","placeholder","Search SKU, product, or category...",1,"search-input"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"stat-icon-container","blue"],[1,"material-icon"],[1,"stat-trend","trend-up"],[1,"trend-label"],[1,"stat-icon-container","orange"],[1,"stat-trend","trend-warning"],[1,"stat-icon-container","purple"],[1,"stat-trend"],[1,"table-card"],[1,"table-header"],[1,"table-title"],[1,"table-actions"],[1,"view-controls"],["title","Table View",1,"view-btn",3,"click"],["title","Grid View",1,"view-btn",3,"click"],[1,"filter-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","table-wrapper",4,"ngIf"],["class","inventory-grid",4,"ngIf"],["class","table-footer",4,"ngIf"],[1,"bottom-grid"],[1,"table-wrapper"],[1,"data-table","compact"],["class","table-row",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"badge"],[1,"delivery-list"],["class","delivery-item",3,"reservation",4,"ngFor","ngForOf"],["class","empty-state small",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"data-table"],[1,"text-right"],[1,"table-row"],[1,"product-cell"],[1,"product-image"],["class","material-icon no-image",4,"ngIf"],[1,"product-name"],[1,"category-badge"],[1,"stock-level"],[1,"stock-info"],[1,"stock-count"],[1,"stock-max"],[1,"stock-bar-bg"],[1,"stock-bar"],[1,"price-cell"],["class","status-badge active",4,"ngIf"],["class","status-badge low-stock",4,"ngIf"],[1,"action-buttons"],["title","Edit",1,"action-btn",3,"click"],["title","Restock",1,"action-btn",3,"click"],[1,"material-icon","no-image"],[1,"status-badge","active"],[1,"status-dot"],[1,"status-badge","low-stock"],["colspan","6",1,"empty-row"],[1,"empty-state"],[1,"inventory-grid"],["class","inventory-card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"inventory-card"],[1,"card-image"],[1,"category-badge","overlay"],[1,"card-content"],[1,"card-header"],[1,"price"],[1,"card-actions"],[1,"action-btn","edit",3,"click"],[1,"action-btn","restock",3,"click"],[1,"table-footer"],[1,"page-info"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"customer-cell"],["class","customer-name",4,"ngIf"],["class","no-customer",4,"ngIf"],[1,"date-cell"],[1,"customer-name"],[1,"no-customer"],["colspan","5",1,"empty-row"],[1,"empty-state","small"],[1,"delivery-item"],[1,"delivery-icon"],[1,"delivery-info"],[1,"delivery-header-row"],[1,"delivery-name"],["class","reservation-badge",4,"ngIf"],["class","delivery-items-preview",4,"ngIf"],[1,"delivery-meta-row"],["class","meta-item",4,"ngIf"],[1,"meta-item"],[1,"meta-item","price"],[1,"delivery-actions"],["class","action-btn confirm","title","Confirm Reservation",3,"click",4,"ngIf"],["class","action-btn deliver","title","Mark as Delivered",3,"click",4,"ngIf"],["title","Edit",1,"action-btn","edit",3,"click"],["title","Cancel",1,"action-btn","cancel",3,"click"],[1,"reservation-badge"],[1,"delivery-items-preview"],[4,"ngFor","ngForOf"],["title","Confirm Reservation",1,"action-btn","confirm",3,"click"],["title","Mark as Delivered",1,"action-btn","deliver",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","Enter product name",3,"ngModelChange","ngModel"],[1,"form-row"],["type","number","min","0",3,"ngModelChange","ngModel"],["type","number","min","0","step","0.01",3,"ngModelChange","ngModel"],[1,"image-upload"],["class","image-preview",3,"src",4,"ngIf"],["class","image-placeholder",4,"ngIf"],["type","file","accept","image/*",1,"file-input",3,"change"],["class","btn-remove-image",3,"click",4,"ngIf"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"image-preview",3,"src"],[1,"image-placeholder"],[1,"btn-remove-image",3,"click"],[1,"modal-content","restock-modal",3,"click"],[1,"restock-product-name"],[1,"restock-current"],["type","number","min","1","placeholder","Enter quantity",1,"restock-input",3,"ngModelChange","ngModel"],["class","restock-result",4,"ngIf"],[1,"btn-save",3,"click","disabled"],[1,"restock-result"],[1,"modal-content","edit-delivery-modal",3,"click"],[1,"edit-delivery-title"],["class","edit-delivery-customer",4,"ngIf"],["type","date",3,"ngModelChange","ngModel"],["rows","3","placeholder","Add notes...",3,"ngModelChange","ngModel"],[1,"edit-delivery-customer"]],template:function(r,i){r&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"h2",4),o(5,"Inventory Overview"),n(),t(6,"p",5),o(7,"Manage your stock, track sales, and monitor deliveries."),n()(),t(8,"div",6)(9,"div",7)(10,"span",8),o(11,"search"),n(),I(12,"input",9),n()()()(),t(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"span",14),o(18,"Total Products"),n(),t(19,"span",15),o(20),k(21,"number"),n()(),t(22,"div",16)(23,"span",17),o(24,"inventory_2"),n()()(),t(25,"div",18)(26,"span",17),o(27,"trending_up"),n(),o(28),t(29,"span",19),o(30,"available items"),n()()(),t(31,"div",11)(32,"div",12)(33,"div",13)(34,"span",14),o(35,"Low Stock Alerts"),n(),t(36,"span",15),o(37),n()(),t(38,"div",20)(39,"span",17),o(40,"warning"),n()()(),t(41,"div",21)(42,"span",19),o(43),n()()(),t(44,"div",11)(45,"div",12)(46,"div",13)(47,"span",14),o(48,"Pending Deliveries"),n(),t(49,"span",15),o(50),n()(),t(51,"div",22)(52,"span",17),o(53,"local_shipping"),n()()(),t(54,"div",23)(55,"span",19),o(56),n()()()(),t(57,"div",24)(58,"div",25)(59,"h3",26),o(60,"Available Inventory"),n(),t(61,"div",27)(62,"div",28)(63,"button",29),v("click",function(){return i.inventoryViewMode="table"}),t(64,"span",17),o(65,"view_list"),n()(),t(66,"button",30),v("click",function(){return i.inventoryViewMode="grid"}),t(67,"span",17),o(68,"grid_view"),n()()(),t(69,"select",31),S("ngModelChange",function(f){return M(i.availableProductsPageSize,f)||(i.availableProductsPageSize=f),f}),v("change",function(){return i.onAvailablePageSizeChange()}),u(70,se,2,2,"option",32),n()()(),u(71,ue,19,2,"div",33)(72,be,3,2,"div",34)(73,ye,8,4,"div",35),n(),t(74,"div",36)(75,"div",24)(76,"div",25)(77,"h3",26),o(78,"Sales History"),n(),t(79,"select",31),S("ngModelChange",function(f){return M(i.selectedCategory,f)||(i.selectedCategory=f),f}),v("change",function(){return i.salesPage=1}),u(80,Pe,2,2,"option",32),n()(),t(81,"div",37)(82,"table",38)(83,"thead")(84,"tr")(85,"th"),o(86,"Product"),n(),t(87,"th"),o(88,"Customer"),n(),t(89,"th"),o(90,"Qty"),n(),t(91,"th"),o(92,"Total"),n(),t(93,"th"),o(94,"Date"),n()()(),t(95,"tbody"),u(96,Me,14,12,"tr",39)(97,Se,7,0,"tr",40),n()()(),u(98,Oe,8,4,"div",35),n(),t(99,"div",24)(100,"div",25)(101,"h3",26),o(102,"Pending Deliveries"),n(),t(103,"span",41),o(104),n()(),t(105,"div",42),u(106,Le,30,18,"div",43)(107,De,5,0,"div",44),n(),u(108,Ne,8,4,"div",35),n()()(),u(109,We,37,6,"div",45)(110,Fe,29,5,"div",45)(111,Ge,29,4,"div",45)),r&2&&(l(20),_(G(21,27,i.products.length)),l(8),y(" +",i.availableProducts.length," "),l(9),_(i.outOfStockProducts.length),l(6),_(i.outOfStockProducts.length>0?"Require attention":"All stocked"),l(7),_(i.pendingSales.length),l(6),_(i.pendingSales.length>0?"Awaiting delivery":"None pending"),l(7),w("active",i.inventoryViewMode==="table"),l(3),w("active",i.inventoryViewMode==="grid"),l(3),C("ngModel",i.availableProductsPageSize),l(),d("ngForOf",i.pageSizeOptions),l(),d("ngIf",i.inventoryViewMode==="table"),l(),d("ngIf",i.inventoryViewMode==="grid"),l(),d("ngIf",i.availableProductsTotalPages>1),l(6),C("ngModel",i.selectedCategory),l(),d("ngForOf",i.categories),l(16),d("ngForOf",i.paginatedSales),l(),d("ngIf",i.paginatedSales.length===0),l(),d("ngIf",i.salesTotalPages>1),l(6),_(i.pendingSales.length),l(2),d("ngForOf",i.paginatedPendingSales),l(),d("ngIf",i.paginatedPendingSales.length===0),l(),d("ngIf",i.pendingTotalPages>1),l(),d("ngIf",i.isEditModalOpen),l(),d("ngIf",i.isRestockModalOpen),l(),d("ngIf",i.isEditDeliveryModalOpen))},dependencies:[H,B,U,Y,$,oe,te,ne,K,Z,ee,J,ie,X],styles:['.material-icon[_ngcontent-%COMP%]{font-family:Material Symbols Outlined,sans-serif;font-weight:400;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.inventory-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);height:100%;overflow-y:auto;padding-bottom:var(--space-lg)}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.header-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:var(--space-md)}.header-title-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-text);margin:0}.page-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);margin:0}.search-box[_ngcontent-%COMP%]{position:relative;min-width:280px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);font-size:20px;color:var(--color-text-muted)}.search-input[_ngcontent-%COMP%]{width:100%;padding:var(--space-sm) var(--space-md);padding-left:44px;border:none;border-radius:var(--radius-lg);background:var(--color-surface);color:var(--color-text);font-size:.875rem}.search-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px var(--color-primary)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-md)}.stat-card[_ngcontent-%COMP%]{padding:var(--space-lg);background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-xl);box-shadow:var(--shadow-sm);display:flex;flex-direction:column;justify-content:space-between;min-height:120px}.stat-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);font-weight:500}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--color-text)}.stat-icon-container[_ngcontent-%COMP%]{padding:var(--space-sm);border-radius:var(--radius-lg)}.stat-icon-container[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:24px}.stat-icon-container.blue[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.stat-icon-container.orange[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.stat-icon-container.purple[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-xs);font-size:.875rem;margin-top:auto}.stat-trend[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:16px}.stat-trend.trend-up[_ngcontent-%COMP%]{color:#10b981}.stat-trend.trend-warning[_ngcontent-%COMP%]{color:#f59e0b}.trend-label[_ngcontent-%COMP%]{color:var(--color-text-muted)}.table-card[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-xl);overflow:hidden;box-shadow:var(--shadow-sm)}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-md) var(--space-lg);border-bottom:1px solid var(--color-border)}.table-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-text);margin:0}.table-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);align-items:center}.view-controls[_ngcontent-%COMP%]{display:flex;gap:4px;background:var(--color-bg);padding:4px;border-radius:var(--radius-md);border:1px solid var(--color-border)}.view-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:none;background:transparent;color:var(--color-text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all .2s}.view-btn.active[_ngcontent-%COMP%]{background:var(--color-surface);color:var(--color-primary);box-shadow:var(--shadow-sm)}.view-btn[_ngcontent-%COMP%]:hover:not(.active){background:#0000000d}.view-btn[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}.inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:var(--space-lg);padding:var(--space-lg);background:var(--color-bg)}.inventory-card[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:var(--radius-xl);overflow:hidden;border:1px solid var(--color-border);display:flex;flex-direction:column;transition:all .3s cubic-bezier(.4,0,.2,1)}.inventory-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--color-primary)}.card-image[_ngcontent-%COMP%]{height:160px;background-color:var(--color-bg);background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.card-image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{font-size:48px;color:var(--color-text-muted);opacity:.5}.card-image[_ngcontent-%COMP%]   .category-badge.overlay[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;background:#ffffffe6;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.card-content[_ngcontent-%COMP%]{padding:var(--space-md);display:flex;flex-direction:column;gap:var(--space-md);flex:1}.card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.card-header[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:var(--color-text);margin:0}.card-header[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:var(--color-primary)}.card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:var(--space-md);border-top:1px solid var(--color-border);background:var(--color-bg)}.card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{flex:1;height:38px;gap:8px;font-weight:600;font-size:.813rem;background:var(--color-surface);border:1px solid var(--color-border)}.card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}@media (max-width: 640px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:var(--space-md)}}.filter-select[_ngcontent-%COMP%]{padding:var(--space-xs) var(--space-sm);border:1px solid var(--color-border);border-radius:var(--radius-lg);background:var(--color-bg);color:var(--color-text);font-size:.75rem}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:24px;padding:0 var(--space-xs);background:var(--color-primary);color:#fff;border-radius:9999px;font-size:.75rem;font-weight:600}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;text-align:left}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--color-bg);position:sticky;top:0;z-index:10}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:var(--space-md) var(--space-lg);font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:var(--color-text-muted);border-bottom:2px solid var(--color-border)}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem var(--space-lg);font-size:.875rem;border-bottom:1px solid var(--color-border);vertical-align:middle;color:var(--color-text)}.data-table.compact[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table.compact[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md)}.table-row[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.4,0,.2,1)}.table-row[_ngcontent-%COMP%]:hover{background:#fff;box-shadow:0 4px 12px #0000000d;transform:scale(1.002);z-index:1;position:relative}body.dark-theme[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#ffffff08}.text-right[_ngcontent-%COMP%]{text-align:right}.product-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-lg)}.product-image[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:var(--radius-lg);background-color:var(--color-bg);background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;flex-shrink:0;border:1px solid var(--color-border);box-shadow:var(--shadow-sm)}.product-image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:24px;opacity:.5}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem;color:var(--color-text);letter-spacing:-.01em}.category-badge[_ngcontent-%COMP%]{display:inline-flex;padding:4px 10px;background:var(--color-bg);color:var(--color-text-muted);border-radius:9999px;font-size:.75rem;font-weight:500}.stock-level[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:140px}.stock-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;font-size:.75rem}.stock-count[_ngcontent-%COMP%]{font-weight:800;color:var(--color-text);font-size:.875rem}.stock-count.low[_ngcontent-%COMP%]{color:#ef4444}.stock-max[_ngcontent-%COMP%]{color:var(--color-text-muted);font-weight:500;opacity:.8}.stock-bar-bg[_ngcontent-%COMP%]{height:8px;background:var(--color-bg);border-radius:4px;overflow:hidden;border:1px solid var(--color-border)}.stock-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--color-primary),#60a5fa);border-radius:4px;transition:width .6s cubic-bezier(.4,0,.2,1)}.stock-bar.low[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#f87171)}.price-cell[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.date-cell[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:.75rem}.customer-cell[_ngcontent-%COMP%]{font-size:.75rem}.customer-name[_ngcontent-%COMP%]{color:var(--color-text);font-weight:500}.no-customer[_ngcontent-%COMP%]{color:var(--color-text-muted);font-style:italic}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:9999px;font-size:.75rem;font-weight:500}.status-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%}.status-badge.active[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.status-badge.active[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981}.status-badge.low-stock[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.status-badge.low-stock[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#f59e0b}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);justify-content:flex-end}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:none;background:transparent;color:var(--color-text-muted);border-radius:var(--radius-lg);cursor:pointer;transition:all .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#137fec1a;color:var(--color-primary)}.action-btn[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}.table-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-md) var(--space-lg);border-top:1px solid var(--color-border);background:var(--color-bg)}.page-info[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);margin:0}.pagination-controls[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm)}.pagination-btn[_ngcontent-%COMP%]{padding:var(--space-xs) var(--space-md);border:1px solid var(--color-border);background:var(--color-surface);color:var(--color-text-muted);border-radius:var(--radius-lg);font-size:.875rem;cursor:pointer}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-bg);color:var(--color-text)}.empty-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--space-2xl)!important;text-align:center}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-md);padding:var(--space-lg);color:var(--color-text-muted)}.empty-state.small[_ngcontent-%COMP%]{padding:var(--space-md)}.empty-state[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:48px;opacity:.5}.empty-state.small[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:32px}.bottom-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-lg)}.delivery-list[_ngcontent-%COMP%]{padding:var(--space-md);display:flex;flex-direction:column;gap:var(--space-sm)}.delivery-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-lg);background:var(--color-bg);transition:all .2s}.delivery-item[_ngcontent-%COMP%]:hover{border-color:var(--color-primary)}.delivery-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--color-surface);border:1px solid var(--color-border);display:flex;align-items:center;justify-content:center;flex-shrink:0}.delivery-icon[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--color-text-muted)}.delivery-info[_ngcontent-%COMP%]{flex:1}.delivery-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text);margin:0}.delivery-item.reservation[_ngcontent-%COMP%]{border:1px solid #f97316;border-left:4px solid #f97316;background:#f973160d}.delivery-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:2px}.reservation-badge[_ngcontent-%COMP%]{background:#f97316;color:#fff;font-size:.625rem;font-weight:700;padding:2px 8px;border-radius:9999px;letter-spacing:.5px}.delivery-items-preview[_ngcontent-%COMP%]{font-size:.8rem;color:var(--color-text-muted);line-height:1.4;margin-bottom:4px}.delivery-meta-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-md);align-items:center;margin-top:4px}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.75rem;color:var(--color-text-muted)}.meta-item[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:14px}.meta-item.price[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text);margin-left:auto;font-size:.85rem}.delivery-actions[_ngcontent-%COMP%]{display:flex;gap:4px;flex-shrink:0}.delivery-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:var(--radius-md)}.delivery-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:16px}.delivery-actions[_ngcontent-%COMP%]   .action-btn.confirm[_ngcontent-%COMP%]{color:#10b981}.delivery-actions[_ngcontent-%COMP%]   .action-btn.confirm[_ngcontent-%COMP%]:hover{background:#10b9811a}.delivery-actions[_ngcontent-%COMP%]   .action-btn.deliver[_ngcontent-%COMP%]{color:#3b82f6}.delivery-actions[_ngcontent-%COMP%]   .action-btn.deliver[_ngcontent-%COMP%]:hover{background:#3b82f61a}.delivery-actions[_ngcontent-%COMP%]   .action-btn.edit[_ngcontent-%COMP%]{color:var(--color-primary)}.delivery-actions[_ngcontent-%COMP%]   .action-btn.edit[_ngcontent-%COMP%]:hover{background:#3b82f61a}.delivery-actions[_ngcontent-%COMP%]   .action-btn.cancel[_ngcontent-%COMP%]{color:#ef4444}.delivery-actions[_ngcontent-%COMP%]   .action-btn.cancel[_ngcontent-%COMP%]:hover{background:#ef44441a}.edit-delivery-modal[_ngcontent-%COMP%]{max-width:420px}.edit-delivery-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-text);margin:0 0 var(--space-xs)}.edit-delivery-customer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.875rem;color:var(--color-primary);margin:0 0 var(--space-md)}.edit-delivery-customer[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:16px}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-lg);background:var(--color-bg);color:var(--color-text);font-size:.875rem;font-family:inherit;resize:vertical}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:2000;padding:var(--space-lg)}.modal-content[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:var(--radius-xl);width:100%;max-width:480px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 20px 60px #0006;animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-lg);border-bottom:1px solid var(--color-border)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:1.125rem;font-weight:700;color:var(--color-text);margin:0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{color:var(--color-primary)}.modal-close[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background:var(--color-bg);border-radius:var(--radius-lg);color:var(--color-text-muted);cursor:pointer}.modal-close[_ngcontent-%COMP%]:hover{background:#ef44441a;color:#ef4444}.modal-body[_ngcontent-%COMP%]{padding:var(--space-lg);overflow-y:auto;display:flex;flex-direction:column;gap:var(--space-md)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-lg);background:var(--color-bg);color:var(--color-text);font-size:.875rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md)}.image-upload[_ngcontent-%COMP%]{position:relative;width:100%;height:120px;border:2px dashed var(--color-border);border-radius:var(--radius-lg);overflow:hidden;display:flex;align-items:center;justify-content:center}.image-preview[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-placeholder[_ngcontent-%COMP%]{color:var(--color-text-muted)}.image-placeholder[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:48px}.file-input[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;cursor:pointer}.btn-remove-image[_ngcontent-%COMP%]{padding:var(--space-xs) var(--space-sm);background:#ef44441a;color:#ef4444;border:none;border-radius:var(--radius-md);font-size:.75rem;cursor:pointer;margin-top:var(--space-xs)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--space-sm);padding:var(--space-lg);border-top:1px solid var(--color-border)}.btn-cancel[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-lg);border:1px solid var(--color-border);background:transparent;color:var(--color-text);border-radius:var(--radius-lg);font-size:.875rem;cursor:pointer}.btn-save[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-lg);background:var(--color-primary);color:#fff;border:none;border-radius:var(--radius-lg);font-size:.875rem;font-weight:600;cursor:pointer}.btn-save[_ngcontent-%COMP%]:hover{background:var(--color-primary-dark)}@media (max-width: 1024px){.bottom-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-box[_ngcontent-%COMP%]{min-width:100%}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md)}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}body.dark-theme[_nghost-%COMP%]   .stat-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .stat-card[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .table-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .table-card[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b}body.dark-theme[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .table-footer[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .table-footer[_ngcontent-%COMP%]{background:#101922}.restock-modal[_ngcontent-%COMP%]{max-width:400px}.restock-product-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--color-text);margin:0}.restock-current[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);margin:var(--space-xs) 0 var(--space-md)}.restock-current[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--color-text)}.restock-input[_ngcontent-%COMP%]{font-size:1.25rem!important;text-align:center;padding:var(--space-md)!important}.restock-result[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-primary);background:#137fec1a;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-lg);text-align:center;margin:0}.restock-result[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.125rem}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-save[_ngcontent-%COMP%]   .material-icon[_ngcontent-%COMP%]{font-size:18px}']})}}return a})();export{tt as InventoryListComponent};

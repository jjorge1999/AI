var kI=Object.defineProperty,FI=Object.defineProperties;var VI=Object.getOwnPropertyDescriptors;var cy=Object.getOwnPropertySymbols;var LI=Object.prototype.hasOwnProperty,jI=Object.prototype.propertyIsEnumerable;var ly=(n,e,t)=>e in n?kI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,X=(n,e)=>{for(var t in e||={})LI.call(e,t)&&ly(n,t,e[t]);if(cy)for(var t of cy(e))jI.call(e,t)&&ly(n,t,e[t]);return n},Ie=(n,e)=>FI(n,VI(e));var L=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{c(t.next(l))}catch(d){i(d)}},s=l=>{try{c(t.throw(l))}catch(d){i(d)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);c((t=t.apply(n,e)).next())});var uy=null;var Fu=1,Vu=Symbol("SIGNAL");function De(n){let e=uy;return uy=n,e}var dy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function BI(n){if(!(Bu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Fu)){if(!n.producerMustRecompute(n)&&!Lu(n)){n.dirty=!1,n.lastCleanEpoch=Fu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Fu}}function hy(n){return n&&(n.nextProducerIndex=0),De(n)}function fy(n,e){if(De(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Bu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ju(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Lu(n){wa(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(BI(t),r!==t.version))return!0}return!1}function py(n){if(wa(n),Bu(n))for(let e=0;e<n.producerNode.length;e++)ju(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ju(n,e){if(UI(n),wa(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)ju(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];wa(i),i.producerIndexOfThis[r]=e}}function Bu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function UI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function $I(){throw new Error}var zI=$I;function my(n){zI=n}function fe(n){return typeof n=="function"}function ba(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ea=ba(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Yo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var St=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof Ea?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{gy(o)}catch(s){e=e??[],s instanceof Ea?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ea(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gy(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Yo(t,e)}remove(e){let{_finalizers:t}=this;t&&Yo(t,e),e instanceof n&&e._removeParent(this)}};St.EMPTY=(()=>{let n=new St;return n.closed=!0,n})();var Uu=St.EMPTY;function Ca(n){return n instanceof St||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function gy(n){fe(n)?n():n.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ni={setTimeout(n,e,...t){let{delegate:r}=Ni;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ni;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ia(n){Ni.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(n);else throw n})}function $u(){}var yy=zu("C",void 0,void 0);function vy(n){return zu("E",void 0,n)}function _y(n){return zu("N",n,void 0)}function zu(n,e,t){return{kind:n,value:e,error:t}}var Wr=null;function Oi(n){if(rn.useDeprecatedSynchronousErrorHandling){let e=!Wr;if(e&&(Wr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Wr;if(Wr=null,t)throw r}}else n()}function wy(n){rn.useDeprecatedSynchronousErrorHandling&&Wr&&(Wr.errorThrown=!0,Wr.error=n)}var Kr=class extends St{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ca(e)&&e.add(this)):this.destination=GI}static create(e,t,r){return new Ri(e,t,r)}next(e){this.isStopped?qu(_y(e),this):this._next(e)}error(e){this.isStopped?qu(vy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qu(yy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HI=Function.prototype.bind;function Hu(n,e){return HI.call(n,e)}var Gu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Da(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Da(r)}else Da(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Da(t)}}},Ri=class extends Kr{constructor(e,t,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hu(e.next,o),error:e.error&&Hu(e.error,o),complete:e.complete&&Hu(e.complete,o)}):i=e}this.destination=new Gu(i)}};function Da(n){rn.useDeprecatedSynchronousErrorHandling?wy(n):Ia(n)}function qI(n){throw n}function qu(n,e){let{onStoppedNotification:t}=rn;t&&Ni.setTimeout(()=>t(n,e))}var GI={closed:!0,next:$u,error:qI,complete:$u};var ki=typeof Symbol=="function"&&Symbol.observable||"@@observable";function by(n){return n}function Ey(n){return n.length===0?by:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=KI(t)?t:new Ri(t,r,i);return Oi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Cy(r),new r((i,o)=>{let s=new Ri({next:c=>{try{t(c)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ki](){return this}pipe(...t){return Ey(t)(this)}toPromise(t){return t=Cy(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Cy(n){var e;return(e=n??rn.Promise)!==null&&e!==void 0?e:Promise}function WI(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}function KI(n){return n&&n instanceof Kr||WI(n)&&Ca(n)}function QI(n){return fe(n?.lift)}function Mt(n){return e=>{if(QI(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function At(n,e,t,r,i){return new Wu(n,e,t,r,i)}var Wu=class extends Kr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Iy=ba(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mr=(()=>{class n extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new xa(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Iy}next(t){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Uu:(this.currentObservers=null,o.push(t),new St(()=>{this.currentObservers=null,Yo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Qe;return t.source=this,t}}return n.create=(e,t)=>new xa(e,t),n})(),xa=class extends mr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Uu}};var Ct=class extends mr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function Dy(n){return n&&fe(n.schedule)}function xy(n){return n[n.length-1]}function Ty(n){return fe(xy(n))?n.pop():void 0}function Sy(n){return Dy(xy(n))?n.pop():void 0}function Ay(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{d(r.next(f))}catch(g){s(g)}}function l(f){try{d(r.throw(f))}catch(g){s(g)}}function d(f){f.done?o(f.value):i(f.value).then(c,l)}d((r=r.apply(n,e||[])).next())})}function My(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qr(n){return this instanceof Qr?(this.v=n,this):new Qr(n)}function Py(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(P){return Promise.resolve(P).then(E,g)}}function c(E,P){r[E]&&(i[E]=function(N){return new Promise(function(O,z){o.push([E,N,O,z])>1||l(E,N)})},P&&(i[E]=P(i[E])))}function l(E,P){try{d(r[E](P))}catch(N){w(o[0][3],N)}}function d(E){E.value instanceof Qr?Promise.resolve(E.value.v).then(f,g):w(o[0][2],E)}function f(E){l("next",E)}function g(E){l("throw",E)}function w(E,P){E(P),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Ny(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof My=="function"?My(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,l){s=n[o](s),i(c,l,s.done,s.value)})}}function i(o,s,c,l){Promise.resolve(l).then(function(d){o({value:d,done:c})},s)}}var Ta=n=>n&&typeof n.length=="number"&&typeof n!="function";function Sa(n){return fe(n?.then)}function Ma(n){return fe(n[ki])}function Aa(n){return Symbol.asyncIterator&&fe(n?.[Symbol.asyncIterator])}function Pa(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Na=YI();function Oa(n){return fe(n?.[Na])}function Ra(n){return Py(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Qr(t.read());if(i)return yield Qr(void 0);yield yield Qr(r)}}finally{t.releaseLock()}})}function ka(n){return fe(n?.getReader)}function Pt(n){if(n instanceof Qe)return n;if(n!=null){if(Ma(n))return JI(n);if(Ta(n))return XI(n);if(Sa(n))return ZI(n);if(Aa(n))return Oy(n);if(Oa(n))return eD(n);if(ka(n))return tD(n)}throw Pa(n)}function JI(n){return new Qe(e=>{let t=n[ki]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XI(n){return new Qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ZI(n){return new Qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ia)})}function eD(n){return new Qe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Oy(n){return new Qe(e=>{nD(n,e).catch(t=>e.error(t))})}function tD(n){return Oy(Ra(n))}function nD(n,e){var t,r,i,o;return Ay(this,void 0,void 0,function*(){try{for(t=Ny(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function qt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Fa(n,e=0){return Mt((t,r)=>{t.subscribe(At(r,i=>qt(r,n,()=>r.next(i),e),()=>qt(r,n,()=>r.complete(),e),i=>qt(r,n,()=>r.error(i),e)))})}function Va(n,e=0){return Mt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ry(n,e){return Pt(n).pipe(Va(e),Fa(e))}function ky(n,e){return Pt(n).pipe(Va(e),Fa(e))}function Fy(n,e){return new Qe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Vy(n,e){return new Qe(t=>{let r;return qt(t,e,()=>{r=n[Na](),qt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function La(n,e){if(!n)throw new Error("Iterable cannot be null");return new Qe(t=>{qt(t,e,()=>{let r=n[Symbol.asyncIterator]();qt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ly(n,e){return La(Ra(n),e)}function jy(n,e){if(n!=null){if(Ma(n))return Ry(n,e);if(Ta(n))return Fy(n,e);if(Sa(n))return ky(n,e);if(Aa(n))return La(n,e);if(Oa(n))return Vy(n,e);if(ka(n))return Ly(n,e)}throw Pa(n)}function Yr(n,e){return e?jy(n,e):Pt(n)}function ja(...n){let e=Sy(n);return Yr(n,e)}function Nt(n,e){return Mt((t,r)=>{let i=0;t.subscribe(At(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:rD}=Array;function iD(n,e){return rD(e)?n(...e):n(e)}function By(n){return Nt(e=>iD(n,e))}var{isArray:oD}=Array,{getPrototypeOf:sD,prototype:aD,keys:cD}=Object;function Uy(n){if(n.length===1){let e=n[0];if(oD(e))return{args:e,keys:null};if(lD(e)){let t=cD(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function lD(n){return n&&typeof n=="object"&&sD(n)===aD}function $y(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zy(n,e,t,r,i,o,s,c){let l=[],d=0,f=0,g=!1,w=()=>{g&&!l.length&&!d&&e.complete()},E=N=>d<r?P(N):l.push(N),P=N=>{o&&e.next(N),d++;let O=!1;Pt(t(N,f++)).subscribe(At(e,z=>{i?.(z),o?E(z):e.next(z)},()=>{O=!0},void 0,()=>{if(O)try{for(d--;l.length&&d<r;){let z=l.shift();s?qt(e,s,()=>P(z)):P(z)}w()}catch(z){e.error(z)}}))};return n.subscribe(At(e,E,()=>{g=!0,w()})),()=>{c?.()}}function Ba(n,e,t=1/0){return fe(e)?Ba((r,i)=>Nt((o,s)=>e(r,o,i,s))(Pt(n(r,i))),t):(typeof e=="number"&&(t=e),Mt((r,i)=>zy(r,i,n,t)))}function Ku(...n){let e=Ty(n),{args:t,keys:r}=Uy(n),i=new Qe(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),l=s,d=s;for(let f=0;f<s;f++){let g=!1;Pt(t[f]).subscribe(At(o,w=>{g||(g=!0,d--),c[f]=w},()=>l--,void 0,()=>{(!l||!g)&&(d||o.next(r?$y(r,c):c),o.complete())}))}});return e?i.pipe(By(e)):i}function Qu(n,e){return Mt((t,r)=>{let i=0;t.subscribe(At(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Yu(n,e){return fe(e)?Ba(n,e,1):Ba(n,1)}function Ju(n){return Mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xu(n,e){return Mt((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(At(r,l=>{i?.unsubscribe();let d=0,f=o++;Pt(n(l,f)).subscribe(i=At(r,g=>r.next(e?e(l,g,f,d++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}var Tv="https://g.co/ng/security#xss",le=class extends Error{constructor(e,t){super(gc(e,t)),this.code=e}};function gc(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function cs(n){return{toString:n}.toString()}var Ua="__parameters__";function uD(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Sv(n,e,t){return cs(()=>{let r=uD(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(l,d,f){let g=l.hasOwnProperty(Ua)?l[Ua]:Object.defineProperty(l,Ua,{value:[]})[Ua];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var On=globalThis;function je(n){for(let e in n)if(n[e]===je)return e;throw Error("Could not find renamed property on target object.")}function dD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function kt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(kt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Hy(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var hD=je({__forward_ref__:je});function Vt(n){return n.__forward_ref__=Vt,n.toString=function(){return kt(this())},n}function It(n){return Mv(n)?n():n}function Mv(n){return typeof n=="function"&&n.hasOwnProperty(hD)&&n.__forward_ref__===Vt}function ye(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ui(n){return{providers:n.providers||[],imports:n.imports||[]}}function sh(n){return qy(n,Av)||qy(n,Pv)}function qy(n,e){return n.hasOwnProperty(e)?n[e]:null}function fD(n){let e=n&&(n[Av]||n[Pv]);return e||null}function Gy(n){return n&&(n.hasOwnProperty(Wy)||n.hasOwnProperty(pD))?n[Wy]:null}var Av=je({\u0275prov:je}),Wy=je({\u0275inj:je}),Pv=je({ngInjectableDef:je}),pD=je({ngInjectorDef:je}),he=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ye({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Nv(n){return n&&!!n.\u0275providers}var mD=je({\u0275cmp:je}),gD=je({\u0275dir:je}),yD=je({\u0275pipe:je});var Ya=je({\u0275fac:je}),Jo=je({__NG_ELEMENT_ID__:je}),Ky=je({__NG_ENV_ID__:je});function Rn(n){return typeof n=="string"?n:n==null?"":String(n)}function vD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Rn(n)}function _D(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new le(-200,n)}function ah(n,e){throw new le(-201,!1)}var ge=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ge||{}),md;function Ov(){return md}function Ot(n){let e=md;return md=n,e}function Rv(n,e,t){let r=sh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ge.Optional)return null;if(e!==void 0)return e;ah(n,"Injector")}var wD={},Xo=wD,gd="__NG_DI_FLAG__",Ja="ngTempTokenPath",bD="ngTokenPath",ED=/\n/gm,CD="\u0275",Qy="__source",ji;function ID(){return ji}function gr(n){let e=ji;return ji=n,e}function DD(n,e=ge.Default){if(ji===void 0)throw new le(-203,!1);return ji===null?Rv(n,void 0,e):ji.get(n,e&ge.Optional?null:void 0,e)}function ae(n,e=ge.Default){return(Ov()||DD)(It(n),e)}function Fe(n,e=ge.Default){return ae(n,yc(e))}function yc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yd(n){let e=[];for(let t=0;t<n.length;t++){let r=It(n[t]);if(Array.isArray(r)){if(r.length===0)throw new le(900,!1);let i,o=ge.Default;for(let s=0;s<r.length;s++){let c=r[s],l=xD(c);typeof l=="number"?l===-1?i=c.token:o|=l:i=c}e.push(ae(i,o))}else e.push(ae(r))}return e}function kv(n,e){return n[gd]=e,n.prototype[gd]=e,n}function xD(n){return n[gd]}function TD(n,e,t,r){let i=n[Ja];throw e[Qy]&&i.unshift(e[Qy]),n.message=SD(`
`+n.message,i,t,r),n[bD]=i,n[Ja]=null,n}function SD(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==CD?n.slice(2):n;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):kt(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(ED,`
  `)}`}var Fv=kv(Sv("Optional"),8);var MD=kv(Sv("SkipSelf"),4);function ei(n,e){let t=n.hasOwnProperty(Ya);return t?n[Ya]:null}function AD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function PD(n){return n.flat(Number.POSITIVE_INFINITY)}function ch(n,e){n.forEach(t=>Array.isArray(t)?ch(t,e):e(t))}function Vv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ND(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function OD(n,e,t){let r=ls(n,e);return r>=0?n[r|1]=t:(r=~r,ND(n,r,e,t)),r}function Zu(n,e){let t=ls(n,e);if(t>=0)return n[t|1]}function ls(n,e){return RD(n,e,1)}function RD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ui={},Gt=[],Zo=new he(""),Lv=new he("",-1),jv=new he(""),Za=class{get(e,t=Xo){if(t===Xo){let r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return t}},Bv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Bv||{}),bn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(bn||{}),Wt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wt||{});function kD(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function vd(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];VD(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function FD(n){return n===3||n===4||n===6}function VD(n){return n.charCodeAt(0)===64}function es(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Yy(n,t,i,null,e[++r]):Yy(n,t,i,null,null))}}return n}function Yy(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Uv="ng-template";function LD(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kD(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(lh(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function lh(n){return n.type===4&&n.value!==Uv}function jD(n,e,t){let r=n.type===4&&!t?Uv:n.value;return e===r}function BD(n,e,t){let r=4,i=n.attrs,o=i!==null?zD(i):0,s=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!s&&!on(r)&&!on(l))return!1;if(s&&on(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!jD(n,l,t)||l===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!LD(n,i,l,t)){if(on(r))return!1;s=!0}}else{let d=e[++c],f=UD(l,i,lh(n),t);if(f===-1){if(on(r))return!1;s=!0;continue}if(d!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(n){return(n&1)===0}function UD(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HD(e,n)}function $D(n,e,t=!1){for(let r=0;r<e.length;r++)if(BD(n,e[r],t))return!0;return!1}function zD(n){for(let e=0;e<n.length;e++){let t=n[e];if(FD(t))return e}return n.length}function HD(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Jy(n,e){return n?":not("+e.trim()+")":e}function qD(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=Jy(o,i),i=""),r=s,o=o||!on(r);t++}return i!==""&&(e+=Jy(o,i)),e}function GD(n){return n.map(qD).join(",")}function WD(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!on(i))break;i=o}r++}return{attrs:e,classes:t}}function He(n){return cs(()=>{let e=Hv(n),t=Ie(X({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Bv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||bn.Emulated,styles:n.styles||Gt,_:null,schemas:n.schemas||null,tView:null,id:""});qv(t);let r=n.dependencies;return t.directiveDefs=Zy(r,!1),t.pipeDefs=Zy(r,!0),t.id=JD(t),t})}function KD(n){return $i(n)||$v(n)}function QD(n){return n!==null}function di(n){return cs(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Xy(n,e){if(n==null)return Ui;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c=Wt.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=c!==Wt.None?[r,c]:r,e[o]=s):t[o]=r}return t}function qe(n){return cs(()=>{let e=Hv(n);return qv(e),e})}function vc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function $i(n){return n[mD]||null}function $v(n){return n[gD]||null}function zv(n){return n[yD]||null}function YD(n){let e=$i(n)||$v(n)||zv(n);return e!==null?e.standalone:!1}function Hv(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ui,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xy(n.inputs,e),outputs:Xy(n.outputs),debugInfo:null}}function qv(n){n.features?.forEach(e=>e(n))}function Zy(n,e){if(!n)return null;let t=e?zv:KD;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(QD)}function JD(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _c(n){return{\u0275providers:n}}function XD(...n){return{\u0275providers:Gv(!0,n),\u0275fromNgModule:!0}}function Gv(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ch(e,s=>{let c=s;_d(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Wv(i,o),t}function Wv(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];uh(i,o=>{e(o,r)})}}function _d(n,e,t,r){if(n=It(n),!n)return!1;let i=null,o=Gy(n),s=!o&&$i(n);if(!o&&!s){let l=n.ngModule;if(o=Gy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)_d(d,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{ch(o.imports,f=>{_d(f,e,t,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Wv(d,e)}if(!c){let d=ei(i)||(()=>new i);e({provide:i,useFactory:d,deps:Gt},i),e({provide:jv,useValue:i,multi:!0},i),e({provide:Zo,useValue:()=>ae(i),multi:!0},i)}let l=o.providers;if(l!=null&&!c){let d=n;uh(l,f=>{e(f,d)})}}else return!1;return i!==n&&n.providers!==void 0}function uh(n,e){for(let t of n)Nv(t)&&(t=t.\u0275providers),Array.isArray(t)?uh(t,e):e(t)}var ZD=je({provide:String,useValue:je});function Kv(n){return n!==null&&typeof n=="object"&&ZD in n}function ex(n){return!!(n&&n.useExisting)}function tx(n){return!!(n&&n.useFactory)}function zi(n){return typeof n=="function"}function nx(n){return!!n.useClass}var wc=new he(""),Ha={},rx={},ed;function dh(){return ed===void 0&&(ed=new Za),ed}var En=class{},ts=class extends En{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bd(e,s=>this.processProvider(s)),this.records.set(Lv,Fi(void 0,this)),i.has("environment")&&this.records.set(En,Fi(void 0,this));let o=this.records.get(wc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jv,Gt,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=De(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=gr(this),r=Ot(void 0),i;try{return e()}finally{gr(t),Ot(r)}}get(e,t=Xo,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ky))return e[Ky](this);r=yc(r);let i,o=gr(this),s=Ot(void 0);try{if(!(r&ge.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=cx(e)&&sh(e);d&&this.injectableDefInScope(d)?l=Fi(wd(e),Ha):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&ge.Self?dh():this.parent;return t=r&ge.Optional&&t===Xo?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Ja]=c[Ja]||[]).unshift(kt(e)),o)throw c;return TD(c,e,"R3InjectorError",this.source)}else throw c}finally{Ot(s),gr(o)}}resolveInjectorInitializers(){let e=De(null),t=gr(this),r=Ot(void 0),i;try{let o=this.get(Zo,Gt,ge.Self);for(let s of o)s()}finally{gr(t),Ot(r),De(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(e){e=It(e);let t=zi(e)?e:It(e&&e.provide),r=ox(e);if(!zi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Fi(void 0,Ha,!0),i.factory=()=>yd(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=De(null);try{return t.value===Ha&&(t.value=rx,t.value=t.factory()),typeof t.value=="object"&&t.value&&ax(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{De(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=It(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function wd(n){let e=sh(n),t=e!==null?e.factory:ei(n);if(t!==null)return t;if(n instanceof he)throw new le(204,!1);if(n instanceof Function)return ix(n);throw new le(204,!1)}function ix(n){if(n.length>0)throw new le(204,!1);let t=fD(n);return t!==null?()=>t.factory(n):()=>new n}function ox(n){if(Kv(n))return Fi(void 0,n.useValue);{let e=Qv(n);return Fi(e,Ha)}}function Qv(n,e,t){let r;if(zi(n)){let i=It(n);return ei(i)||wd(i)}else if(Kv(n))r=()=>It(n.useValue);else if(tx(n))r=()=>n.useFactory(...yd(n.deps||[]));else if(ex(n))r=()=>ae(It(n.useExisting));else{let i=It(n&&(n.useClass||n.provide));if(sx(n))r=()=>new i(...yd(n.deps));else return ei(i)||wd(i)}return r}function Fi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function sx(n){return!!n.deps}function ax(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function cx(n){return typeof n=="function"||typeof n=="object"&&n instanceof he}function bd(n,e){for(let t of n)Array.isArray(t)?bd(t,e):t&&Nv(t)?bd(t.\u0275providers,e):e(t)}function Yv(n,e){n instanceof ts&&n.assertNotDestroyed();let t,r=gr(n),i=Ot(void 0);try{return e()}finally{gr(r),Ot(i)}}function lx(){return Ov()!==void 0||ID()!=null}function ux(n){return typeof n=="function"}var jn=0,ue=1,te=2,ut=3,an=4,un=5,ec=6,ns=7,cn=8,Hi=9,ln=10,rt=11,rs=12,ev=13,Ki=14,Cn=15,us=16,Vi=17,kn=18,bc=19,Jv=20,yr=21,td=22,ti=23,Kt=25,Xv=1;var ni=7,tc=8,qi=9,Ft=10,hh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(hh||{});function Xr(n){return Array.isArray(n)&&typeof n[Xv]=="object"}function Bn(n){return Array.isArray(n)&&n[Xv]===!0}function Zv(n){return(n.flags&4)!==0}function Ec(n){return n.componentOffset>-1}function fh(n){return(n.flags&1)===1}function vr(n){return!!n.template}function dx(n){return(n[te]&512)!==0}var Ed=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function e0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function ds(){return t0}function t0(n){return n.type.prototype.ngOnChanges&&(n.setInput=fx),hx}ds.ngInherit=!0;function hx(){let n=r0(this),e=n?.current;if(e){let t=n.previous;if(t===Ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function fx(n,e,t,r,i){let o=this.declaredInputs[r],s=r0(n)||px(n,{previous:Ui,current:null}),c=s.current||(s.current={}),l=s.previous,d=l[o];c[o]=new Ed(d&&d.currentValue,t,l===Ui),e0(n,e,i,t)}var n0="__ngSimpleChanges__";function r0(n){return n[n0]||null}function px(n,e){return n[n0]=e}var tv=null;var _n=function(n,e,t){tv?.(n,e,t)},mx="svg",gx="math",yx=!1;function vx(){return yx}function In(n){for(;Array.isArray(n);)n=n[jn];return n}function i0(n,e){return In(e[n])}function Qt(n,e){return In(e[n.index])}function o0(n,e){return n.data[e]}function ph(n,e){return n[e]}function _r(n,e){let t=e[n];return Xr(t)?t:t[jn]}function _x(n){return(n[te]&4)===4}function mh(n){return(n[te]&128)===128}function wx(n){return Bn(n[ut])}function nc(n,e){return e==null?null:n[e]}function s0(n){n[Vi]=0}function bx(n){n[te]&1024||(n[te]|=1024,mh(n)&&is(n))}function Ex(n,e){for(;n>0;)e=e[Ki],n--;return e}function gh(n){return!!(n[te]&9216||n[ti]?.dirty)}function Cd(n){n[ln].changeDetectionScheduler?.notify(1),gh(n)?is(n):n[te]&64&&(vx()?(n[te]|=1024,is(n)):n[ln].changeDetectionScheduler?.notify())}function is(n){n[ln].changeDetectionScheduler?.notify();let e=os(n);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!mh(e)));)e=os(e)}function a0(n,e){if((n[te]&256)===256)throw new le(911,!1);n[yr]===null&&(n[yr]=[]),n[yr].push(e)}function Cx(n,e){if(n[yr]===null)return;let t=n[yr].indexOf(e);t!==-1&&n[yr].splice(t,1)}function os(n){let e=n[ut];return Bn(e)?e[ut]:e}var de={lFrame:g0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ix(){return de.lFrame.elementDepthCount}function Dx(){de.lFrame.elementDepthCount++}function xx(){de.lFrame.elementDepthCount--}function c0(){return de.bindingsEnabled}function Tx(){return de.skipHydrationRootTNode!==null}function Sx(n){return de.skipHydrationRootTNode===n}function Mx(){de.skipHydrationRootTNode=null}function Ee(){return de.lFrame.lView}function ft(){return de.lFrame.tView}function j(n){return de.lFrame.contextLView=n,n[cn]}function B(n){return de.lFrame.contextLView=null,n}function Lt(){let n=l0();for(;n!==null&&n.type===64;)n=n.parent;return n}function l0(){return de.lFrame.currentTNode}function Ax(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function hs(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function u0(){return de.lFrame.isParent}function Px(){de.lFrame.isParent=!1}function Nx(){return de.lFrame.contextLView}function d0(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function h0(){return de.lFrame.bindingIndex}function Ox(n){return de.lFrame.bindingIndex=n}function Cc(){return de.lFrame.bindingIndex++}function yh(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Rx(){return de.lFrame.inI18n}function kx(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Id(e)}function Fx(){return de.lFrame.currentDirectiveIndex}function Id(n){de.lFrame.currentDirectiveIndex=n}function Vx(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function f0(){return de.lFrame.currentQueryIndex}function vh(n){de.lFrame.currentQueryIndex=n}function Lx(n){let e=n[ue];return e.type===2?e.declTNode:e.type===1?n[un]:null}function p0(n,e,t){if(t&ge.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ge.Host);)if(i=Lx(o),i===null||(o=o[Ki],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=m0();return r.currentTNode=e,r.lView=n,!0}function _h(n){let e=m0(),t=n[ue];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function m0(){let n=de.lFrame,e=n===null?null:n.child;return e===null?g0(n):e}function g0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function y0(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var v0=y0;function wh(){let n=y0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jx(n){return(de.lFrame.contextLView=Ex(n,de.lFrame.contextLView))[cn]}function wr(){return de.lFrame.selectedIndex}function ri(n){de.lFrame.selectedIndex=n}function bh(){let n=de.lFrame;return o0(n.tView,n.selectedIndex)}function Bx(){return de.lFrame.currentNamespace}var _0=!0;function Eh(){return _0}function Ch(n){_0=n}function Ux(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=t0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Ih(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),l&&(n.viewHooks??=[]).push(-t,l),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function qa(n,e,t){w0(n,e,3,t)}function Ga(n,e,t,r){(n[te]&3)===t&&w0(n,e,t,r)}function nd(n,e){let t=n[te];(t&3)===e&&(t&=16383,t+=1,n[te]=t)}function w0(n,e,t,r){let i=r!==void 0?n[Vi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(n[Vi]+=65536),(c<o||o==-1)&&($x(n,t,e,l),n[Vi]=(n[Vi]&4294901760)+l+2),l++}function nv(n,e){_n(4,n,e);let t=De(null);try{e.call(n)}finally{De(t),_n(5,n,e)}}function $x(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[te]>>14<n[Vi]>>16&&(n[te]&3)===e&&(n[te]+=16384,nv(c,o)):nv(c,o)}var Bi=-1,ii=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function zx(n){return n instanceof ii}function Hx(n){return(n.flags&8)!==0}function qx(n){return(n.flags&16)!==0}function b0(n){return n!==Bi}function rc(n){return n&32767}function Gx(n){return n>>16}function ic(n,e){let t=Gx(n),r=e;for(;t>0;)r=r[Ki],t--;return r}var Dd=!0;function oc(n){let e=Dd;return Dd=n,e}var Wx=256,E0=Wx-1,C0=5,Kx=0,wn={};function Qx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Jo)&&(r=t[Jo]),r==null&&(r=t[Jo]=Kx++);let i=r&E0,o=1<<i;e.data[n+(i>>C0)]|=o}function sc(n,e){let t=I0(n,e);if(t!==-1)return t;let r=e[ue];r.firstCreatePass&&(n.injectorIndex=e.length,rd(r.data,n),rd(e,null),rd(r.blueprint,null));let i=Dh(n,e),o=n.injectorIndex;if(b0(i)){let s=rc(i),c=ic(i,e),l=c[ue].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|l[s+d]}return e[o+8]=i,o}function rd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function I0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Dh(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=M0(i),r===null)return Bi;if(t++,i=i[Ki],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Bi}function xd(n,e,t){Qx(n,e,t)}function D0(n,e,t){if(t&ge.Optional||n!==void 0)return n;ah(e,"NodeInjector")}function x0(n,e,t,r){if(t&ge.Optional&&r===void 0&&(r=null),!(t&(ge.Self|ge.Host))){let i=n[Hi],o=Ot(void 0);try{return i?i.get(e,r,t&ge.Optional):Rv(e,r,t&ge.Optional)}finally{Ot(o)}}return D0(r,e,t)}function T0(n,e,t,r=ge.Default,i){if(n!==null){if(e[te]&2048&&!(r&ge.Self)){let s=Zx(n,e,t,r,wn);if(s!==wn)return s}let o=S0(n,e,t,r,wn);if(o!==wn)return o}return x0(e,t,r,i)}function S0(n,e,t,r,i){let o=Jx(t);if(typeof o=="function"){if(!p0(e,n,r))return r&ge.Host?D0(i,t,r):x0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ge.Optional))ah(t);else return s}finally{v0()}}else if(typeof o=="number"){let s=null,c=I0(n,e),l=Bi,d=r&ge.Host?e[Cn][un]:null;for((c===-1||r&ge.SkipSelf)&&(l=c===-1?Dh(n,e):e[c+8],l===Bi||!iv(r,!1)?c=-1:(s=e[ue],c=rc(l),e=ic(l,e)));c!==-1;){let f=e[ue];if(rv(o,c,f.data)){let g=Yx(c,e,t,s,r,d);if(g!==wn)return g}l=e[c+8],l!==Bi&&iv(r,e[ue].data[c+8]===d)&&rv(o,c,e)?(s=f,c=rc(l),e=ic(l,e)):c=-1}}return i}function Yx(n,e,t,r,i,o){let s=e[ue],c=s.data[n+8],l=r==null?Ec(c)&&Dd:r!=s&&(c.type&3)!==0,d=i&ge.Host&&o===c,f=Wa(c,s,t,l,d);return f!==null?oi(e,s,f,c):wn}function Wa(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,l=n.directiveStart,d=n.directiveEnd,f=o>>20,g=r?c:c+f,w=i?c+f:d;for(let E=g;E<w;E++){let P=s[E];if(E<l&&t===P||E>=l&&P.type===t)return E}if(i){let E=s[l];if(E&&vr(E)&&E.type===t)return l}return null}function oi(n,e,t,r){let i=n[t],o=e.data;if(zx(i)){let s=i;s.resolving&&_D(vD(o[t]));let c=oc(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?Ot(s.injectImpl):null,f=p0(n,r,ge.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Ux(t,o[t],e)}finally{d!==null&&Ot(d),oc(c),s.resolving=!1,v0()}}return i}function Jx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Jo)?n[Jo]:void 0;return typeof e=="number"?e>=0?e&E0:Xx:e}function rv(n,e,t){let r=1<<n;return!!(t[e+(n>>C0)]&r)}function iv(n,e){return!(n&ge.Self)&&!(n&ge.Host&&e)}var Zr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return T0(this._tNode,this._lView,e,yc(r),t)}};function Xx(){return new Zr(Lt(),Ee())}function br(n){return cs(()=>{let e=n.prototype.constructor,t=e[Ya]||Td(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ya]||Td(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Td(n){return Mv(n)?()=>{let e=Td(It(n));return e&&e()}:ei(n)}function Zx(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!(s[te]&512);){let c=S0(o,s,t,r|ge.Self,wn);if(c!==wn)return c;let l=o.parent;if(!l){let d=s[Jv];if(d){let f=d.get(t,wn,r);if(f!==wn)return f}l=M0(s),s=s[Ki]}o=l}return i}function M0(n){let e=n[ue],t=e.type;return t===2?e.declTNode:t===1?n[un]:null}function ov(n,e=null,t=null,r){let i=e1(n,e,t,r);return i.resolveInjectorInitializers(),i}function e1(n,e=null,t=null,r,i=new Set){let o=[t||Gt,XD(n)];return r=r||(typeof n=="object"?void 0:kt(n)),new ts(o,e||dh(),r||null,i)}var fs=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Xo}static{this.NULL=new Za}static create(t,r){if(Array.isArray(t))return ov({name:""},r,t,"");{let i=t.name??"";return ov({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=ye({token:n,providedIn:"any",factory:()=>ae(Lv)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var t1="ngOriginalError";function id(n){return n[t1]}var Fn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&id(e);for(;t&&id(t);)t=id(t);return t||null}},A0=new he("",{providedIn:"root",factory:()=>Fe(Fn).handleError.bind(void 0)}),P0=(()=>{class n{static{this.__NG_ELEMENT_ID__=n1}static{this.__NG_ENV_ID__=t=>t}}return n})(),Sd=class extends P0{constructor(e){super(),this._lView=e}onDestroy(e){return a0(this._lView,e),()=>Cx(this._lView,e)}};function n1(){return new Sd(Ee())}function r1(){return Qi(Lt(),Ee())}function Qi(n,e){return new Yt(Qt(n,e))}var Yt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=r1}}return n})();function i1(n){return n instanceof Yt?n.nativeElement:n}var Md=class extends mr{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,lx()&&(this.destroyRef=Fe(P0,{optional:!0})??void 0)}emit(e){let t=De(null);try{super.next(e)}finally{De(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=od(o),i&&(i=od(i)),s&&(s=od(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof St&&e.add(c),c}};function od(n){return e=>{setTimeout(n,void 0,e)}}var sn=Md;function o1(){return this._results[Symbol.iterator]()}var Ad=class n{get changes(){return this._changes??=new sn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=o1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=PD(e);(this._changesDetected=!AD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function N0(n){return(n.flags&128)===128}var O0=new Map,s1=0;function a1(){return s1++}function c1(n){O0.set(n[bc],n)}function l1(n){O0.delete(n[bc])}var sv="__ngContext__";function si(n,e){Xr(e)?(n[sv]=e[bc],c1(e)):n[sv]=e}function R0(n){return F0(n[rs])}function k0(n){return F0(n[an])}function F0(n){for(;n!==null&&!Bn(n);)n=n[an];return n}var Pd;function V0(n){Pd=n}function u1(){if(Pd!==void 0)return Pd;if(typeof document<"u")return document;throw new le(210,!1)}var xh=new he("",{providedIn:"root",factory:()=>d1}),d1="ng",Th=new he(""),Er=new he("",{providedIn:"platform",factory:()=>"unknown"});var Sh=new he("",{providedIn:"root",factory:()=>u1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var h1="h",f1="b";var p1=()=>null;function Mh(n,e,t=!1){return p1(n,e,t)}var L0=!1,m1=new he("",{providedIn:"root",factory:()=>L0});var ac=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tv})`}};function Ic(n){return n instanceof ac?n.changingThisBreaksApplicationSecurity:n}function j0(n,e){let t=g1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Tv})`)}return t===e}function g1(n){return n instanceof ac&&n.getTypeName()||null}var y1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function B0(n){return n=String(n),n.match(y1)?n:"unsafe:"+n}var Ah=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ah||{});function ps(n){let e=v1();return e?e.sanitize(Ah.URL,n)||"":j0(n,"URL")?Ic(n):B0(Rn(n))}function v1(){let n=Ee();return n&&n[ln].sanitizer}var Vn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vn||{}),_1;function Ph(n,e){return _1(n,e)}function Li(n,e,t,r,i){if(r!=null){let o,s=!1;Bn(r)?o=r:Xr(r)&&(s=!0,r=r[jn]);let c=In(r);n===0&&t!==null?i==null?q0(e,t,c):cc(e,t,c,i||null,!0):n===1&&t!==null?cc(e,t,c,i||null,!0):n===2?F1(e,c,s):n===3&&e.destroyNode(c),o!=null&&L1(e,n,o,t,i)}}function w1(n,e){return n.createText(e)}function b1(n,e,t){n.setValue(e,t)}function U0(n,e,t){return n.createElement(e,t)}function E1(n,e){$0(n,e),e[jn]=null,e[un]=null}function C1(n,e,t,r,i,o){r[jn]=i,r[un]=e,Dc(n,r,t,1,i,o)}function $0(n,e){e[ln].changeDetectionScheduler?.notify(1),Dc(n,e,e[rt],2,null,null)}function I1(n){let e=n[rs];if(!e)return sd(n[ue],n);for(;e;){let t=null;if(Xr(e))t=e[rs];else{let r=e[Ft];r&&(t=r)}if(!t){for(;e&&!e[an]&&e!==n;)Xr(e)&&sd(e[ue],e),e=e[ut];e===null&&(e=n),Xr(e)&&sd(e[ue],e),t=e&&e[an]}e=t}}function D1(n,e,t,r){let i=Ft+r,o=t.length;r>0&&(t[i-1][an]=e),r<o-Ft?(e[an]=t[i],Vv(t,Ft+r,e)):(t.push(e),e[an]=null),e[ut]=t;let s=e[us];s!==null&&t!==s&&x1(s,e);let c=e[kn];c!==null&&c.insertView(n),Cd(e),e[te]|=128}function x1(n,e){let t=n[qi],i=e[ut][ut][Cn];e[Cn]!==i&&(n[te]|=hh.HasTransplantedViews),t===null?n[qi]=[e]:t.push(e)}function z0(n,e){let t=n[qi],r=t.indexOf(e);t.splice(r,1)}function Nd(n,e){if(n.length<=Ft)return;let t=Ft+e,r=n[t];if(r){let i=r[us];i!==null&&i!==n&&z0(i,r),e>0&&(n[t-1][an]=r[an]);let o=Xa(n,Ft+e);E1(r[ue],r);let s=o[kn];s!==null&&s.detachView(o[ue]),r[ut]=null,r[an]=null,r[te]&=-129}return r}function H0(n,e){if(!(e[te]&256)){let t=e[rt];t.destroyNode&&Dc(n,e,t,3,null,null),I1(e)}}function sd(n,e){if(e[te]&256)return;let t=De(null);try{e[te]&=-129,e[te]|=256,e[ti]&&py(e[ti]),S1(n,e),T1(n,e),e[ue].type===1&&e[rt].destroy();let r=e[us];if(r!==null&&Bn(e[ut])){r!==e[ut]&&z0(r,e);let i=e[kn];i!==null&&i.detachView(n)}l1(e)}finally{De(t)}}function T1(n,e){let t=n.cleanup,r=e[ns];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[ns]=null);let i=e[yr];if(i!==null){e[yr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function S1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ii)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],l=o[s+1];_n(4,c,l);try{l.call(c)}finally{_n(5,c,l)}}else{_n(4,i,o);try{o.call(i)}finally{_n(5,i,o)}}}}}function M1(n,e,t){return A1(n,e.parent,t)}function A1(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[jn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===bn.None||o===bn.Emulated)return null}return Qt(r,t)}}function cc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function q0(n,e,t){n.appendChild(e,t)}function av(n,e,t,r,i){r!==null?cc(n,e,t,r,i):q0(n,e,t)}function P1(n,e,t,r){n.removeChild(e,t,r)}function Nh(n,e){return n.parentNode(e)}function N1(n,e){return n.nextSibling(e)}function O1(n,e,t){return k1(n,e,t)}function R1(n,e,t){return n.type&40?Qt(n,t):null}var k1=R1,cv;function Oh(n,e,t,r){let i=M1(n,r,e),o=e[rt],s=r.parent||e[un],c=O1(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)av(o,i,t[l],c,!1);else av(o,i,t,c,!1);cv!==void 0&&cv(o,r,e,t,i)}function Ka(n,e){if(e!==null){let t=e.type;if(t&3)return Qt(e,n);if(t&4)return Od(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ka(n,r);{let i=n[e.index];return Bn(i)?Od(-1,i):In(i)}}else{if(t&32)return Ph(e,n)()||In(n[e.index]);{let r=G0(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=os(n[Cn]);return Ka(i,r)}else return Ka(n,e.next)}}}return null}function G0(n,e){if(e!==null){let r=n[Cn][un],i=e.projection;return r.projection[i]}return null}function Od(n,e){let t=Ft+n+1;if(t<e.length){let r=e[t],i=r[ue].firstChild;if(i!==null)return Ka(r,i)}return e[ni]}function F1(n,e,t){let r=Nh(n,e);r&&P1(n,r,e,t)}function Rh(n,e,t,r,i,o,s){for(;t!=null;){let c=r[t.index],l=t.type;if(s&&e===0&&(c&&si(In(c),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Rh(n,e,t.child,r,i,o,!1),Li(e,n,i,c,o);else if(l&32){let d=Ph(t,r),f;for(;f=d();)Li(e,n,i,f,o);Li(e,n,i,c,o)}else l&16?V1(n,e,r,t,i,o):Li(e,n,i,c,o);t=s?t.projectionNext:t.next}}function Dc(n,e,t,r,i,o){Rh(t,r,n.firstChild,e,i,o,!1)}function V1(n,e,t,r,i,o){let s=t[Cn],l=s[un].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let f=l[d];Li(e,n,i,f,o)}else{let d=l,f=s[ut];N0(r)&&(d.flags|=128),Rh(n,e,d,f,i,o,!0)}}function L1(n,e,t,r,i){let o=t[ni],s=In(t);o!==s&&Li(e,n,r,o,i);for(let c=Ft;c<t.length;c++){let l=t[c];Dc(l[ue],l,n,e,r,o)}}function j1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Vn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vn.Important),n.setStyle(t,r,i,o))}}function B1(n,e,t){n.setAttribute(e,"style",t)}function W0(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function K0(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&vd(n,e,r),i!==null&&W0(n,e,i),o!==null&&B1(n,e,o)}var dn={};function _(n=1){Q0(ft(),Ee(),wr()+n,!1)}function Q0(n,e,t,r){if(!r)if((e[te]&3)===3){let o=n.preOrderCheckHooks;o!==null&&qa(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ga(e,o,0,t)}ri(t)}function Q(n,e=ge.Default){let t=Ee();if(t===null)return ae(n,e);let r=Lt();return T0(r,t,It(n),e)}function Y0(n,e,t,r,i,o){let s=De(null);try{let c=null;i&Wt.SignalBased&&(c=e[r][Vu]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Wt.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,c,o,t,r):e0(e,c,r,o)}finally{De(s)}}function U1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ri(~i);else{let o=i,s=t[++r],c=t[++r];kx(s,o);let l=e[o];c(2,l)}}}finally{ri(-1)}}function xc(n,e,t,r,i,o,s,c,l,d,f){let g=e.blueprint.slice();return g[jn]=i,g[te]=r|4|128|8|64,(d!==null||n&&n[te]&2048)&&(g[te]|=2048),s0(g),g[ut]=g[Ki]=n,g[cn]=t,g[ln]=s||n&&n[ln],g[rt]=c||n&&n[rt],g[Hi]=l||n&&n[Hi]||null,g[un]=o,g[bc]=a1(),g[ec]=f,g[Jv]=d,g[Cn]=e.type==2?n[Cn]:g,g}function Tc(n,e,t,r,i){let o=n.data[e];if(o===null)o=$1(n,e,t,r,i),Rx()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Ax();o.injectorIndex=s===null?-1:s.injectorIndex}return hs(o,!0),o}function $1(n,e,t,r,i){let o=l0(),s=u0(),c=s?o:o&&o.parent,l=n.data[e]=K1(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function J0(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function X0(n,e,t,r,i){let o=wr(),s=r&2;try{ri(-1),s&&e.length>Kt&&Q0(n,e,Kt,!1),_n(s?2:0,i),t(r,i)}finally{ri(o),_n(s?3:1,i)}}function Z0(n,e,t){if(Zv(e)){let r=De(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let l=t[s];c.contentQueries(1,l,s)}}}finally{De(r)}}}function e_(n,e,t){c0()&&(eT(n,e,t,Qt(t,e)),(t.flags&64)===64&&s_(n,e,t))}function t_(n,e,t=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function n_(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=kh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function kh(n,e,t,r,i,o,s,c,l,d,f){let g=Kt+r,w=g+i,E=z1(g,w),P=typeof d=="function"?d():d;return E[ue]={type:n,blueprint:E,template:t,queries:null,viewQuery:c,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:P,incompleteFirstPass:!1,ssrId:f}}function z1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:dn);return t}function H1(n,e,t,r){let o=r.get(m1,L0)||t===bn.ShadowDom,s=n.selectRootElement(e,o);return q1(s),s}function q1(n){G1(n)}var G1=()=>null;function W1(n,e,t,r){let i=l_(e);i.push(t),n.firstCreatePass&&u_(n).push(r,i.length-1)}function K1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Tx()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lv(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,l=Wt.None;Array.isArray(s)?(c=s[0],l=s[1]):c=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?uv(r,t,d,c,l):uv(r,t,d,c)}return r}function uv(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function Q1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,c=[],l=null,d=null;for(let f=r;f<i;f++){let g=o[f],w=t?t.get(g):null,E=w?w.inputs:null,P=w?w.outputs:null;l=lv(0,g.inputs,f,l,E),d=lv(1,g.outputs,f,d,P);let N=l!==null&&s!==null&&!lh(e)?dT(l,f,s):null;c.push(N)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=l,e.outputs=d}function Y1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function r_(n,e,t,r,i,o,s,c){let l=Qt(e,t),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(Fh(n,t,f,r,i),Ec(e)&&J1(t,e.index)):e.type&3?(r=Y1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function J1(n,e){let t=_r(e,n);t[te]&16||(t[te]|=64)}function i_(n,e,t,r){if(c0()){let i=r===null?null:{"":-1},o=nT(n,t),s,c;o===null?s=c=null:[s,c]=o,s!==null&&o_(n,e,t,s,i,c),i&&rT(t,r,i)}t.mergedAttrs=es(t.mergedAttrs,t.attrs)}function o_(n,e,t,r,i,o){for(let d=0;d<r.length;d++)xd(sc(t,e),n,r[d].type);oT(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,l=J0(n,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];t.mergedAttrs=es(t.mergedAttrs,f.hostAttrs),sT(n,t,e,l,f),iT(l,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),l++}Q1(n,t,o)}function X1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;Z1(s)!=c&&s.push(c),s.push(t,r,o)}}function Z1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function eT(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Ec(t)&&aT(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||sc(t,e),si(r,e);let s=t.initialInputs;for(let c=i;c<o;c++){let l=n.data[c],d=oi(e,n,c,t);if(si(d,e),s!==null&&uT(e,c-i,d,l,t,s),vr(l)){let f=_r(t.index,e);f[cn]=oi(e,n,c,t)}}}function s_(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Fx();try{ri(o);for(let c=r;c<i;c++){let l=n.data[c],d=e[c];Id(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&tT(l,d)}}finally{ri(-1),Id(s)}}function tT(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function nT(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if($D(e,s.selectors,!1))if(r||(r=[]),vr(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let l=c.length;Rd(n,e,l)}else r.unshift(s),Rd(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Rd(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function rT(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new le(-301,!1);r.push(e[i],o)}}}function iT(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;vr(e)&&(t[""]=n)}}function oT(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sT(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ei(i.type,!0)),s=new ii(o,vr(i),Q);n.blueprint[r]=s,t[r]=s,X1(n,e,r,J0(n,t,i.hostVars,dn),i)}function aT(n,e,t){let r=Qt(e,n),i=n_(t),o=n[ln].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let c=Sc(n,xc(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=c}function cT(n,e,t,r,i,o){let s=Qt(n,e);lT(e[rt],s,o,n.value,t,r,i)}function lT(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?Rn(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function uT(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let l=s[c++],d=s[c++],f=s[c++],g=s[c++];Y0(r,t,l,d,f,g)}}function dT(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],t[i+1]);break}}i+=2}return r}function a_(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function c_(n,e){let t=n.contentQueries;if(t!==null){let r=De(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];vh(o),c.contentQueries(2,e[s],s)}}}finally{De(r)}}}function Sc(n,e){return n[rs]?n[ev][an]=e:n[rs]=e,n[ev]=e,e}function kd(n,e,t){vh(0);let r=De(null);try{e(n,t)}finally{De(r)}}function l_(n){return n[ns]||(n[ns]=[])}function u_(n){return n.cleanup||(n.cleanup=[])}function d_(n,e){let t=n[Hi],r=t?t.get(Fn,null):null;r&&r.handleError(e)}function Fh(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],c=t[o++],l=t[o++],d=e[s],f=n.data[s];Y0(f,d,r,c,l,i)}}function Vh(n,e,t){let r=i0(e,n);b1(n[rt],r,t)}function hT(n,e){let t=_r(e,n),r=t[ue];fT(r,t);let i=t[jn];i!==null&&t[ec]===null&&(t[ec]=Mh(i,t[Hi])),Lh(r,t,t[cn])}function fT(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Lh(n,e,t){_h(e);try{let r=n.viewQuery;r!==null&&kd(1,r,t);let i=n.template;i!==null&&X0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[kn]?.finishViewCreation(n),n.staticContentQueries&&c_(n,e),n.staticViewQueries&&kd(2,n.viewQuery,t);let o=n.components;o!==null&&pT(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[te]&=-5,wh()}}function pT(n,e){for(let t=0;t<e.length;t++)hT(n,e[t])}function mT(n,e,t,r){let i=De(null);try{let o=e.tView,c=n[te]&4096?4096:16,l=xc(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];l[us]=d;let f=n[kn];return f!==null&&(l[kn]=f.createEmbeddedView(o)),Lh(o,l,t),l}finally{De(i)}}function dv(n,e){return!e||e.firstChild===null||N0(n)}function gT(n,e,t,r=!0){let i=e[ue];if(D1(i,e,n,t),r){let s=Od(t,n),c=e[rt],l=Nh(c,n[ni]);l!==null&&C1(i,n[un],c,e,l,s)}let o=e[ec];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lc(n,e,t,r,i=!1){for(;t!==null;){let o=e[t.index];o!==null&&r.push(In(o)),Bn(o)&&yT(o,r);let s=t.type;if(s&8)lc(n,e,t.child,r);else if(s&32){let c=Ph(t,e),l;for(;l=c();)r.push(l)}else if(s&16){let c=G0(e,t);if(Array.isArray(c))r.push(...c);else{let l=os(e[Cn]);lc(l[ue],l,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function yT(n,e){for(let t=Ft;t<n.length;t++){let r=n[t],i=r[ue].firstChild;i!==null&&lc(r[ue],r,i,e)}n[ni]!==n[jn]&&e.push(n[ni])}var h_=[];function vT(n){return n[ti]??_T(n)}function _T(n){let e=h_.pop()??Object.create(bT);return e.lView=n,e}function wT(n){n.lView[ti]!==n&&(n.lView=null,h_.push(n))}var bT=Ie(X({},dy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{is(n.lView)},consumerOnSignalRead(){this.lView[ti]=this}}),f_=100;function p_(n,e=!0,t=0){let r=n[ln],i=r.rendererFactory,o=!1;o||i.begin?.();try{ET(n,t)}catch(s){throw e&&d_(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function ET(n,e){Fd(n,e);let t=0;for(;gh(n);){if(t===f_)throw new le(103,!1);t++,Fd(n,1)}}function CT(n,e,t,r){let i=e[te];if((i&256)===256)return;let o=!1;!o&&e[ln].inlineEffectRunner?.flush(),_h(e);let s=null,c=null;!o&&IT(n)&&(c=vT(e),s=hy(c));try{s0(e),Ox(n.bindingStartIndex),t!==null&&X0(n,e,t,2,r);let l=(i&3)===3;if(!o)if(l){let g=n.preOrderCheckHooks;g!==null&&qa(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Ga(e,g,0,null),nd(e,0)}if(DT(e),m_(e,0),n.contentQueries!==null&&c_(n,e),!o)if(l){let g=n.contentCheckHooks;g!==null&&qa(e,g)}else{let g=n.contentHooks;g!==null&&Ga(e,g,1),nd(e,1)}U1(n,e);let d=n.components;d!==null&&y_(e,d,0);let f=n.viewQuery;if(f!==null&&kd(2,f,r),!o)if(l){let g=n.viewCheckHooks;g!==null&&qa(e,g)}else{let g=n.viewHooks;g!==null&&Ga(e,g,2),nd(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[td]){for(let g of e[td])g();e[td]=null}o||(e[te]&=-73)}catch(l){throw is(e),l}finally{c!==null&&(fy(c,s),wT(c)),wh()}}function IT(n){return n.type!==2}function m_(n,e){for(let t=R0(n);t!==null;t=k0(t))for(let r=Ft;r<t.length;r++){let i=t[r];g_(i,e)}}function DT(n){for(let e=R0(n);e!==null;e=k0(e)){if(!(e[te]&hh.HasTransplantedViews))continue;let t=e[qi];for(let r=0;r<t.length;r++){let i=t[r],o=i[ut];bx(i)}}}function xT(n,e,t){let r=_r(e,n);g_(r,t)}function g_(n,e){mh(n)&&Fd(n,e)}function Fd(n,e){let r=n[ue],i=n[te],o=n[ti],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Lu(o)),o&&(o.dirty=!1),n[te]&=-9217,s)CT(r,n,r.template,n[cn]);else if(i&8192){m_(n,1);let c=r.components;c!==null&&y_(n,c,1)}}function y_(n,e,t){for(let r=0;r<e.length;r++)xT(n,e[r],t)}function jh(n){for(n[ln].changeDetectionScheduler?.notify();n;){n[te]|=64;let e=os(n);if(dx(n)&&!e)return n;n=e}return null}var ai=class{get rootNodes(){let e=this._lView,t=e[ue];return lc(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(e){this._lView[cn]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(Bn(e)){let t=e[tc],r=t?t.indexOf(this):-1;r>-1&&(Nd(e,r),Xa(t,r))}this._attachedToViewContainer=!1}H0(this._lView[ue],this._lView)}onDestroy(e){a0(this._lView,e)}markForCheck(){jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){Cd(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,p_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,$0(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=e,Cd(this._lView)}},ci=(()=>{class n{static{this.__NG_ELEMENT_ID__=MT}}return n})(),TT=ci,ST=class extends TT{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=mT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ai(i)}};function MT(){return Mc(Lt(),Ee())}function Mc(n,e){return n.type&4?new ST(e,n,Qi(n,e)):null}var x3=new RegExp(`^(\\d+)*(${f1}|${h1})*(.*)`);var AT=()=>null;function hv(n,e){return AT(n,e)}var Vd=class{},Ld=class{},uc=class{};function PT(n){let e=Error(`No component factory found for ${kt(n)}.`);return e[NT]=n,e}var NT="ngComponent";var jd=class{resolveComponentFactory(e){throw PT(e)}},Bh=(()=>{class n{static{this.NULL=new jd}}return n})(),ss=class{},Cr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>OT()}}return n})();function OT(){let n=Ee(),e=Lt(),t=_r(e.index,n);return(Xr(t)?t:n)[rt]}var RT=(()=>{class n{static{this.\u0275prov=ye({token:n,providedIn:"root",factory:()=>null})}}return n})(),ad={};var fv=new Set;function Uh(n){fv.has(n)||(fv.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function pv(...n){}function kT(){let n=typeof On.requestAnimationFrame=="function",e=On[n?"requestAnimationFrame":"setTimeout"],t=On[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var lt=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sn(!1),this.onMicrotaskEmpty=new sn(!1),this.onStable=new sn(!1),this.onError=new sn(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=kT().nativeRequestAnimationFrame,LT(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new le(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,FT,pv,pv);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},FT={};function $h(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function VT(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(On,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Bd(n),n.isCheckStableRunning=!0,$h(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Bd(n))}function LT(n){let e=()=>{VT(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,c)=>{if(jT(c))return t.invokeTask(i,o,s,c);try{return mv(n),t.invokeTask(i,o,s,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),gv(n)}},onInvoke:(t,r,i,o,s,c,l)=>{try{return mv(n),t.invoke(i,o,s,c,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),gv(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Bd(n),$h(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Bd(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function mv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gv(n){n._nesting--,$h(n)}function jT(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var v_=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ye({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Ud(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Hy(i,c);else if(o==2){let l=c,d=e[++s];r=Hy(r,l+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var $d=class extends Bh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=$i(e);return new dc(t,this.ngModule)}};function yv(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function BT(n){let e=n.toLowerCase();return e==="svg"?mx:e==="math"?gx:null}var zd=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=yc(r);let i=this.injector.get(e,ad,r);return i!==ad||t===ad?i:this.parentInjector.get(e,t,r)}},dc=class extends uc{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=yv(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return yv(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=GD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=De(null);try{i=i||this.ngModule;let s=i instanceof En?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new zd(e,s):e,l=c.get(ss,null);if(l===null)throw new le(407,!1);let d=c.get(RT,null),f=c.get(v_,null),g=c.get(Vd,null),w={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:g},E=l.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",N=r?H1(E,r,this.componentDef.encapsulation,c):U0(E,P,BT(P)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let z=null;N!==null&&(z=Mh(N,c,!0));let ee=kh(0,null,null,1,0,null,null,null,null,null,null),W=xc(null,ee,null,O,null,null,w,E,c,null,z);_h(W);let be,ke;try{let Ce=this.componentDef,x,b=null;Ce.findHostDirectiveDefs?(x=[],b=new Map,Ce.findHostDirectiveDefs(Ce,x,b),x.push(Ce)):x=[Ce];let I=UT(W,N),T=$T(I,N,Ce,x,W,w,E);ke=o0(ee,Kt),N&&qT(E,Ce,N,r),t!==void 0&&GT(ke,this.ngContentSelectors,t),be=HT(T,Ce,x,b,W,[WT]),Lh(ee,W,null)}finally{wh()}return new Hd(this.componentType,be,Qi(ke,W),W,ke)}finally{De(o)}}},Hd=class extends Ld{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ai(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Fh(o[ue],o,i,e,t),this.previousInputValues.set(e,t);let s=_r(this._tNode.index,o);jh(s)}}get injector(){return new Zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function UT(n,e){let t=n[ue],r=Kt;return n[r]=e,Tc(t,r,2,"#host",null)}function $T(n,e,t,r,i,o,s){let c=i[ue];zT(r,n,e,s);let l=null;e!==null&&(l=Mh(e,i[Hi]));let d=o.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let g=xc(i,n_(t),null,f,i[n.index],n,o,d,null,null,l);return c.firstCreatePass&&Rd(c,n,r.length-1),Sc(i,g),i[n.index]=g}function zT(n,e,t,r){for(let i of n)e.mergedAttrs=es(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ud(e,e.mergedAttrs,!0),t!==null&&K0(r,t,e))}function HT(n,e,t,r,i,o){let s=Lt(),c=i[ue],l=Qt(s,i);o_(c,i,s,t,null,r);for(let f=0;f<t.length;f++){let g=s.directiveStart+f,w=oi(i,c,g,s);si(w,i)}s_(c,i,s),l&&si(l,i);let d=oi(i,c,s.directiveStart+s.componentOffset,s);if(n[cn]=i[cn]=d,o!==null)for(let f of o)f(d,e);return Z0(c,s,i),d}function qT(n,e,t,r){if(r)vd(n,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=WD(e.selectors[0]);i&&vd(n,t,i),o&&o.length>0&&W0(n,t,o.join(" "))}}function GT(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function WT(){let n=Lt();Ih(Ee()[ue],n)}var Yi=(()=>{class n{static{this.__NG_ELEMENT_ID__=KT}}return n})();function KT(){let n=Lt();return w_(n,Ee())}var QT=Yi,__=class extends QT{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Qi(this._hostTNode,this._hostLView)}get injector(){return new Zr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dh(this._hostTNode,this._hostLView);if(b0(e)){let t=ic(e,this._hostLView),r=rc(e),i=t[ue].data[r+8];return new Zr(i,t)}else return new Zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=vv(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=hv(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,dv(this._hostTNode,s)),c}createComponent(e,t,r,i,o){let s=e&&!ux(e),c;if(s)c=t;else{let P=t||{};c=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef}let l=s?e:new dc($i(e)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let N=(s?d:this.parentInjector).get(En,null);N&&(o=N)}let f=$i(l.componentType??{}),g=hv(this._lContainer,f?.id??null),w=g?.firstChild??null,E=l.create(d,i,w,o);return this.insertImpl(E.hostView,c,dv(this._hostTNode,g)),E}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(wx(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[ut],d=new __(l,l[un],l[ut]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return gT(s,i,o,r),e.attachToViewContainerRef(),Vv(cd(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=vv(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Nd(this._lContainer,t);r&&(Xa(cd(this._lContainer),t),H0(r[ue],r))}detach(e){let t=this._adjustIndex(e,-1),r=Nd(this._lContainer,t);return r&&Xa(cd(this._lContainer),t)!=null?new ai(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vv(n){return n[tc]}function cd(n){return n[tc]||(n[tc]=[])}function w_(n,e){let t,r=e[n.index];return Bn(r)?t=r:(t=a_(r,e,null,n),e[n.index]=t,Sc(e,t)),JT(t,e,n,r),new __(t,n,e)}function YT(n,e){let t=n[rt],r=t.createComment(""),i=Qt(e,n),o=Nh(t,i);return cc(t,o,r,N1(t,i),!1),r}var JT=eS,XT=()=>!1;function ZT(n,e,t){return XT(n,e,t)}function eS(n,e,t,r){if(n[ni])return;let i;t.type&8?i=In(r):i=YT(e,t),n[ni]=i}var qd=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Gd=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)zh(e,t).matches!==null&&this.queries[t].setDirty()}},Wd=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=cS(e):this.predicate=e}},Kd=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qd=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,tS(t,o)),this.matchTNodeWithReadOption(e,t,Wa(t,e,o,!1,!1))}else r===ci?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Wa(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Yt||i===Yi||i===ci&&t.type&4)this.addMatch(t.index,-2);else{let o=Wa(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function tS(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function nS(n,e){return n.type&11?Qi(n,e):n.type&4?Mc(n,e):null}function rS(n,e,t,r){return t===-1?nS(e,n):t===-2?iS(n,e,r):oi(n,n[ue],t,e)}function iS(n,e,t){if(t===Yt)return Qi(e,n);if(t===ci)return Mc(e,n);if(t===Yi)return w_(e,n)}function b_(n,e,t,r){let i=e[kn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)c.push(null);else{let f=o[d];c.push(rS(e,f,s[l+1],t.metadata.read))}}i.matches=c}return i.matches}function Yd(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=b_(n,e,i,t);for(let c=0;c<o.length;c+=2){let l=o[c];if(l>0)r.push(s[c/2]);else{let d=o[c+1],f=e[-l];for(let g=Ft;g<f.length;g++){let w=f[g];w[us]===w[ut]&&Yd(w[ue],w,d,r)}if(f[qi]!==null){let g=f[qi];for(let w=0;w<g.length;w++){let E=g[w];Yd(E[ue],E,d,r)}}}}}return r}function oS(n,e){return n[kn].queries[e].queryList}function sS(n,e,t){let r=new Ad((t&4)===4);return W1(n,e,r,r.destroy),(e[kn]??=new Gd).queries.push(new qd(r))-1}function aS(n,e,t){let r=ft();return r.firstCreatePass&&(lS(r,new Wd(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),sS(r,Ee(),e)}function cS(n){return n.split(",").map(e=>e.trim())}function lS(n,e,t){n.queries===null&&(n.queries=new Kd),n.queries.track(new Qd(e,t))}function zh(n,e){return n.queries.getByIndex(e)}function uS(n,e){let t=n[ue],r=zh(t,e);return r.crossesNgTemplate?Yd(t,n,e,[]):b_(t,n,r,e)}function dS(n){return typeof n=="function"&&n[Vu]!==void 0}function E_(n){return dS(n)&&typeof n.set=="function"}function hS(n){return Object.getPrototypeOf(n.prototype).constructor}function Dt(n){let e=hS(n.type),t=!0,r=[n];for(;e;){let i;if(vr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new le(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=$a(n.inputs),s.inputTransforms=$a(n.inputTransforms),s.declaredInputs=$a(n.declaredInputs),s.outputs=$a(n.outputs);let c=i.hostBindings;c&&yS(n,c);let l=i.viewQuery,d=i.contentQueries;if(l&&mS(n,l),d&&gS(n,d),fS(n,i),dD(n.outputs,i.outputs),vr(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===Dt&&(t=!1)}}e=Object.getPrototypeOf(e)}pS(r)}function fS(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function pS(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=es(i.hostAttrs,t=es(t,i.hostAttrs))}}function $a(n){return n===Ui?{}:n===Gt?[]:n}function mS(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function gS(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function yS(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Gi=class{};var hc=class extends Gi{constructor(e){super(),this.componentFactoryResolver=new $d(this),this.instance=null;let t=new ts([...e.providers,{provide:Gi,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver}],e.parent||dh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vS(n,e,t=null){return new hc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Ac=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function C_(n){return wS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function _S(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function wS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function I_(n,e,t){return n[e]=t}function Ln(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Hh(n,e,t,r){let i=Ln(n,e,t);return Ln(n,e+1,r)||i}function bS(n,e,t,r,i){let o=Hh(n,e,t,r);return Ln(n,e+2,i)||o}function ES(n){return(n.flags&32)===32}function CS(n,e,t,r,i,o,s,c,l){let d=e.consts,f=Tc(e,n,4,s||null,nc(d,c));i_(e,t,f,nc(d,l)),Ih(e,f);let g=f.tView=kh(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function G(n,e,t,r,i,o,s,c){let l=Ee(),d=ft(),f=n+Kt,g=d.firstCreatePass?CS(f,d,l,e,t,r,i,o,s):d.data[f];hs(g,!1);let w=IS(d,l,g,n);Eh()&&Oh(d,l,w,g),si(w,l);let E=a_(w,l,w,g);return l[f]=E,Sc(l,E),ZT(E,g,l),fh(g)&&e_(d,l,g),s!=null&&t_(l,g,c),G}var IS=DS;function DS(n,e,t,r){return Ch(!0),e[rt].createComment("")}function ms(n,e,t,r){let i=Ee(),o=Cc();if(Ln(i,o,e)){let s=ft(),c=bh();cT(c,i,n,e,t,r)}return ms}function xS(n,e,t,r){return Ln(n,Cc(),t)?e+Rn(t)+r:dn}function TS(n,e,t,r,i,o){let s=h0(),c=Hh(n,s,t,i);return yh(2),c?e+Rn(t)+r+Rn(i)+o:dn}function SS(n,e,t,r,i,o,s,c){let l=h0(),d=bS(n,l,t,i,s);return yh(3),d?e+Rn(t)+r+Rn(i)+o+Rn(s)+c:dn}function za(n,e){return n<<17|e<<2}function li(n){return n>>17&32767}function MS(n){return(n&2)==2}function AS(n,e){return n&131071|e<<17}function Jd(n){return n|2}function Wi(n){return(n&131068)>>2}function ld(n,e){return n&-131069|e<<2}function PS(n){return(n&1)===1}function Xd(n){return n|1}function NS(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=li(s),l=Wi(s);n[r]=t;let d=!1,f;if(Array.isArray(t)){let g=t;f=g[1],(f===null||ls(g,f)>0)&&(d=!0)}else f=t;if(i)if(l!==0){let w=li(n[c+1]);n[r+1]=za(w,c),w!==0&&(n[w+1]=ld(n[w+1],r)),n[c+1]=AS(n[c+1],r)}else n[r+1]=za(c,0),c!==0&&(n[c+1]=ld(n[c+1],r)),c=r;else n[r+1]=za(l,0),c===0?c=r:n[l+1]=ld(n[l+1],r),l=r;d&&(n[r+1]=Jd(n[r+1])),_v(n,f,r,!0),_v(n,f,r,!1),OS(e,f,n,r,o),s=za(c,l),o?e.classBindings=s:e.styleBindings=s}function OS(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ls(o,e)>=0&&(t[r+1]=Xd(t[r+1]))}function _v(n,e,t,r){let i=n[t+1],o=e===null,s=r?li(i):Wi(i),c=!1;for(;s!==0&&(c===!1||o);){let l=n[s],d=n[s+1];RS(l,e)&&(c=!0,n[s+1]=r?Xd(d):Jd(d)),s=r?li(d):Wi(d)}c&&(n[t+1]=r?Jd(i):Xd(i))}function RS(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ls(n,e)>=0:!1}function R(n,e,t){let r=Ee(),i=Cc();if(Ln(r,i,e)){let o=ft(),s=bh();r_(o,s,r,n,e,r[rt],t,!1)}return R}function wv(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Fh(n,t,o[s],s,r)}function Un(n,e,t){return D_(n,e,t,!1),Un}function Ae(n,e){return D_(n,e,null,!0),Ae}function D_(n,e,t,r){let i=Ee(),o=ft(),s=yh(2);if(o.firstUpdatePass&&FS(o,n,s,r),e!==dn&&Ln(i,s,e)){let c=o.data[wr()];US(o,c,i,i[rt],n,i[s+1]=$S(e,t),r,s)}}function kS(n,e){return e>=n.expandoStartIndex}function FS(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[wr()],s=kS(n,t);zS(o,r)&&e===null&&!s&&(e=!1),e=VS(i,o,e,r),NS(i,o,e,t,s,r)}}function VS(n,e,t,r){let i=Vx(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ud(null,n,e,t,r),t=as(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ud(i,n,e,t,r),o===null){let l=LS(n,e,r);l!==void 0&&Array.isArray(l)&&(l=ud(null,n,e,l[1],r),l=as(l,e.attrs,r),jS(n,e,r,l))}else o=BS(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function LS(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Wi(r)!==0)return n[li(r)]}function jS(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[li(i)]=r}function BS(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=as(r,s,t)}return as(r,e.attrs,t)}function ud(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=as(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function as(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),OD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function US(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let l=n.data,d=l[c+1],f=PS(d)?bv(l,e,t,i,Wi(d),s):void 0;if(!fc(f)){fc(o)||MS(d)&&(o=bv(l,null,t,i,c,s));let g=i0(wr(),t);j1(r,s,g,i,o)}}function bv(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let l=n[i],d=Array.isArray(l),f=d?l[1]:l,g=f===null,w=t[i+1];w===dn&&(w=g?Gt:void 0);let E=g?Zu(w,r):f===r?w:void 0;if(d&&!fc(E)&&(E=Zu(l,r)),fc(E)&&(c=E,s))return c;let P=n[i+1];i=s?li(P):Wi(P)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(c=Zu(l,r))}return c}function fc(n){return n!==void 0}function $S(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=kt(Ic(n)))),n}function zS(n,e){return(n.flags&(e?8:16))!==0}function HS(n,e,t,r,i,o){let s=e.consts,c=nc(s,i),l=Tc(e,n,2,r,c);return i_(e,t,l,nc(s,o)),l.attrs!==null&&Ud(l,l.attrs,!1),l.mergedAttrs!==null&&Ud(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function p(n,e,t,r){let i=Ee(),o=ft(),s=Kt+n,c=i[rt],l=o.firstCreatePass?HS(s,o,i,e,t,r):o.data[s],d=qS(o,i,l,c,e,n);i[s]=d;let f=fh(l);return hs(l,!0),K0(c,d,l),!ES(l)&&Eh()&&Oh(o,i,d,l),Ix()===0&&si(d,i),Dx(),f&&(e_(o,i,l),Z0(o,l,i)),r!==null&&t_(i,l),p}function m(){let n=Lt();u0()?Px():(n=n.parent,hs(n,!1));let e=n;Sx(e)&&Mx(),xx();let t=ft();return t.firstCreatePass&&(Ih(t,n),Zv(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Hx(e)&&wv(t,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&qx(e)&&wv(t,e,Ee(),e.stylesWithoutHost,!1),m}function Ne(n,e,t,r){return p(n,e,t,r),m(),Ne}var qS=(n,e,t,r,i,o)=>(Ch(!0),U0(r,i,Bx()));function ve(){return Ee()}var Jr=void 0;function GS(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var WS=["en",[["a","p"],["AM","PM"],Jr],[["AM","PM"],Jr,Jr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jr,"{1} 'at' {0}",Jr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",GS],dd={};function jt(n){let e=KS(n),t=Ev(e);if(t)return t;let r=e.split("-")[0];if(t=Ev(r),t)return t;if(r==="en")return WS;throw new le(701,!1)}function Ev(n){return n in dd||(dd[n]=On.ng&&On.ng.common&&On.ng.common.locales&&On.ng.common.locales[n]),dd[n]}var Ge=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ge||{});function KS(n){return n.toLowerCase().replace(/_/g,"-")}var pc="en-US";var QS=pc;function YS(n){typeof n=="string"&&(QS=n.toLowerCase().replace(/_/g,"-"))}function $(n,e,t,r){let i=Ee(),o=ft(),s=Lt();return x_(o,i,i[rt],s,n,e,r),$}function JS(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[ns],l=i[o+2];return c.length>l?c[l]:null}typeof s=="string"&&(o+=2)}return null}function x_(n,e,t,r,i,o,s){let c=fh(r),d=n.firstCreatePass&&u_(n),f=e[cn],g=l_(e),w=!0;if(r.type&3||s){let N=Qt(r,e),O=s?s(N):N,z=g.length,ee=s?be=>s(In(be[r.index])):r.index,W=null;if(!s&&c&&(W=JS(n,e,i,r.index)),W!==null){let be=W.__ngLastListenerFn__||W;be.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,w=!1}else{o=Iv(r,e,f,o,!1);let be=t.listen(O,i,o);g.push(o,be),d&&d.push(i,ee,z,z+1)}}else o=Iv(r,e,f,o,!1);let E=r.outputs,P;if(w&&E!==null&&(P=E[i])){let N=P.length;if(N)for(let O=0;O<N;O+=2){let z=P[O],ee=P[O+1],ke=e[z][ee].subscribe(o),Ce=g.length;g.push(o,ke),d&&d.push(i,r.index,Ce,-(Ce+1))}}}function Cv(n,e,t,r){let i=De(null);try{return _n(6,e,t),t(r)!==!1}catch(o){return d_(n,o),!1}finally{_n(7,e,t),De(i)}}function Iv(n,e,t,r,i){return function o(s){if(s===Function)return r;let c=n.componentOffset>-1?_r(n.index,e):e;jh(c);let l=Cv(e,t,r,s),d=o.__ngNextListenerFn__;for(;d;)l=Cv(e,t,d,s)&&l,d=d.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function F(n=1){return jx(n)}function T_(n,e,t){aS(n,e,t)}function S_(n){let e=Ee(),t=ft(),r=f0();vh(r+1);let i=zh(t,r);if(n.dirty&&_x(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=uS(e,r);n.reset(o,i1),n.notifyOnChanges()}return!0}return!1}function M_(){return oS(Ee(),f0())}function XS(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function $n(n){let e=Nx();return ph(e,Kt+n)}function y(n,e=""){let t=Ee(),r=ft(),i=n+Kt,o=r.firstCreatePass?Tc(r,i,1,e,null):r.data[i],s=ZS(r,t,o,e,n);t[i]=s,Eh()&&Oh(r,t,s,o),hs(o,!1)}var ZS=(n,e,t,r,i)=>(Ch(!0),w1(e[rt],r));function K(n){return J("",n,""),K}function J(n,e,t){let r=Ee(),i=xS(r,n,e,t);return i!==dn&&Vh(r,wr(),i),J}function zn(n,e,t,r,i){let o=Ee(),s=TS(o,n,e,t,r,i);return s!==dn&&Vh(o,wr(),s),zn}function qh(n,e,t,r,i,o,s){let c=Ee(),l=SS(c,n,e,t,r,i,o,s);return l!==dn&&Vh(c,wr(),l),qh}function ne(n,e,t){E_(e)&&(e=e());let r=Ee(),i=Cc();if(Ln(r,i,e)){let o=ft(),s=bh();r_(o,s,r,n,e,r[rt],t,!1)}return ne}function ie(n,e){let t=E_(n);return t&&n.set(e),t}function re(n,e){let t=Ee(),r=ft(),i=Lt();return x_(r,t,t[rt],i,n,e),re}function eM(n,e,t){let r=ft();if(r.firstCreatePass){let i=vr(n);Zd(t,r.data,r.blueprint,i,!0),Zd(e,r.data,r.blueprint,i,!1)}}function Zd(n,e,t,r,i){if(n=It(n),Array.isArray(n))for(let o=0;o<n.length;o++)Zd(n[o],e,t,r,i);else{let o=ft(),s=Ee(),c=Lt(),l=zi(n)?n:It(n.provide),d=Qv(n),f=c.providerIndexes&1048575,g=c.directiveStart,w=c.providerIndexes>>20;if(zi(n)||!n.multi){let E=new ii(d,i,Q),P=fd(l,e,i?f:f+w,g);P===-1?(xd(sc(c,s),o,l),hd(o,n,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(E),s.push(E)):(t[P]=E,s[P]=E)}else{let E=fd(l,e,f+w,g),P=fd(l,e,f,f+w),N=E>=0&&t[E],O=P>=0&&t[P];if(i&&!O||!i&&!N){xd(sc(c,s),o,l);let z=rM(i?nM:tM,t.length,i,r,d);!i&&O&&(t[P].providerFactory=z),hd(o,n,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(z),s.push(z)}else{let z=A_(t[i?P:E],d,!i&&r);hd(o,n,E>-1?E:P,z)}!i&&r&&O&&t[P].componentProviders++}}}function hd(n,e,t,r){let i=zi(e),o=nx(e);if(i||o){let l=(o?It(e.useClass):e).prototype.ngOnDestroy;if(l){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(t);f===-1?d.push(t,[r,l]):d[f+1].push(r,l)}else d.push(t,l)}}}function A_(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function fd(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function tM(n,e,t,r){return eh(this.multi,[])}function nM(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=oi(t,t[ue],this.providerFactory.index,r);o=c.slice(0,s),eh(i,o);for(let l=s;l<c.length;l++)o.push(c[l])}else o=[],eh(i,o);return o}function eh(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function rM(n,e,t,r,i){let o=new ii(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,A_(o,i,r&&!t),o}function hn(n,e=[]){return t=>{t.providersResolver=(r,i)=>eM(r,i?i(n):n,e)}}var iM=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Gv(!1,t.type),i=r.length>0?vS([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ye({token:n,providedIn:"environment",factory:()=>new n(ae(En))})}}return n})();function We(n){Uh("NgStandalone"),n.getStandaloneInjector=e=>e.get(iM).getOrCreateStandaloneInjector(n)}function P_(n,e){let t=n[e];return t===dn?void 0:t}function oM(n,e,t,r,i,o){let s=e+t;return Ln(n,s,i)?I_(n,s+1,o?r.call(o,i):r(i)):P_(n,s+1)}function sM(n,e,t,r,i,o,s){let c=e+t;return Hh(n,c,i,o)?I_(n,c+2,s?r.call(s,i,o):r(i,o)):P_(n,c+2)}function Me(n,e){let t=ft(),r,i=n+Kt;t.firstCreatePass?(r=aM(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ei(r.type,!0)),s,c=Ot(Q);try{let l=oc(!1),d=o();return oc(l),XS(t,Ee(),i,d),d}finally{Ot(c)}}function aM(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Gh(n,e,t){let r=n+Kt,i=Ee(),o=ph(i,r);return N_(i,r)?oM(i,d0(),e,o.transform,t,o):o.transform(t)}function Oe(n,e,t,r){let i=n+Kt,o=Ee(),s=ph(o,i);return N_(o,i)?sM(o,d0(),e,s.transform,t,r,s):s.transform(t,r)}function N_(n,e){return n[ue].data[e].pure}function Hn(n,e){return Mc(n,e)}var O_=new he("");function gs(n){return!!n&&typeof n.then=="function"}function R_(n){return!!n&&typeof n.subscribe=="function"}var cM=new he(""),k_=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Fe(cM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(gs(o))t.push(o);else if(R_(o)){let s=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F_=new he("");function lM(){my(()=>{throw new le(600,!1)})}function uM(n){return n.isBoundToModule}function dM(n,e,t){try{let r=t();return gs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Pc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Fe(A0),this.afterRenderEffectManager=Fe(v_),this.externalTestViews=new Set,this.beforeRender=new mr,this.afterTick=new mr,this.componentTypes=[],this.components=[],this.isStable=Fe(Ac).hasPendingTasks.pipe(Nt(t=>!t)),this._injector=Fe(En)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof uc;if(!this._injector.get(k_).done){let w=!i&&YD(t),E=!1;throw new le(405,E)}let s;i?s=t:s=this._injector.get(Bh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let c=uM(s)?void 0:this._injector.get(Gi),l=r||s.selector,d=s.create(fs.NULL,[],l,c),f=d.location.nativeElement,g=d.injector.get(O_,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),pd(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new le(101,!1);let r=De(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,De(r)}}detectChangesInAttachedViews(t){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===f_)throw new le(103,!1);if(t){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:c}of this._views)hM(s,o,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>th(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>th(o))))break}}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;pd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(F_,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new le(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function hM(n,e,t){!e&&!th(n)||fM(n,t,e)}function th(n){return gh(n)}function fM(n,e,t){let r;t?(r=0,n[te]|=1024):n[te]&64?r=0:r=1,p_(n,e,r)}var pM=(()=>{class n{constructor(){this.zone=Fe(lt),this.applicationRef=Fe(Pc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mM(n){return[{provide:lt,useFactory:n},{provide:Zo,multi:!0,useFactory:()=>{let e=Fe(pM,{optional:!0});return()=>e.initialize()}},{provide:Zo,multi:!0,useFactory:()=>{let e=Fe(_M);return()=>{e.initialize()}}},{provide:A0,useFactory:gM}]}function gM(){let n=Fe(lt),e=Fe(Fn);return t=>n.runOutsideAngular(()=>e.handleError(t))}function yM(n){let e=mM(()=>new lt(vM(n)));return _c([[],e])}function vM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var _M=(()=>{class n{constructor(){this.subscription=new St,this.initialized=!1,this.zone=Fe(lt),this.pendingTasks=Fe(Ac)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{lt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{lt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wM(){return typeof $localize<"u"&&$localize.locale||pc}var ys=new he("",{providedIn:"root",factory:()=>Fe(ys,ge.Optional|ge.SkipSelf)||wM()});var V_=new he("");var Qa=null;function bM(n=[],e){return fs.create({name:e,providers:[{provide:wc,useValue:"platform"},{provide:V_,useValue:new Set([()=>Qa=null])},...n]})}function EM(n=[]){if(Qa)return Qa;let e=bM(n);return Qa=e,lM(),CM(e),e}function CM(n){n.get(Th,null)?.forEach(t=>t())}var Nc=(()=>{class n{static{this.__NG_ELEMENT_ID__=IM}}return n})();function IM(n){return DM(Lt(),Ee(),(n&16)===16)}function DM(n,e,t){if(Ec(n)&&!t){let r=_r(n.index,e);return new ai(r,r)}else if(n.type&47){let r=e[Cn];return new ai(r,e)}return null}var nh=class{constructor(){}supports(e){return C_(e)}create(e){return new rh(e)}},xM=(n,e)=>e,rh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xM}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Dv(r,i,o)?t:r,c=Dv(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=c-i,f=l-i;if(d!=f){for(let w=0;w<d;w++){let E=w<o.length?o[w]:o[w]=0,P=E+w;f<=P&&P<d&&(o[w]=E+1)}let g=s.previousIndex;o[g]=f-d}}c!==l&&e(s,c,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!C_(e))throw new le(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,_S(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ih(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new mc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new mc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ih=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},oh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},mc=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new oh,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Dv(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function xv(){return new Wh([new nh])}var Wh=(()=>{class n{static{this.\u0275prov=ye({token:n,providedIn:"root",factory:xv})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||xv()),deps:[[n,new MD,new Fv]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new le(901,!1)}}return n})();function L_(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=EM(r),o=[yM(),...t||[]],c=new hc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=c.get(lt);return l.run(()=>{c.resolveInjectorInitializers();let d=c.get(Fn,null),f;l.runOutsideAngular(()=>{f=l.onError.subscribe({next:E=>{d.handleError(E)}})});let g=()=>c.destroy(),w=i.get(V_);return w.add(g),c.onDestroy(()=>{f.unsubscribe(),w.delete(g)}),dM(d,l,()=>{let E=c.get(k_);return E.runInitializers(),E.donePromise.then(()=>{let P=c.get(ys,pc);YS(P||pc);let N=c.get(Pc);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function Oc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var H_=null;function Xi(){return H_}function q_(n){H_??=n}var $c=class{};var Dn=new he("");var G_=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(G_||{});var xt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(xt||{}),Re=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Re||{}),Bt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Bt||{}),Ut={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function TM(n){return jt(n)[Ge.LocaleId]}function SM(n,e,t){let r=jt(n),i=[r[Ge.DayPeriodsFormat],r[Ge.DayPeriodsStandalone]],o=Jt(i,e);return Jt(o,t)}function MM(n,e,t){let r=jt(n),i=[r[Ge.DaysFormat],r[Ge.DaysStandalone]],o=Jt(i,e);return Jt(o,t)}function AM(n,e,t){let r=jt(n),i=[r[Ge.MonthsFormat],r[Ge.MonthsStandalone]],o=Jt(i,e);return Jt(o,t)}function PM(n,e){let r=jt(n)[Ge.Eras];return Jt(r,e)}function Rc(n,e){let t=jt(n);return Jt(t[Ge.DateFormat],e)}function kc(n,e){let t=jt(n);return Jt(t[Ge.TimeFormat],e)}function Fc(n,e){let r=jt(n)[Ge.DateTimeFormat];return Jt(r,e)}function Gn(n,e){let t=jt(n),r=t[Ge.NumberSymbols][e];if(typeof r>"u"){if(e===Ut.CurrencyDecimal)return t[Ge.NumberSymbols][Ut.Decimal];if(e===Ut.CurrencyGroup)return t[Ge.NumberSymbols][Ut.Group]}return r}function NM(n,e){return jt(n)[Ge.NumberFormats][e]}function W_(n){if(!n[Ge.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ge.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function OM(n){let e=jt(n);return W_(e),(e[Ge.ExtraData][2]||[]).map(r=>typeof r=="string"?Kh(r):[Kh(r[0]),Kh(r[1])])}function RM(n,e,t){let r=jt(n);W_(r);let i=[r[Ge.ExtraData][0],r[Ge.ExtraData][1]],o=Jt(i,e)||[];return Jt(o,t)||[]}function Jt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Kh(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var kM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vc={},FM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Wn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Wn||{}),Te=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Te||{}),xe=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(xe||{});function VM(n,e,t,r){let i=GM(n);e=qn(t,e)||e;let s=[],c;for(;e;)if(c=FM.exec(e),c){s=s.concat(c.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=Q_(r,l),i=qM(i,r,!0));let d="";return s.forEach(f=>{let g=zM(f);d+=g?g(i,t,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function zc(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function qn(n,e){let t=TM(n);if(Vc[t]??={},Vc[t][e])return Vc[t][e];let r="";switch(e){case"shortDate":r=Rc(n,Bt.Short);break;case"mediumDate":r=Rc(n,Bt.Medium);break;case"longDate":r=Rc(n,Bt.Long);break;case"fullDate":r=Rc(n,Bt.Full);break;case"shortTime":r=kc(n,Bt.Short);break;case"mediumTime":r=kc(n,Bt.Medium);break;case"longTime":r=kc(n,Bt.Long);break;case"fullTime":r=kc(n,Bt.Full);break;case"short":let i=qn(n,"shortTime"),o=qn(n,"shortDate");r=Lc(Fc(n,Bt.Short),[i,o]);break;case"medium":let s=qn(n,"mediumTime"),c=qn(n,"mediumDate");r=Lc(Fc(n,Bt.Medium),[s,c]);break;case"long":let l=qn(n,"longTime"),d=qn(n,"longDate");r=Lc(Fc(n,Bt.Long),[l,d]);break;case"full":let f=qn(n,"fullTime"),g=qn(n,"fullDate");r=Lc(Fc(n,Bt.Full),[f,g]);break}return r&&(Vc[t][e]=r),r}function Lc(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function fn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function LM(n,e){return fn(n,3).substring(0,e)}function Ye(n,e,t=0,r=!1,i=!1){return function(o,s){let c=jM(n,o);if((t>0||c>-t)&&(c+=t),n===Te.Hours)c===0&&t===-12&&(c=12);else if(n===Te.FractionalSeconds)return LM(c,e);let l=Gn(s,Ut.MinusSign);return fn(c,e,l,r,i)}}function jM(n,e){switch(n){case Te.FullYear:return e.getFullYear();case Te.Month:return e.getMonth();case Te.Date:return e.getDate();case Te.Hours:return e.getHours();case Te.Minutes:return e.getMinutes();case Te.Seconds:return e.getSeconds();case Te.FractionalSeconds:return e.getMilliseconds();case Te.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ve(n,e,t=xt.Format,r=!1){return function(i,o){return BM(i,o,n,e,t,r)}}function BM(n,e,t,r,i,o){switch(t){case xe.Months:return AM(e,i,r)[n.getMonth()];case xe.Days:return MM(e,i,r)[n.getDay()];case xe.DayPeriods:let s=n.getHours(),c=n.getMinutes();if(o){let d=OM(e),f=RM(e,i,r),g=d.findIndex(w=>{if(Array.isArray(w)){let[E,P]=w,N=s>=E.hours&&c>=E.minutes,O=s<P.hours||s===P.hours&&c<P.minutes;if(E.hours<P.hours){if(N&&O)return!0}else if(N||O)return!0}else if(w.hours===s&&w.minutes===c)return!0;return!1});if(g!==-1)return f[g]}return SM(e,i,r)[s<12?0:1];case xe.Eras:return PM(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function jc(n){return function(e,t,r){let i=-1*r,o=Gn(t,Ut.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Wn.Short:return(i>=0?"+":"")+fn(s,2,o)+fn(Math.abs(i%60),2,o);case Wn.ShortGMT:return"GMT"+(i>=0?"+":"")+fn(s,1,o);case Wn.Long:return"GMT"+(i>=0?"+":"")+fn(s,2,o)+":"+fn(Math.abs(i%60),2,o);case Wn.Extended:return r===0?"Z":(i>=0?"+":"")+fn(s,2,o)+":"+fn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var UM=0,Uc=4;function $M(n){let e=zc(n,UM,1).getDay();return zc(n,0,1+(e<=Uc?Uc:Uc+7)-e)}function K_(n){let e=n.getDay(),t=e===0?-3:Uc-e;return zc(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Qh(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=K_(t),s=$M(o.getFullYear()),c=o.getTime()-s.getTime();i=1+Math.round(c/6048e5)}return fn(i,n,Gn(r,Ut.MinusSign))}}function Bc(n,e=!1){return function(t,r){let o=K_(t).getFullYear();return fn(o,n,Gn(r,Ut.MinusSign),e)}}var Yh={};function zM(n){if(Yh[n])return Yh[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ve(xe.Eras,Re.Abbreviated);break;case"GGGG":e=Ve(xe.Eras,Re.Wide);break;case"GGGGG":e=Ve(xe.Eras,Re.Narrow);break;case"y":e=Ye(Te.FullYear,1,0,!1,!0);break;case"yy":e=Ye(Te.FullYear,2,0,!0,!0);break;case"yyy":e=Ye(Te.FullYear,3,0,!1,!0);break;case"yyyy":e=Ye(Te.FullYear,4,0,!1,!0);break;case"Y":e=Bc(1);break;case"YY":e=Bc(2,!0);break;case"YYY":e=Bc(3);break;case"YYYY":e=Bc(4);break;case"M":case"L":e=Ye(Te.Month,1,1);break;case"MM":case"LL":e=Ye(Te.Month,2,1);break;case"MMM":e=Ve(xe.Months,Re.Abbreviated);break;case"MMMM":e=Ve(xe.Months,Re.Wide);break;case"MMMMM":e=Ve(xe.Months,Re.Narrow);break;case"LLL":e=Ve(xe.Months,Re.Abbreviated,xt.Standalone);break;case"LLLL":e=Ve(xe.Months,Re.Wide,xt.Standalone);break;case"LLLLL":e=Ve(xe.Months,Re.Narrow,xt.Standalone);break;case"w":e=Qh(1);break;case"ww":e=Qh(2);break;case"W":e=Qh(1,!0);break;case"d":e=Ye(Te.Date,1);break;case"dd":e=Ye(Te.Date,2);break;case"c":case"cc":e=Ye(Te.Day,1);break;case"ccc":e=Ve(xe.Days,Re.Abbreviated,xt.Standalone);break;case"cccc":e=Ve(xe.Days,Re.Wide,xt.Standalone);break;case"ccccc":e=Ve(xe.Days,Re.Narrow,xt.Standalone);break;case"cccccc":e=Ve(xe.Days,Re.Short,xt.Standalone);break;case"E":case"EE":case"EEE":e=Ve(xe.Days,Re.Abbreviated);break;case"EEEE":e=Ve(xe.Days,Re.Wide);break;case"EEEEE":e=Ve(xe.Days,Re.Narrow);break;case"EEEEEE":e=Ve(xe.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Ve(xe.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Ve(xe.DayPeriods,Re.Wide);break;case"aaaaa":e=Ve(xe.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Ve(xe.DayPeriods,Re.Abbreviated,xt.Standalone,!0);break;case"bbbb":e=Ve(xe.DayPeriods,Re.Wide,xt.Standalone,!0);break;case"bbbbb":e=Ve(xe.DayPeriods,Re.Narrow,xt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ve(xe.DayPeriods,Re.Abbreviated,xt.Format,!0);break;case"BBBB":e=Ve(xe.DayPeriods,Re.Wide,xt.Format,!0);break;case"BBBBB":e=Ve(xe.DayPeriods,Re.Narrow,xt.Format,!0);break;case"h":e=Ye(Te.Hours,1,-12);break;case"hh":e=Ye(Te.Hours,2,-12);break;case"H":e=Ye(Te.Hours,1);break;case"HH":e=Ye(Te.Hours,2);break;case"m":e=Ye(Te.Minutes,1);break;case"mm":e=Ye(Te.Minutes,2);break;case"s":e=Ye(Te.Seconds,1);break;case"ss":e=Ye(Te.Seconds,2);break;case"S":e=Ye(Te.FractionalSeconds,1);break;case"SS":e=Ye(Te.FractionalSeconds,2);break;case"SSS":e=Ye(Te.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=jc(Wn.Short);break;case"ZZZZZ":e=jc(Wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=jc(Wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=jc(Wn.Long);break;default:return null}return Yh[n]=e,e}function Q_(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function HM(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function qM(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=Q_(e,i);return HM(n,r*(o-i))}function GM(n){if(j_(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(c=>+c);return zc(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(kM))return WM(r)}let e=new Date(n);if(!j_(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function WM(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,c=Number(n[5]||0)-r,l=Number(n[6]||0),d=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,c,l,d),e}function j_(n){return n instanceof Date&&!isNaN(n.valueOf())}var KM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,B_=22,Hc=".",vs="0",QM=";",YM=",",Jh="#";function JM(n,e,t,r,i,o,s=!1){let c="",l=!1;if(!isFinite(n))c=Gn(t,Ut.Infinity);else{let d=tA(n);s&&(d=eA(d));let f=e.minInt,g=e.minFrac,w=e.maxFrac;if(o){let ee=o.match(KM);if(ee===null)throw new Error(`${o} is not a valid digit info`);let W=ee[1],be=ee[3],ke=ee[5];W!=null&&(f=Xh(W)),be!=null&&(g=Xh(be)),ke!=null?w=Xh(ke):be!=null&&g>w&&(w=g)}nA(d,g,w);let E=d.digits,P=d.integerLen,N=d.exponent,O=[];for(l=E.every(ee=>!ee);P<f;P++)E.unshift(0);for(;P<0;P++)E.unshift(0);P>0?O=E.splice(P,E.length):(O=E,E=[0]);let z=[];for(E.length>=e.lgSize&&z.unshift(E.splice(-e.lgSize,E.length).join(""));E.length>e.gSize;)z.unshift(E.splice(-e.gSize,E.length).join(""));E.length&&z.unshift(E.join("")),c=z.join(Gn(t,r)),O.length&&(c+=Gn(t,i)+O.join("")),N&&(c+=Gn(t,Ut.Exponential)+"+"+N)}return n<0&&!l?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function XM(n,e,t){let r=NM(e,G_.Decimal),i=ZM(r,Gn(e,Ut.MinusSign));return JM(n,i,e,Ut.Group,Ut.Decimal,t)}function ZM(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(QM),i=r[0],o=r[1],s=i.indexOf(Hc)!==-1?i.split(Hc):[i.substring(0,i.lastIndexOf(vs)+1),i.substring(i.lastIndexOf(vs)+1)],c=s[0],l=s[1]||"";t.posPre=c.substring(0,c.indexOf(Jh));for(let f=0;f<l.length;f++){let g=l.charAt(f);g===vs?t.minFrac=t.maxFrac=f+1:g===Jh?t.maxFrac=f+1:t.posSuf+=g}let d=c.split(YM);if(t.gSize=d[1]?d[1].length:0,t.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let f=i.length-t.posPre.length-t.posSuf.length,g=o.indexOf(Jh);t.negPre=o.substring(0,g).replace(/'/g,""),t.negSuf=o.slice(g+f).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function eA(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function tA(n){let e=Math.abs(n)+"",t=0,r,i,o,s,c;for((i=e.indexOf(Hc))>-1&&(e=e.replace(Hc,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===vs;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===vs;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>B_&&(r=r.splice(0,B_-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function nA(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,c=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let g=s;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let g=1;g<s;g++)r[g]=0}if(c>=5)if(s-1<0){for(let g=0;g>s;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,d=e+n.integerLen,f=r.reduceRight(function(g,w,E,P){return w=w+g,P[E]=w<10?w:w-10,l&&(P[E]===0&&E>=d?P.pop():l=!1),w>=10?1:0},0);f&&(r.unshift(f),n.integerLen++)}function Xh(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function qc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zh=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pt=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Zh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),U_(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);U_(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Q(Yi),Q(ci),Q(Wh))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function U_(n,e){n.context.$implicit=e.item}var st=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ef,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$_("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$_("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Q(Yi),Q(ci))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),ef=class{constructor(){this.$implicit=null,this.ngIf=null}};function $_(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${kt(e)}'.`)}function tf(n,e){return new le(2100,!1)}var rA=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Y_=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw tf(n,t);return t.replace(rA,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=vc({name:"titlecase",type:n,pure:!0,standalone:!0})}}return n})();var iA="mediumDate",oA=new he(""),sA=new he(""),Ir=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??iA,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return VM(t,s,o||this.locale,c)}catch(s){throw tf(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(Q(ys,16),Q(oA,24),Q(sA,24))}}static{this.\u0275pipe=vc({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var J_=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!aA(t))return null;i||=this._locale;try{let o=cA(t);return XM(o,i,r)}catch(o){throw tf(n,o.message)}}static{this.\u0275fac=function(r){return new(r||n)(Q(ys,16))}}static{this.\u0275pipe=vc({name:"number",type:n,pure:!0,standalone:!0})}}return n})();function aA(n){return!(n==null||n===""||n!==n)}function cA(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var $e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=di({type:n})}static{this.\u0275inj=ui({})}}return n})(),X_="browser",lA="server";function Gc(n){return n===lA}var Ji=class{};var ws=class{},Kc=class{},hi=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var rf=class{encodeKey(e){return Z_(e)}encodeValue(e){return Z_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function hA(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(c),t.set(s,l)}),t}var fA=/%(\d[a-f0-9])/gi,pA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Z_(n){return encodeURIComponent(n).replace(fA,(e,t)=>pA[t]??e)}function Wc(n){return`${n}`}var Dr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=hA(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Wc):[Wc(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Wc(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Wc(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var of=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function mA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ew(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tw(n){return typeof Blob<"u"&&n instanceof Blob}function nw(n){return typeof FormData<"u"&&n instanceof FormData}function gA(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var _s=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(mA(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new hi,this.context??=new of,!this.params)this.params=new Dr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ew(this.body)||tw(this.body)||nw(this.body)||gA(this.body)?this.body:this.body instanceof Dr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nw(this.body)?null:tw(this.body)?this.body.type||null:ew(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Dr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((w,E)=>w.set(E,e.setHeaders[E]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((w,E)=>w.set(E,e.setParams[E]),f)),new n(t,r,s,{params:f,headers:d,context:g,reportProgress:l,responseType:i,withCredentials:c,transferCache:o})}},Zi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Zi||{}),bs=class{constructor(e,t=Jc.Ok,r="OK"){this.headers=e.headers||new hi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},sf=class n extends bs{constructor(e={}){super(e),this.type=Zi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qc=class n extends bs{constructor(e={}){super(e),this.type=Zi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Yc=class extends bs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Jc=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Jc||{});function nf(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var fi=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof _s)o=t;else{let l;i.headers instanceof hi?l=i.headers:l=new hi(i.headers);let d;i.params&&(i.params instanceof Dr?d=i.params:d=new Dr({fromObject:i.params})),o=new _s(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ja(o).pipe(Yu(l=>this.handler.handle(l)));if(t instanceof _s||i.observe==="events")return s;let c=s.pipe(Qu(l=>l instanceof Qc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Nt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Nt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Nt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(Nt(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Dr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,nf(i,r))}post(t,r,i={}){return this.request("POST",t,nf(i,r))}put(t,r,i={}){return this.request("PUT",t,nf(i,r))}static{this.\u0275fac=function(r){return new(r||n)(ae(ws))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})();function yA(n,e){return e(n)}function vA(n,e,t){return(r,i)=>Yv(t,()=>e(r,o=>n(o,i)))}var ow=new he(""),_A=new he(""),wA=new he("");var rw=(()=>{class n extends ws{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Fe(Ac);let i=Fe(wA,{optional:!0});this.backend=i??t}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ow),...this.injector.get(_A,[])]));this.chain=i.reduceRight((o,s)=>vA(o,s,this.injector),yA)}let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ju(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(ae(Kc),ae(En))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})();var bA=/^\)\]\}',?\n/;function EA(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var iw=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new le(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Yr(r.\u0275loadImpl()):ja(null)).pipe(Xu(()=>new Qe(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,O)=>s.setRequestHeader(N,O.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader("Content-Type",N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let c=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let N=s.statusText||"OK",O=new hi(s.getAllResponseHeaders()),z=EA(s)||t.url;return l=new sf({headers:O,status:s.status,statusText:N,url:z}),l},f=()=>{let{headers:N,status:O,statusText:z,url:ee}=d(),W=null;O!==Jc.NoContent&&(W=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=W?Jc.Ok:0);let be=O>=200&&O<300;if(t.responseType==="json"&&typeof W=="string"){let ke=W;W=W.replace(bA,"");try{W=W!==""?JSON.parse(W):null}catch(Ce){W=ke,be&&(be=!1,W={error:Ce,text:W})}}be?(o.next(new Qc({body:W,headers:N,status:O,statusText:z,url:ee||void 0})),o.complete()):o.error(new Yc({error:W,headers:N,status:O,statusText:z,url:ee||void 0}))},g=N=>{let{url:O}=d(),z=new Yc({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(z)},w=!1,E=N=>{w||(o.next(d()),w=!0);let O={type:Zi.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(O.total=N.total),t.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},P=N=>{let O={type:Zi.UploadProgress,loaded:N.loaded};N.lengthComputable&&(O.total=N.total),o.next(O)};return s.addEventListener("load",f),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",E),c!==null&&s.upload&&s.upload.addEventListener("progress",P)),s.send(c),o.next({type:Zi.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",f),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",E),c!==null&&s.upload&&s.upload.removeEventListener("progress",P)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(ae(Ji))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})(),sw=new he(""),CA="XSRF-TOKEN",IA=new he("",{providedIn:"root",factory:()=>CA}),DA="X-XSRF-TOKEN",xA=new he("",{providedIn:"root",factory:()=>DA}),Xc=class{},TA=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=qc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(ae(Dn),ae(Er),ae(IA))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})();function SA(n,e){let t=n.url.toLowerCase();if(!Fe(sw)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=Fe(Xc).getToken(),i=Fe(xA);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function aw(...n){let e=[fi,iw,rw,{provide:ws,useExisting:rw},{provide:Kc,useExisting:iw},{provide:ow,useValue:SA,multi:!0},{provide:sw,useValue:!0},{provide:Xc,useClass:TA}];for(let t of n)e.push(...t.\u0275providers);return _c(e)}var uf=class extends $c{constructor(){super(...arguments),this.supportsDOMEvents=!0}},df=class n extends uf{static makeCurrent(){q_(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=AA();return t==null?null:PA(t)}resetBaseElement(){Es=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qc(document.cookie,e)}},Es=null;function AA(){return Es=Es||document.querySelector("base"),Es?Es.getAttribute("href"):null}function PA(n){return new URL(n,document.baseURI).pathname}var NA=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})(),hf=new he(""),dw=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new le(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ae(hf),ae(lt))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})(),Zc=class{constructor(e){this._doc=e}},cf="ng-app-id",hw=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gc(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${cf}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(cf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(cf,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ae(Dn),ae(xh),ae(Sh,8),ae(Er))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})(),lf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pf=/%COMP%/g,fw="%COMP%",OA=`_nghost-${fw}`,RA=`_ngcontent-${fw}`,kA=!0,FA=new he("",{providedIn:"root",factory:()=>kA});function VA(n){return RA.replace(pf,n)}function LA(n){return OA.replace(pf,n)}function pw(n,e){return e.map(t=>t.replace(pf,n))}var cw=(()=>{class n{constructor(t,r,i,o,s,c,l,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Gc(c),this.defaultRenderer=new Cs(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bn.ShadowDom&&(r=Ie(X({},r),{encapsulation:bn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof el?i.applyToHost(t):i instanceof Is&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case bn.Emulated:o=new el(l,d,r,this.appId,f,s,c,g);break;case bn.ShadowDom:return new ff(l,d,t,r,s,c,this.nonce,g);default:o=new Is(l,d,r,f,s,c,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ae(dw),ae(hw),ae(xh),ae(FA),ae(Dn),ae(Er),ae(lt),ae(Sh))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})(),Cs=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(lf[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(lw(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(lw(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new le(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=lf[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=lf[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(t,r,i&Vn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Xi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function lw(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ff=class extends Cs{constructor(e,t,r,i,o,s,c,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=pw(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Is=class extends Cs{constructor(e,t,r,i,o,s,c,l){super(e,o,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?pw(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},el=class extends Is{constructor(e,t,r,i,o,s,c,l){let d=i+"-"+r.id;super(e,t,r,o,s,c,l,d),this.contentAttr=VA(d),this.hostAttr=LA(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},jA=(()=>{class n extends Zc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ae(Dn))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})(),uw=["alt","control","meta","shift"],BA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UA={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},$A=(()=>{class n extends Zc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),uw.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=BA[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uw.forEach(s=>{if(s!==i){let c=UA[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ae(Dn))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac})}}return n})();function mw(n,e){return L_(X({rootComponent:n},zA(e)))}function zA(n){return{appProviders:[...KA,...n?.providers??[]],platformProviders:WA}}function HA(){df.makeCurrent()}function qA(){return new Fn}function GA(){return V0(document),document}var WA=[{provide:Er,useValue:X_},{provide:Th,useValue:HA,multi:!0},{provide:Dn,useFactory:GA,deps:[]}];var KA=[{provide:wc,useValue:"root"},{provide:Fn,useFactory:qA,deps:[]},{provide:hf,useClass:jA,multi:!0,deps:[Dn,lt,Er]},{provide:hf,useClass:$A,multi:!0,deps:[Dn]},cw,hw,dw,{provide:ss,useExisting:cw},{provide:Ji,useClass:NA,deps:[]},[]];var gw={providers:[aw()]};var xw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Cr),Q(Yt))}}static{this.\u0275dir=qe({type:n})}}return n})(),Ms=(()=>{class n extends xw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=br(n)))(i||n)}})()}static{this.\u0275dir=qe({type:n,features:[Dt]})}}return n})(),ro=new he("");var QA={provide:ro,useExisting:Vt(()=>mt),multi:!0};function YA(){let n=Xi()?Xi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var JA=new he(""),mt=(()=>{class n extends xw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!YA())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Cr),Q(Yt),Q(JA,8))}}static{this.\u0275dir=qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[hn([QA]),Dt]})}}return n})();function Ss(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var As=new he(""),Tw=new he("");function XA(n){return e=>{if(Ss(e.value)||Ss(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function ZA(n){return e=>{if(Ss(e.value)||Ss(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function eP(n){return Ss(n.value)?{required:!0}:null}function yw(n){return null}function Sw(n){return n!=null}function Mw(n){return gs(n)?Yr(n):n}function Aw(n){let e={};return n.forEach(t=>{e=t!=null?X(X({},e),t):e}),Object.keys(e).length===0?null:e}function Pw(n,e){return e.map(t=>t(n))}function tP(n){return!n.validate}function Nw(n){return n.map(e=>tP(e)?e:t=>e.validate(t))}function nP(n){if(!n)return null;let e=n.filter(Sw);return e.length==0?null:function(t){return Aw(Pw(t,e))}}function gf(n){return n!=null?nP(Nw(n)):null}function rP(n){if(!n)return null;let e=n.filter(Sw);return e.length==0?null:function(t){let r=Pw(t,e).map(Mw);return Ku(r).pipe(Nt(Aw))}}function yf(n){return n!=null?rP(Nw(n)):null}function vw(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iP(n){return n._rawValidators}function oP(n){return n._rawAsyncValidators}function mf(n){return n?Array.isArray(n)?n:[n]:[]}function nl(n,e){return Array.isArray(n)?n.includes(e):n===e}function _w(n,e){let t=mf(e);return mf(n).forEach(i=>{nl(t,i)||t.push(i)}),t}function ww(n,e){return mf(e).filter(t=>!nl(n,t))}var rl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},to=class extends rl{get formDirective(){return null}get path(){return null}},no=class extends rl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},il=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},sP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},J4=Ie(X({},sP),{"[class.ng-submitted]":"isSubmitted"}),gt=(()=>{class n extends il{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(no,2))}}static{this.\u0275dir=qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ae("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Dt]})}}return n})(),Zt=(()=>{class n extends il{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(to,10))}}static{this.\u0275dir=qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ae("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Dt]})}}return n})();var Ds="VALID",tl="INVALID",eo="PENDING",xs="DISABLED";function Ow(n){return(al(n)?n.validators:n)||null}function aP(n){return Array.isArray(n)?gf(n):n||null}function Rw(n,e){return(al(e)?e.asyncValidators:n)||null}function cP(n){return Array.isArray(n)?yf(n):n||null}function al(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function lP(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new le(1e3,"");if(!r[t])throw new le(1001,"")}function uP(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new le(1002,"")})}var ol=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ds}get invalid(){return this.status===tl}get pending(){return this.status==eo}get disabled(){return this.status===xs}get enabled(){return this.status!==xs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_w(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_w(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ww(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ww(e,this._rawAsyncValidators))}hasValidator(e){return nl(this._rawValidators,e)}hasAsyncValidator(e){return nl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xs,this.errors=null,this._forEachChild(r=>{r.disable(Ie(X({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(X({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ds,this._forEachChild(r=>{r.enable(Ie(X({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(X({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ds||this.status===eo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xs:Ds}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator=!0;let t=Mw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new sn,this.statusChanges=new sn}_calculateStatus(){return this._allControlsDisabled()?xs:this.errors?tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(tl)?tl:Ds}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){al(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cP(this._rawAsyncValidators)}},sl=class extends ol{constructor(e,t,r){super(Ow(t),Rw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){uP(this,!0,e),Object.keys(e).forEach(r=>{lP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var cl=new he("CallSetDisabledState",{providedIn:"root",factory:()=>ll}),ll="always";function dP(n,e){return[...e.path,n]}function kw(n,e,t=ll){Fw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),fP(n,e),mP(n,e),pP(n,e),hP(n,e)}function bw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hP(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Fw(n,e){let t=iP(n);e.validator!==null?n.setValidators(vw(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=oP(n);e.asyncValidator!==null?n.setAsyncValidators(vw(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();bw(e._rawValidators,i),bw(e._rawAsyncValidators,i)}function fP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Vw(n,e)})}function pP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Vw(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Vw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mP(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function gP(n,e){n==null,Fw(n,e)}function yP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function vP(n){return Object.getPrototypeOf(n.constructor)===Ms}function _P(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wP(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===mt?t=o:vP(o)?r=o:i=o}),i||r||t||null}var bP={provide:to,useExisting:Vt(()=>$t)},Ts=Promise.resolve(),$t=(()=>{class n extends to{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new sn,this.form=new sl({},gf(t),yf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ts.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),kw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ts.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ts.then(()=>{let r=this._findContainer(t.path),i=new sl({});gP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ts.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ts.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,_P(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(Q(As,10),Q(Tw,10),Q(cl,8))}}static{this.\u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&$("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[Wt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hn([bP]),Dt]})}}return n})();function Ew(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Cw(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var EP=class extends ol{constructor(e=null,t,r){super(Ow(t),Rw(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),al(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Cw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ew(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ew(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Cw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var CP={provide:no,useExisting:Vt(()=>dt)},Iw=Promise.resolve(),dt=(()=>{class n extends no{constructor(t,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new EP,this._registered=!1,this.name="",this.update=new sn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wP(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),yP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Iw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Oc(r);Iw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?dP(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Q(to,9),Q(As,10),Q(Tw,10),Q(ro,10),Q(Nc,8),Q(cl,8))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Wt.None,"disabled","isDisabled"],model:[Wt.None,"ngModel","model"],options:[Wt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[hn([CP]),Dt,ds]})}}return n})(),en=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),IP={provide:ro,useExisting:Vt(()=>Kn),multi:!0},Kn=(()=>{class n extends Ms{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=br(n)))(i||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&$("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[hn([IP]),Dt]})}}return n})(),DP={provide:ro,useExisting:Vt(()=>vf),multi:!0};var xP=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vf=(()=>{class n extends Ms{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Fe(cl,{optional:!0})??ll}ngOnInit(){this._control=this._injector.get(no),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||n)(Q(Cr),Q(Yt),Q(xP),Q(fs))}}static{this.\u0275dir=qe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&$("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[hn([DP]),Dt]})}}return n})();var TP={provide:ro,useExisting:Vt(()=>xn),multi:!0};function Lw(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function SP(n){return n.split(":")[0]}var xn=(()=>{class n extends Ms{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Lw(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=SP(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=br(n)))(i||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&$("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[hn([TP]),Dt]})}}return n})(),xr=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Lw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Q(Yt),Q(Cr),Q(xn,9))}}static{this.\u0275dir=qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),MP={provide:ro,useExisting:Vt(()=>jw),multi:!0};function Dw(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function AP(n){return n.split(":")[0]}var jw=(()=>{class n extends Ms{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let l=s[c],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let c=0;c<s.length;c++){let l=s[c];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=AP(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=br(n)))(i||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&$("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[hn([MP]),Dt]})}}return n})(),Tr=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Dw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Dw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Q(Yt),Q(Cr),Q(jw,9))}}static{this.\u0275dir=qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function Bw(n){return typeof n=="number"?n:parseFloat(n)}var _f=(()=>{class n{constructor(){this._validator=yw}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yw,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=qe({type:n,features:[ds]})}}return n})(),PP={provide:As,useExisting:Vt(()=>wf),multi:!0},wf=(()=>{class n extends _f{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Bw(t),this.createValidator=t=>ZA(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=br(n)))(i||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ms("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[hn([PP]),Dt]})}}return n})(),NP={provide:As,useExisting:Vt(()=>Qn),multi:!0},Qn=(()=>{class n extends _f{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Bw(t),this.createValidator=t=>XA(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=br(n)))(i||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ms("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[hn([NP]),Dt]})}}return n})(),OP={provide:As,useExisting:Vt(()=>zt),multi:!0};var zt=(()=>{class n extends _f{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Oc,this.createValidator=t=>eP}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=br(n)))(i||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ms("required",i._enabled?"":null)},inputs:{required:"required"},features:[hn([OP]),Dt]})}}return n})();var RP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=di({type:n})}static{this.\u0275inj=ui({})}}return n})();var yt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:cl,useValue:t.callSetDisabledState??ll}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=di({type:n})}static{this.\u0275inj=ui({imports:[RP]})}}return n})();var Mr={production:!0,apiUrl:"https://inventory-three-theta.vercel.app/api",socketUrl:"https://your-websocket-server.com",firebaseConfig:{apiKey:"AIzaSyDJL01CQ2KJGqni6Q3EPR8Yv1CPW6cXezk",authDomain:"inventory-8b0ad.firebaseapp.com",projectId:"inventory-8b0ad",storageBucket:"inventory-8b0ad.firebasestorage.app",messagingSenderId:"165252469952",appId:"1:165252469952:web:1dec34907cc003fd2c4925",measurementId:"G-YK1FRTQT8P"}};var ul=(()=>{class n{constructor(t){this.http=t,this.apiUrl=Mr.apiUrl,this.logsSubject=new Ct([]),this.logs$=this.logsSubject.asObservable(),this.fetchLogs()}fetchLogs(){this.http.get(`${this.apiUrl}/logs?limit=200`).subscribe({next:t=>this.logsSubject.next(t),error:t=>console.error("Error fetching logs:",t)})}logActivity(t,r,i,o,s){let c={action:t,entityType:r,entityId:i,entityName:o,details:s};console.log("Logging activity:",c),this.http.post(`${this.apiUrl}/logs`,c).subscribe({next:l=>{console.log("Activity logged successfully:",l);let d=this.logsSubject.value;this.logsSubject.next([l,...d])},error:l=>{console.error("Error logging activity:",l),console.error("Failed log data:",c)}})}getLogs(){return this.logs$}refreshLogs(){this.fetchLogs()}cleanupOldLogs(){return this.http.post(`${this.apiUrl}/cleanup-logs`,{})}static{this.\u0275fac=function(r){return new(r||n)(ae(fi))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var tn=(()=>{class n{constructor(t,r){this.http=t,this.loggingService=r,this.apiUrl=Mr.apiUrl,this.productsSubject=new Ct([]),this.salesSubject=new Ct([]),this.expensesSubject=new Ct([]),this.products$=this.productsSubject.asObservable(),this.sales$=this.salesSubject.asObservable(),this.expenses$=this.expensesSubject.asObservable(),this.loadInitialData()}loadInitialData(){this.fetchProducts(),this.fetchSales(),this.fetchExpenses()}fetchProducts(){this.http.get(`${this.apiUrl}/products`).subscribe({next:t=>this.productsSubject.next(t),error:t=>console.error("Error fetching products:",t)})}fetchSales(){this.http.get(`${this.apiUrl}/sales`).subscribe({next:t=>{let r=t.map(i=>this.transformSale(i));this.salesSubject.next(r)},error:t=>console.error("Error fetching sales:",t)})}fetchExpenses(){this.http.get(`${this.apiUrl}/expenses`).subscribe({next:t=>this.expensesSubject.next(t),error:t=>console.error("Error fetching expenses:",t)})}getProducts(){return this.products$}getSales(){return this.sales$}getExpenses(){return this.expenses$}addExpense(t){this.http.post(`${this.apiUrl}/expenses`,t).subscribe({next:r=>{let i=this.expensesSubject.value;this.expensesSubject.next([...i,r]),this.loggingService.logActivity("create","expense",r.id,r.productName,`$${r.price.toFixed(2)}`)},error:r=>console.error("Error adding expense:",r)})}addProduct(t){this.http.post(`${this.apiUrl}/products`,t).subscribe({next:r=>{let i=this.productsSubject.value;this.productsSubject.next([...i,r]),this.loggingService.logActivity("create","product",r.id,r.name)},error:r=>console.error("Error adding product:",r)})}recordSale(t,r,i,o,s,c,l=0,d="amount"){let g=this.productsSubject.value.find(N=>N.id===t);if(!g)throw new Error("Product not found");if(g.quantity<r)throw new Error("Insufficient quantity");let w=g.price*r;l>0&&(d==="percent"?w=w-w*(l/100):w=w-l),w=Math.max(0,Math.round(w*100)/100);let E=i-w;if(E<0)throw new Error("Insufficient cash");let P={productId:g.id,productName:g.name,category:g.category,price:g.price,quantitySold:r,total:w,cashReceived:i,change:E,deliveryDate:o,deliveryNotes:s,customerId:c,pending:!0,discount:l,discountType:d};this.http.post(`${this.apiUrl}/sales`,P).subscribe({next:N=>{let O=this.salesSubject.value;this.salesSubject.next([...O,this.transformSale(N)]);let z=Ie(X({},g),{quantity:g.quantity-r});this.updateProduct(z),this.loggingService.logActivity("create","sale",N.id,g.name,`Sold ${r} units`)},error:N=>console.error("Error recording sale:",N)})}completePendingSale(t){this.http.put(`${this.apiUrl}/sales/${t}`,{pending:!1}).subscribe({next:()=>{let r=this.salesSubject.value,i=r.find(s=>s.id===t),o=r.map(s=>s.id===t?Ie(X({},s),{pending:!1}):s);this.salesSubject.next(o),i&&this.loggingService.logActivity("complete","sale",t,i.productName,"Marked as delivered")},error:r=>console.error("Error completing sale:",r)})}updateSale(t){this.http.put(`${this.apiUrl}/sales/${t.id}`,t).subscribe({next:r=>{let o=this.salesSubject.value.map(s=>s.id===t.id?this.transformSale(r):s);this.salesSubject.next(o),this.loggingService.logActivity("update","sale",t.id,t.productName,"Updated delivery details")},error:r=>console.error("Error updating sale:",r)})}transformSale(t){return Ie(X({},t),{timestamp:this.parseDate(t.timestamp),deliveryDate:t.deliveryDate?this.parseDate(t.deliveryDate):void 0})}parseDate(t){return t?t instanceof Date?t:typeof t=="string"?new Date(t):typeof t=="object"&&t._seconds!==void 0?new Date(t._seconds*1e3):new Date(t):new Date}restockProduct(t,r){let o=this.productsSubject.value.find(s=>s.id===t);if(o){let s=Ie(X({},o),{quantity:o.quantity+r});this.updateProduct(s),this.loggingService.logActivity("restock","product",t,o.name,`Added ${r} units`)}}updateProduct(t){this.http.put(`${this.apiUrl}/products/${t.id}`,t).subscribe({next:()=>{let i=this.productsSubject.value.map(c=>c.id===t.id?t:c);this.productsSubject.next(i);let o=this.salesSubject.value,s=o.filter(c=>c.productId===t.id&&c.productName!==t.name);if(s.length>0){let c=o.map(l=>l.productId===t.id?Ie(X({},l),{productName:t.name}):l);this.salesSubject.next(c),s.forEach(l=>{let d=Ie(X({},l),{productName:t.name});this.http.put(`${this.apiUrl}/sales/${l.id}`,d).subscribe({error:f=>console.error(`Error updating sale ${l.id} name:`,f)})})}this.loggingService.logActivity("update","product",t.id,t.name)},error:r=>console.error("Error updating product:",r)})}clearAllData(){this.productsSubject.next([]),this.salesSubject.next([]),this.expensesSubject.next([])}migrateFromLocalStorage(){let t=localStorage.getItem("jjm_products"),r=localStorage.getItem("jjm_sales"),i=localStorage.getItem("jjm_expenses");t&&JSON.parse(t).forEach(s=>this.addProduct(s)),r&&JSON.parse(r).forEach(s=>{this.http.post(`${this.apiUrl}/sales`,s).subscribe({error:c=>console.error("Error migrating sale:",c)})}),i&&JSON.parse(i).forEach(s=>this.addExpense(s)),console.log("Migration started...")}static{this.\u0275fac=function(r){return new(r||n)(ae(fi),ae(ul))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kP(n,e){if(n&1){let t=ve();p(0,"div",23),Ne(1,"img",24),p(2,"button",25),$("click",function(){j(t);let i=F();return B(i.removeImage())}),y(3," \u2715 "),m()()}if(n&2){let t=F();_(),R("src",t.imagePreview,ps)}}function FP(n,e){if(n&1){let t=ve();p(0,"div",26)(1,"input",27),$("change",function(i){j(t);let o=F();return B(o.onImageChange(i))}),m(),p(2,"label",28)(3,"span",29),y(4,"\u{1F4F7}"),m(),p(5,"span",30),y(6,"Click to upload image"),m(),p(7,"span",31),y(8,"PNG, JPG, GIF up to 5MB"),m()()()}}var $w=(()=>{class n{constructor(t){this.inventoryService=t,this.product={name:"",category:"",price:0,quantity:0,imageUrl:""},this.imagePreview=null}onImageChange(t){let r=t.target;if(r.files&&r.files[0]){let i=r.files[0],o=new FileReader;o.onload=s=>{this.imagePreview=s.target?.result,this.product.imageUrl=s.target?.result},o.readAsDataURL(i)}}removeImage(){this.imagePreview=null,this.product.imageUrl=""}onSubmit(){this.isValid()&&(this.inventoryService.addProduct({name:this.product.name,category:this.product.category,price:this.product.price,quantity:this.product.quantity,imageUrl:this.product.imageUrl}),this.product={name:"",category:"",price:0,quantity:0,imageUrl:""},this.imagePreview=null)}isValid(){return!!(this.product.name&&this.product.category&&this.product.price>0&&this.product.quantity>0)}static{this.\u0275fac=function(r){return new(r||n)(Q(tn))}}static{this.\u0275cmp=He({type:n,selectors:[["app-product-form"]],standalone:!0,features:[We],decls:42,vars:7,consts:[[1,"card"],[1,"form",3,"ngSubmit"],[1,"image-upload-section"],[1,"image-upload-label"],["class","image-preview-container",4,"ngIf"],["class","image-upload-area",4,"ngIf"],[1,"form-group"],["for","productName"],["type","text","id","productName","name","name","placeholder","Enter product name","required","",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","category","required","",3,"ngModelChange","ngModel"],["value",""],["value","Lechon"],["value","Hollow blocks"],["value","Sand and Gravel"],["value","Copra"],["value","Others"],[1,"form-row"],["for","price"],["type","number","id","price","name","price","placeholder","0.00","min","0","step","0.01","required","",3,"ngModelChange","ngModel"],["for","quantity"],["type","number","id","quantity","name","quantity","placeholder","0","min","1","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-primary",3,"disabled"],[1,"image-preview-container"],["alt","Product preview","loading","lazy",1,"image-preview",3,"src"],["type","button",1,"remove-image-btn",3,"click"],[1,"image-upload-area"],["type","file","id","productImage","accept","image/*",1,"file-input",3,"change"],["for","productImage",1,"file-input-label"],[1,"upload-icon"],[1,"upload-text"],[1,"upload-hint"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"h3"),y(2,"Add New Product"),m(),p(3,"form",1),$("ngSubmit",function(){return i.onSubmit()}),p(4,"div",2)(5,"label",3),y(6,"Product Image (Optional)"),m(),G(7,kP,4,1,"div",4)(8,FP,9,0,"div",5),m(),p(9,"div",6)(10,"label",7),y(11,"Product Name"),m(),p(12,"input",8),re("ngModelChange",function(s){return ie(i.product.name,s)||(i.product.name=s),s}),m()(),p(13,"div",6)(14,"label",9),y(15,"Category"),m(),p(16,"select",10),re("ngModelChange",function(s){return ie(i.product.category,s)||(i.product.category=s),s}),p(17,"option",11),y(18,"-- Select Category --"),m(),p(19,"option",12),y(20,"Lechon"),m(),p(21,"option",13),y(22,"Hollow blocks"),m(),p(23,"option",14),y(24,"Sand and Gravel"),m(),p(25,"option",15),y(26,"Copra"),m(),p(27,"option",16),y(28,"Others"),m()()(),p(29,"div",17)(30,"div",6)(31,"label",18),y(32,"Price"),m(),p(33,"input",19),re("ngModelChange",function(s){return ie(i.product.price,s)||(i.product.price=s),s}),m()(),p(34,"div",6)(35,"label",20),y(36,"Quantity"),m(),p(37,"input",21),re("ngModelChange",function(s){return ie(i.product.quantity,s)||(i.product.quantity=s),s}),m()()(),p(38,"button",22)(39,"span"),y(40,"\u2795"),m(),y(41," Add Product "),m()()()),r&2&&(_(7),R("ngIf",i.imagePreview),_(),R("ngIf",!i.imagePreview),_(4),ne("ngModel",i.product.name),_(4),ne("ngModel",i.product.category),_(17),ne("ngModel",i.product.price),_(4),ne("ngModel",i.product.quantity),_(),R("disabled",!i.isValid()))},dependencies:[$e,st,yt,en,xr,Tr,mt,Kn,xn,gt,Zt,zt,Qn,dt,$t],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin-top:var(--space-lg)}.image-upload-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.image-upload-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.image-preview-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;margin:0 auto}.image-preview[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:var(--radius-lg);border:2px solid var(--color-border)}.remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:var(--space-sm);right:var(--space-sm);width:32px;height:32px;padding:0;background:var(--color-danger);color:#fff;border:none;border-radius:50%;font-size:1.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-md)}.remove-image-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:scale(1.1)}.image-upload-area[_ngcontent-%COMP%]{width:100%}.file-input[_ngcontent-%COMP%]{display:none}.file-input-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-2xl);border:2px dashed var(--color-border);border-radius:var(--radius-lg);background:var(--color-bg);cursor:pointer;transition:all var(--transition-base)}.file-input-label[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);background:#1e40af0d}.upload-icon[_ngcontent-%COMP%]{font-size:3rem}.upload-text[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text)}.upload-hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-lg)}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:var(--space-md) var(--space-lg);font-size:1rem;margin-top:var(--space-sm)}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return n})();var dl=(()=>{class n{constructor(t){this.http=t,this.apiUrl=Mr.apiUrl,this.customersSubject=new Ct([]),this.customers$=this.customersSubject.asObservable(),this.loadInitialData()}loadInitialData(){this.fetchCustomers()}fetchCustomers(){this.http.get(`${this.apiUrl}/customers`).subscribe({next:t=>this.customersSubject.next(t),error:t=>console.error("Error fetching customers:",t)})}getCustomers(){return this.customers$}addCustomer(t){this.http.post(`${this.apiUrl}/customers`,t).subscribe({next:r=>{let i=this.customersSubject.value;this.customersSubject.next([...i,r])},error:r=>console.error("Error adding customer:",r)})}updateCustomer(t,r){this.http.put(`${this.apiUrl}/customers/${t}`,r).subscribe({next:()=>{let o=this.customersSubject.value.map(s=>s.id===t?X(X({},s),r):s);this.customersSubject.next(o)},error:i=>console.error("Error updating customer:",i)})}deleteCustomer(t){this.http.delete(`${this.apiUrl}/customers/${t}`).subscribe({next:()=>{let i=this.customersSubject.value.filter(o=>o.id!==t);this.customersSubject.next(i)},error:r=>console.error("Error deleting customer:",r)})}getCustomerById(t){return this.customersSubject.value.find(r=>r.id===t)}static{this.\u0275fac=function(r){return new(r||n)(ae(fi))}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VP(n,e){if(n&1&&(p(0,"option",35),y(1),m()),n&2){let t=e.$implicit;R("value",t.id),_(),zn(" ",t.name," - ",t.phoneNumber," ")}}function LP(n,e){if(n&1&&(p(0,"div",36)(1,"div",37),y(2,"\u{1F4CB} Customer Information"),m(),p(3,"div",38)(4,"span",39),y(5,"Name:"),m(),p(6,"span",40),y(7),m()(),p(8,"div",38)(9,"span",39),y(10,"Phone:"),m(),p(11,"span",40),y(12),m()(),p(13,"div",38)(14,"span",39),y(15,"Address:"),m(),p(16,"span",40),y(17),m()()()),n&2){let t=F();_(7),K(t.selectedCustomer.name),_(5),K(t.selectedCustomer.phoneNumber),_(5),K(t.selectedCustomer.deliveryAddress)}}function jP(n,e){if(n&1&&(p(0,"option",35),y(1),m()),n&2){let t=e.$implicit;R("value",t.id),_(),qh(" ",t.name," - $",t.price.toFixed(2)," (Stock: ",t.quantity,") ")}}function BP(n,e){if(n&1&&(p(0,"div",42)(1,"span",43),y(2,"Discount:"),m(),p(3,"span",49),y(4),m()()),n&2){let t=F(2);_(4),J("- $",(t.subtotal-t.total).toFixed(2),"")}}function UP(n,e){if(n&1&&(p(0,"span"),y(1),m()),n&2){let t=F(3);_(),J(" at ",t.deliveryTime,"")}}function $P(n,e){if(n&1&&(p(0,"div",50)(1,"span",43),y(2,"\u{1F4C5} Delivery:"),m(),p(3,"span",44),y(4),Me(5,"date"),G(6,UP,2,1,"span",51),m()()),n&2){let t=F(2);_(4),J(" ",Oe(5,2,t.deliveryDate,"mediumDate")," "),_(2),R("ngIf",t.deliveryTime)}}function zP(n,e){if(n&1&&(p(0,"div",41)(1,"div",42)(2,"span",43),y(3,"Subtotal:"),m(),p(4,"span",44),y(5),m()(),G(6,BP,5,1,"div",45),p(7,"div",46)(8,"span",43),y(9,"Total:"),m(),p(10,"span",44),y(11),m()(),p(12,"div",47)(13,"span",43),y(14,"Change:"),m(),p(15,"span",44),y(16),m()(),G(17,$P,7,5,"div",48),m()),n&2){let t=F();_(5),J("$",t.subtotal.toFixed(2),""),_(),R("ngIf",t.discount>0),_(5),J("$",t.total.toFixed(2),""),_(),Ae("negative",t.change<0),_(4),J("$",t.change.toFixed(2),""),_(),R("ngIf",t.deliveryDate)}}function HP(n,e){if(n&1&&(p(0,"div",52),y(1),m()),n&2){let t=F();_(),J("\u26A0\uFE0F ",t.errorMessage,"")}}function qP(n,e){if(n&1&&(p(0,"div",67)(1,"div",68),y(2,"\u{1F464} Customer Details"),m(),p(3,"div",69)(4,"span",70),y(5,"Name:"),m(),p(6,"span",71),y(7),m()(),p(8,"div",69)(9,"span",70),y(10,"Phone:"),m(),p(11,"span",71),y(12),m()(),p(13,"div",69)(14,"span",70),y(15,"Address:"),m(),p(16,"span",71),y(17),m()()()),n&2){let t=e.ngIf;_(7),K(t.name),_(5),K(t.phoneNumber),_(5),K(t.deliveryAddress)}}function GP(n,e){if(n&1&&(p(0,"span"),y(1),m()),n&2){let t=F(2).$implicit;_(),J("\u{1F4DD} ",t.deliveryNotes,"")}}function WP(n,e){if(n&1&&(p(0,"div",72)(1,"span"),y(2),Me(3,"date"),m(),p(4,"span"),y(5),Me(6,"date"),m(),G(7,GP,2,1,"span",51),m()),n&2){let t=F().$implicit;_(2),J("\u{1F4C5} Due: ",Oe(3,3,t.deliveryDate,"mediumDate"),""),_(3),J("\u{1F4C5} Time: ",Oe(6,6,t.deliveryDate,"shortTime"),""),_(2),R("ngIf",t.deliveryNotes)}}function KP(n,e){if(n&1){let t=ve();p(0,"div",56)(1,"div",57)(2,"div",58)(3,"span",59),y(4),m(),p(5,"span",60),y(6),Me(7,"date"),m()(),p(8,"div",61)(9,"span"),y(10),m(),p(11,"span"),y(12),m()(),G(13,qP,18,3,"div",62)(14,WP,8,9,"div",63),m(),p(15,"div",64)(16,"button",65),$("click",function(){let i=j(t).$implicit,o=F(2);return B(o.openEditModal(i))}),y(17,"\u270F\uFE0F Edit"),m(),p(18,"button",66),$("click",function(){let i=j(t).$implicit,o=F(2);return B(o.markAsDelivered(i.id))}),y(19," \u2705 Mark Delivered "),m()()()}if(n&2){let t=e.$implicit,r=F(2);_(4),K(t.productName),_(2),K(Oe(7,6,t.timestamp,"short")),_(4),J("Qty: ",t.quantitySold,""),_(2),J("Total: $",t.total.toFixed(2),""),_(),R("ngIf",r.getCustomerById(t.customerId)),_(),R("ngIf",t.deliveryDate)}}function QP(n,e){if(n&1&&(p(0,"div",53)(1,"h3"),y(2,"\u{1F69A} Pending Deliveries"),m(),p(3,"div",54),G(4,KP,20,9,"div",55),m()()),n&2){let t=F();_(4),R("ngForOf",t.pendingSales)}}function YP(n,e){if(n&1){let t=ve();p(0,"div",73),$("click",function(){j(t);let i=F();return B(i.closeEditModal())}),p(1,"div",74),$("click",function(i){return j(t),B(i.stopPropagation())}),p(2,"div",75)(3,"h3"),y(4,"Edit Delivery Details"),m(),p(5,"button",76),$("click",function(){j(t);let i=F();return B(i.closeEditModal())}),y(6,"\xD7"),m()(),p(7,"div",77)(8,"div",2)(9,"label",78),y(10,"Delivery Date"),m(),p(11,"input",79),re("ngModelChange",function(i){j(t);let o=F();return ie(o.editDeliveryDate,i)||(o.editDeliveryDate=i),B(i)}),m()(),p(12,"div",2)(13,"label",80),y(14,"Delivery Time"),m(),p(15,"input",81),re("ngModelChange",function(i){j(t);let o=F();return ie(o.editDeliveryTime,i)||(o.editDeliveryTime=i),B(i)}),m()(),p(16,"div",2)(17,"label",82),y(18,"Notes"),m(),p(19,"textarea",83),re("ngModelChange",function(i){j(t);let o=F();return ie(o.editDeliveryNotes,i)||(o.editDeliveryNotes=i),B(i)}),m()()(),p(20,"div",84)(21,"button",85),$("click",function(){j(t);let i=F();return B(i.closeEditModal())}),y(22,"Cancel"),m(),p(23,"button",86),$("click",function(){j(t);let i=F();return B(i.saveEdit())}),y(24,"Save Changes"),m()()()()}if(n&2){let t=F();_(11),ne("ngModel",t.editDeliveryDate),R("min",t.minDate),_(4),ne("ngModel",t.editDeliveryTime),_(4),ne("ngModel",t.editDeliveryNotes)}}var Hw=(()=>{class n{constructor(t,r){this.inventoryService=t,this.customerService=r,this.products=[],this.customers=[],this.pendingSales=[],this.selectedProductId="",this.selectedCustomerId="",this.quantity=1,this.cashReceived=0,this.discount=0,this.discountType="amount",this.errorMessage="",this.deliveryDate="",this.deliveryTime="",this.deliveryNotes="",this.minDate="",this.isEditModalOpen=!1,this.editingSale=null,this.editDeliveryDate="",this.editDeliveryTime="",this.editDeliveryNotes="";let i=new Date;this.minDate=i.toISOString().split("T")[0],this.deliveryDate=this.minDate}ngOnInit(){this.inventoryService.getProducts().subscribe(t=>{this.products=t.filter(r=>r.quantity>0)}),this.customerService.getCustomers().subscribe(t=>{this.customers=t}),this.inventoryService.getSales().subscribe(t=>{this.pendingSales=t.filter(r=>r.pending===!0),this.startAlarmChecks()}),this.discount=0}startAlarmChecks(){setInterval(()=>this.checkPendingDeliveryAlarms(),60*60*1e3),this.checkPendingDeliveryAlarms()}checkPendingDeliveryAlarms(){let t=new Date;this.pendingSales.forEach(r=>{if(!r.deliveryDate)return;let o=new Date(r.deliveryDate).getTime()-t.getTime(),s=Math.floor(o/(1e3*60*60*24));(s===1||s===2)&&this.triggerAlarm(r,s)})}triggerAlarm(t,r){let o=new Date(t.deliveryDate).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),s=`\u26A0\uFE0F Delivery for "${t.productName}" is due in ${r} day(s) (${o}).`;this.playBeep(),alert(s)}playBeep(){try{let t=new(window.AudioContext||window.webkitAudioContext),r=t.createOscillator(),i=t.createGain();r.type="square",r.frequency.setValueAtTime(1e3,t.currentTime),i.gain.setValueAtTime(.5,t.currentTime),r.connect(i),i.connect(t.destination),r.start(),r.stop(t.currentTime+2)}catch(t){console.error("Audio alarm failed",t)}}get selectedProduct(){return this.products.find(t=>t.id===this.selectedProductId)}get selectedCustomer(){return this.customers.find(t=>t.id===this.selectedCustomerId)}getCustomerById(t){if(t)return this.customers.find(r=>r.id===t)}get subtotal(){return this.selectedProduct?this.selectedProduct.price*this.quantity:0}get total(){let t=this.subtotal;return this.discount>0&&(this.discountType==="percent"?t=t-t*(this.discount/100):t=t-this.discount),Math.max(0,Math.round(t*100)/100)}get change(){return this.cashReceived-this.total}get maxQuantity(){return this.selectedProduct?.quantity||0}onProductChange(){this.quantity=1,this.errorMessage="",this.discount=0}processSale(){if(this.errorMessage="",!this.selectedProductId){this.errorMessage="Please select a product";return}if(this.quantity<1||this.quantity>this.maxQuantity){this.errorMessage=`Quantity must be between 1 and ${this.maxQuantity}`;return}if(this.cashReceived<this.total){this.errorMessage="Insufficient cash received";return}try{let t;this.deliveryDate&&(this.deliveryTime?t=new Date(`${this.deliveryDate}T${this.deliveryTime}`):t=new Date(this.deliveryDate)),this.inventoryService.recordSale(this.selectedProductId,this.quantity,this.cashReceived,t,this.deliveryNotes||void 0,this.selectedCustomerId||void 0,this.discount,this.discountType),this.selectedProductId="",this.quantity=1,this.cashReceived=0,this.discount=0,this.discountType="amount",this.deliveryDate=this.minDate,this.deliveryTime="",this.deliveryNotes=""}catch(t){this.errorMessage=t.message||"Error processing sale"}}isValid(){return!!(this.selectedProductId&&this.quantity>=1&&this.quantity<=this.maxQuantity&&this.cashReceived>=this.total)}markAsDelivered(t){confirm("Are you sure you want to mark this item as delivered?")&&this.inventoryService.completePendingSale(t)}openEditModal(t){if(this.editingSale=t,this.isEditModalOpen=!0,t.deliveryDate){let r=new Date(t.deliveryDate);this.editDeliveryDate=r.toISOString().split("T")[0],this.editDeliveryTime=r.toTimeString().substring(0,5)}else this.editDeliveryDate="",this.editDeliveryTime="";this.editDeliveryNotes=t.deliveryNotes||""}closeEditModal(){this.isEditModalOpen=!1,this.editingSale=null,this.editDeliveryDate="",this.editDeliveryTime="",this.editDeliveryNotes=""}saveEdit(){if(!this.editingSale)return;let t;this.editDeliveryDate&&(this.editDeliveryTime?t=new Date(`${this.editDeliveryDate}T${this.editDeliveryTime}`):t=new Date(this.editDeliveryDate));let r=Ie(X({},this.editingSale),{deliveryDate:t,deliveryNotes:this.editDeliveryNotes});this.inventoryService.updateSale(r),this.closeEditModal()}static{this.\u0275fac=function(r){return new(r||n)(Q(tn),Q(dl))}}static{this.\u0275cmp=He({type:n,selectors:[["app-pos-calculator"]],standalone:!0,features:[We],decls:69,vars:21,consts:[[1,"card"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","customer"],["id","customer","name","customer",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","customer-info-display",4,"ngIf"],["for","product"],["id","product","name","product","required","",3,"ngModelChange","change","ngModel"],[1,"form-row"],["for","quantity"],["type","number","id","quantity","name","quantity","placeholder","1","required","",3,"ngModelChange","ngModel","min","max"],["for","cash"],["type","number","id","cash","name","cash","min","0","step","0.01","placeholder","0.00","required","",3,"ngModelChange","ngModel"],[1,"radio-group"],[1,"radio-label"],["type","radio","name","discountType","value","amount",3,"ngModelChange","ngModel"],["type","radio","name","discountType","value","percent",3,"ngModelChange","ngModel"],["for","discount"],["type","number","id","discount","name","discount","min","0","placeholder","0",3,"ngModelChange","ngModel"],[1,"delivery-section"],[1,"section-title"],[1,"section-icon"],["for","deliveryDate"],["type","date","id","deliveryDate","name","deliveryDate",1,"date-input",3,"ngModelChange","ngModel","min"],["for","deliveryTime"],["type","time","id","deliveryTime","name","deliveryTime",1,"time-input",3,"ngModelChange","ngModel"],["for","deliveryNotes"],["id","deliveryNotes","name","deliveryNotes","placeholder","Special instructions, address, contact info...","rows","3",1,"textarea-input",3,"ngModelChange","ngModel"],["class","transaction-summary",4,"ngIf"],["class","error-message",4,"ngIf"],["type","submit",1,"btn-primary","btn-success",3,"disabled"],["class","card pending-deliveries",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"customer-info-display"],[1,"info-header"],[1,"info-row"],[1,"info-label"],[1,"info-value"],[1,"transaction-summary"],[1,"summary-row"],[1,"label"],[1,"value"],["class","summary-row",4,"ngIf"],[1,"summary-row","total-row"],[1,"summary-row","change-row"],["class","summary-row delivery-info",4,"ngIf"],[1,"value","discount-value"],[1,"summary-row","delivery-info"],[4,"ngIf"],[1,"error-message"],[1,"card","pending-deliveries"],[1,"pending-list"],["class","pending-item",4,"ngFor","ngForOf"],[1,"pending-item"],[1,"pending-details"],[1,"pending-header"],[1,"product-name"],[1,"sale-date"],[1,"pending-info"],["class","customer-details",4,"ngIf"],["class","delivery-info",4,"ngIf"],[1,"pending-actions"],[1,"btn-edit",3,"click"],[1,"btn-deliver",3,"click"],[1,"customer-details"],[1,"customer-header"],[1,"customer-row"],[1,"customer-label"],[1,"customer-value"],[1,"delivery-info"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],["for","editDate"],["type","date","id","editDate",1,"date-input",3,"ngModelChange","ngModel","min"],["for","editTime"],["type","time","id","editTime",1,"time-input",3,"ngModelChange","ngModel"],["for","editNotes"],["id","editNotes","rows","3",1,"textarea-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"h3"),y(2,"Point of Sale"),m(),p(3,"form",1),$("ngSubmit",function(){return i.processSale()}),p(4,"div",2)(5,"label",3),y(6,"Select Customer (Optional)"),m(),p(7,"select",4),re("ngModelChange",function(s){return ie(i.selectedCustomerId,s)||(i.selectedCustomerId=s),s}),p(8,"option",5),y(9,"-- Walk-in Customer --"),m(),G(10,VP,2,3,"option",6),m()(),G(11,LP,18,3,"div",7),p(12,"div",2)(13,"label",8),y(14,"Select Product"),m(),p(15,"select",9),re("ngModelChange",function(s){return ie(i.selectedProductId,s)||(i.selectedProductId=s),s}),$("change",function(){return i.onProductChange()}),p(16,"option",5),y(17,"-- Choose a product --"),m(),G(18,jP,2,4,"option",6),m()(),p(19,"div",10)(20,"div",2)(21,"label",11),y(22,"Quantity"),m(),p(23,"input",12),re("ngModelChange",function(s){return ie(i.quantity,s)||(i.quantity=s),s}),m()(),p(24,"div",2)(25,"label",13),y(26,"Cash Received"),m(),p(27,"input",14),re("ngModelChange",function(s){return ie(i.cashReceived,s)||(i.cashReceived=s),s}),m()()(),p(28,"div",10)(29,"div",2)(30,"label"),y(31,"Discount Type"),m(),p(32,"div",15)(33,"label",16)(34,"input",17),re("ngModelChange",function(s){return ie(i.discountType,s)||(i.discountType=s),s}),m(),y(35," Amount ($) "),m(),p(36,"label",16)(37,"input",18),re("ngModelChange",function(s){return ie(i.discountType,s)||(i.discountType=s),s}),m(),y(38," Percent (%) "),m()()(),p(39,"div",2)(40,"label",19),y(41,"Discount Value"),m(),p(42,"input",20),re("ngModelChange",function(s){return ie(i.discount,s)||(i.discount=s),s}),m()()(),p(43,"div",21)(44,"h4",22)(45,"span",23),y(46,"\u{1F69A}"),m(),y(47," Delivery Schedule (Optional) "),m(),p(48,"div",10)(49,"div",2)(50,"label",24),y(51,"Delivery Date"),m(),p(52,"input",25),re("ngModelChange",function(s){return ie(i.deliveryDate,s)||(i.deliveryDate=s),s}),m()(),p(53,"div",2)(54,"label",26),y(55,"Delivery Time"),m(),p(56,"input",27),re("ngModelChange",function(s){return ie(i.deliveryTime,s)||(i.deliveryTime=s),s}),m()()(),p(57,"div",2)(58,"label",28),y(59,"Delivery Notes"),m(),p(60,"textarea",29),re("ngModelChange",function(s){return ie(i.deliveryNotes,s)||(i.deliveryNotes=s),s}),m()()(),G(61,zP,18,7,"div",30)(62,HP,2,1,"div",31),p(63,"button",32)(64,"span"),y(65,"\u{1F4B0}"),m(),y(66," Complete Sale "),m()()(),G(67,QP,5,1,"div",33)(68,YP,25,4,"div",34)),r&2&&(_(7),ne("ngModel",i.selectedCustomerId),_(3),R("ngForOf",i.customers),_(),R("ngIf",i.selectedCustomerId&&i.selectedCustomer),_(4),ne("ngModel",i.selectedProductId),_(3),R("ngForOf",i.products),_(5),ne("ngModel",i.quantity),R("min",1)("max",i.maxQuantity),_(4),ne("ngModel",i.cashReceived),_(7),ne("ngModel",i.discountType),_(3),ne("ngModel",i.discountType),_(5),ne("ngModel",i.discount),_(10),ne("ngModel",i.deliveryDate),R("min",i.minDate),_(4),ne("ngModel",i.deliveryTime),_(4),ne("ngModel",i.deliveryNotes),_(),R("ngIf",i.selectedProduct),_(),R("ngIf",i.errorMessage),_(),R("disabled",!i.isValid()),_(4),R("ngIf",i.pendingSales.length>0),_(),R("ngIf",i.isEditModalOpen))},dependencies:[$e,pt,st,Ir,yt,en,xr,Tr,mt,Kn,xn,vf,gt,Zt,zt,Qn,wf,dt,$t],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin-top:var(--space-lg)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-lg)}.delivery-section[_ngcontent-%COMP%]{background:var(--color-bg);padding:var(--space-lg);border-radius:var(--radius-lg);border:2px dashed var(--color-border);margin-top:var(--space-md)}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:1rem;font-weight:600;color:var(--color-text);margin-bottom:var(--space-lg)}.section-icon[_ngcontent-%COMP%]{font-size:1.25rem}.date-input[_ngcontent-%COMP%], .time-input[_ngcontent-%COMP%]{cursor:pointer}.textarea-input[_ngcontent-%COMP%]{font-family:inherit;font-size:.9375rem;padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);transition:all var(--transition-base);width:100%;resize:vertical;min-height:80px}.textarea-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.textarea-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-muted)}.customer-info-display[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#9333ea1a);border:2px solid var(--color-primary);border-radius:var(--radius-lg);padding:var(--space-lg);margin-bottom:var(--space-lg)}.info-header[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--color-primary);margin-bottom:var(--space-md);display:flex;align-items:center;gap:var(--space-sm)}.info-row[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);padding:var(--space-xs) 0;font-size:.875rem}.info-label[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text-muted);min-width:120px}.info-value[_ngcontent-%COMP%]{color:var(--color-text);flex:1}.transaction-summary[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:var(--radius-md);padding:var(--space-lg);margin-top:var(--space-md)}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-sm) 0;font-size:1.125rem}.summary-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text-muted)}.summary-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text);font-size:1.25rem}.change-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--color-success)}.change-row.negative[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--color-danger)}.delivery-info[_ngcontent-%COMP%]{border-top:1px solid var(--color-border);margin-top:var(--space-sm);padding-top:var(--space-md)}.delivery-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-primary)}.error-message[_ngcontent-%COMP%]{background:#fee;color:var(--color-danger);padding:var(--space-md);border-radius:var(--radius-md);font-size:.875rem;border:1px solid rgba(239,68,68,.2)}.btn-success[_ngcontent-%COMP%]{background:var(--color-success)}.btn-success[_ngcontent-%COMP%]:hover{background:#059669}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.pending-deliveries[_ngcontent-%COMP%]{margin-top:var(--space-xl);border-top:4px solid var(--color-warning)}.pending-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md);margin-top:var(--space-lg)}.pending-item[_ngcontent-%COMP%]{background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-md);padding:var(--space-md);display:flex;justify-content:space-between;align-items:center;gap:var(--space-md)}.pending-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:var(--space-xs)}.pending-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-xs)}.product-name[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.sale-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.pending-info[_ngcontent-%COMP%]{display:flex;gap:var(--space-lg);font-size:.875rem;color:var(--color-text-muted)}.delivery-info[_ngcontent-%COMP%]{margin-top:var(--space-xs);padding-top:var(--space-xs);border-top:1px dashed var(--color-border);font-size:.875rem;color:var(--color-primary);display:flex;flex-direction:column;gap:2px}.btn-deliver[_ngcontent-%COMP%]{background:var(--color-success);color:#fff;border:none;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);font-weight:500;cursor:pointer;transition:all var(--transition-base);white-space:nowrap}.btn-deliver[_ngcontent-%COMP%]:hover{background:#059669;transform:translateY(-1px)}@media (max-width: 640px){.pending-item[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.btn-deliver[_ngcontent-%COMP%]{width:100%}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{background-color:var(--color-surface);padding:2rem;border-radius:12px;width:90%;max-width:500px;box-shadow:0 10px 25px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-out;color:var(--color-text)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;border-bottom:1px solid var(--color-border);padding-bottom:1rem}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--color-text)}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--color-text-muted)}.modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.modal-footer[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:flex-end;gap:1rem;padding-top:1rem;border-top:1px solid var(--color-border)}.btn-cancel[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--color-border);background-color:var(--color-surface);color:var(--color-text);border-radius:6px;cursor:pointer;font-weight:500;transition:background-color .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:var(--color-bg)}.btn-save[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#4caf50;color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:500}.btn-save[_ngcontent-%COMP%]:hover{background-color:#45a049}.pending-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-left:1rem}.btn-edit[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#2196f3;color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:background-color .2s}.btn-edit[_ngcontent-%COMP%]:hover{background-color:#1976d2}.customer-details[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;background:linear-gradient(135deg,#8b5cf61a,#6366f11a);border-left:3px solid #8b5cf6;border-radius:6px}.customer-header[_ngcontent-%COMP%]{font-weight:600;color:#8b5cf6;margin-bottom:.5rem;font-size:.95rem}.customer-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.25rem;font-size:.9rem}.customer-label[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text-muted);min-width:60px}.customer-value[_ngcontent-%COMP%]{color:var(--color-text);font-weight:400}.radio-group[_ngcontent-%COMP%]{display:flex;background:var(--color-bg);padding:4px;border-radius:8px;border:1px solid var(--color-border);gap:4px}.radio-label[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:8px 12px;cursor:pointer;font-size:.9rem;font-weight:500;color:var(--color-text-muted);border-radius:6px;transition:all .2s ease;text-align:center;-webkit-user-select:none;user-select:none}.radio-label[_ngcontent-%COMP%]:hover{background:var(--color-surface);color:var(--color-text)}.radio-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.radio-label[_ngcontent-%COMP%]:has(input:checked){background:var(--color-primary);color:#fff;box-shadow:0 2px 4px #0000001a}.discount-value[_ngcontent-%COMP%]{color:var(--color-danger);font-weight:600}.total-row[_ngcontent-%COMP%]{border-top:1px solid var(--color-border);margin-top:var(--space-sm);padding-top:var(--space-md)}"]})}}return n})();function JP(n,e){if(n&1&&(p(0,"div",32)(1,"div",33),y(2),m(),p(3,"div",34),Ne(4,"div",35),m(),p(5,"div",36),y(6),m()()),n&2){let t=e.$implicit,r=F();_(2),K(t.category),_(2),Un("width",t.total/r.totalSalesValue*100,"%"),R("title","$"+t.total.toFixed(2)),_(2),zn("$",t.total.toFixed(2)," (",t.count,")")}}function XP(n,e){n&1&&(p(0,"div",37),y(1," No sales data yet "),m())}function ZP(n,e){if(n&1&&(p(0,"div",50),Ne(1,"img",51),m()),n&2){let t=F().$implicit;_(),R("src",t.imageUrl,ps)("alt",t.name)}}function eN(n,e){n&1&&(p(0,"div",52)(1,"span",53),y(2,"\u{1F4E6}"),m()())}function tN(n,e){if(n&1){let t=ve();p(0,"div",40),G(1,ZP,2,2,"div",41)(2,eN,3,0,"div",42),p(3,"div",43)(4,"div",44),y(5),m(),p(6,"div",45),y(7),m()(),p(8,"div",46)(9,"div",47),y(10),m(),p(11,"div",48),y(12),m(),p(13,"button",49),$("click",function(){let i=j(t).$implicit,o=F(2);return B(o.openEditModal(i))}),y(14," \u270F\uFE0F Edit "),m()()()}if(n&2){let t=e.$implicit;_(),R("ngIf",t.imageUrl),_(),R("ngIf",!t.imageUrl),_(3),K(t.name),_(2),K(t.category),_(3),J("$",t.price.toFixed(2),""),_(2),J("Stock: ",t.quantity,"")}}function nN(n,e){if(n&1&&(p(0,"div",38),G(1,tN,15,6,"div",39),m()),n&2){let t=F();_(),R("ngForOf",t.paginatedAvailableProducts)}}function rN(n,e){if(n&1&&(p(0,"option",59),y(1),m()),n&2){let t=e.$implicit;R("value",t),_(),K(t)}}function iN(n,e){if(n&1){let t=ve();p(0,"button",64),$("click",function(){let i=j(t).$implicit,o=F(3);return B(o.goToAvailablePage(i))}),y(1),m()}if(n&2){let t=e.$implicit,r=F(3);Ae("active",t===r.availableProductsPage),_(),J(" ",t," ")}}function oN(n,e){if(n&1){let t=ve();p(0,"div",60)(1,"button",61),$("click",function(){j(t);let i=F(2);return B(i.prevAvailablePage())}),y(2," \u2190 Prev "),m(),p(3,"div",62),G(4,iN,2,3,"button",63),m(),p(5,"button",61),$("click",function(){j(t);let i=F(2);return B(i.nextAvailablePage())}),y(6," Next \u2192 "),m()()}if(n&2){let t=F(2);_(),R("disabled",t.availableProductsPage===1),_(3),R("ngForOf",t.getPageNumbers(t.availableProductsTotalPages)),_(),R("disabled",t.availableProductsPage===t.availableProductsTotalPages)}}function sN(n,e){if(n&1){let t=ve();p(0,"div",54)(1,"div",55)(2,"label",56),y(3,"Show:"),m(),p(4,"select",57),re("ngModelChange",function(i){j(t);let o=F();return ie(o.availableProductsPageSize,i)||(o.availableProductsPageSize=i),B(i)}),$("change",function(){j(t);let i=F();return B(i.onAvailablePageSizeChange())}),G(5,rN,2,2,"option",28),m(),p(6,"span"),y(7,"per page"),m()(),G(8,oN,7,3,"div",58),m()}if(n&2){let t=F();_(4),ne("ngModel",t.availableProductsPageSize),_(),R("ngForOf",t.pageSizeOptions),_(3),R("ngIf",t.availableProductsTotalPages>1)}}function aN(n,e){n&1&&(p(0,"div",65)(1,"p"),y(2,"No available products"),m()())}function cN(n,e){if(n&1&&(p(0,"div",70)(1,"div",71)(2,"div",72),y(3),m(),p(4,"div",73),y(5),m(),p(6,"div",74),y(7," Pending Delivery "),m()(),p(8,"div",75)(9,"div",76),y(10),m(),p(11,"div",77),y(12),Me(13,"date"),m()()()),n&2){let t=e.$implicit;_(3),K(t.productName),_(2),zn(" ",t.quantitySold," \xD7 $",t.price.toFixed(2)," "),_(5),J("$",t.total.toFixed(2),""),_(2),K(Oe(13,5,t.timestamp,"medium"))}}function lN(n,e){if(n&1&&(p(0,"div",66)(1,"h3")(2,"span",5),y(3,"\u{1F69A}"),m(),y(4," Pending Deliveries "),p(5,"span",67),y(6),m()(),p(7,"div",68),G(8,cN,14,8,"div",69),m()()),n&2){let t=F();_(6),K(t.pendingSales.length),_(2),R("ngForOf",t.pendingSales)}}function uN(n,e){if(n&1&&(p(0,"option",59),y(1),m()),n&2){let t=e.$implicit;R("value",t),_(),K(t)}}function dN(n,e){if(n&1&&(p(0,"div",79),y(1),Me(2,"date"),m()),n&2){let t=F().$implicit;_(),J(" \u{1F69A} ",Oe(2,1,t.deliveryDate,"MMM d, y")," ")}}function hN(n,e){if(n&1&&(p(0,"div",70)(1,"div",71)(2,"div",72),y(3),m(),p(4,"div",73),y(5),m(),G(6,dN,3,4,"div",78),m(),p(7,"div",75)(8,"div",76),y(9),m(),p(10,"div",77),y(11),Me(12,"date"),m()()()),n&2){let t=e.$implicit;_(3),K(t.productName),_(2),zn(" ",t.quantitySold," \xD7 $",t.price.toFixed(2)," "),_(),R("ngIf",t.deliveryDate),_(3),J("$",t.total.toFixed(2),""),_(2),K(Oe(12,6,t.timestamp,"short"))}}function fN(n,e){if(n&1&&(p(0,"div",68),G(1,hN,13,9,"div",69),m()),n&2){let t=F();_(),R("ngForOf",t.paginatedSales)}}function pN(n,e){if(n&1&&(p(0,"option",59),y(1),m()),n&2){let t=e.$implicit;R("value",t),_(),K(t)}}function mN(n,e){if(n&1){let t=ve();p(0,"button",64),$("click",function(){let i=j(t).$implicit,o=F(3);return B(o.goToSalesPage(i))}),y(1),m()}if(n&2){let t=e.$implicit,r=F(3);Ae("active",t===r.salesPage),_(),J(" ",t," ")}}function gN(n,e){if(n&1){let t=ve();p(0,"div",60)(1,"button",61),$("click",function(){j(t);let i=F(2);return B(i.prevSalesPage())}),y(2," \u2190 Prev "),m(),p(3,"div",62),G(4,mN,2,3,"button",63),m(),p(5,"button",61),$("click",function(){j(t);let i=F(2);return B(i.nextSalesPage())}),y(6," Next \u2192 "),m()()}if(n&2){let t=F(2);_(),R("disabled",t.salesPage===1),_(3),R("ngForOf",t.getPageNumbers(t.salesTotalPages)),_(),R("disabled",t.salesPage===t.salesTotalPages)}}function yN(n,e){if(n&1){let t=ve();p(0,"div",54)(1,"div",55)(2,"label",80),y(3,"Show:"),m(),p(4,"select",81),re("ngModelChange",function(i){j(t);let o=F();return ie(o.salesPageSize,i)||(o.salesPageSize=i),B(i)}),$("change",function(){j(t);let i=F();return B(i.onSalesPageSizeChange())}),G(5,pN,2,2,"option",28),m(),p(6,"span"),y(7,"per page"),m()(),G(8,gN,7,3,"div",58),m()}if(n&2){let t=F();_(4),ne("ngModel",t.salesPageSize),_(),R("ngForOf",t.pageSizeOptions),_(3),R("ngIf",t.salesTotalPages>1)}}function vN(n,e){n&1&&(p(0,"div",65)(1,"p"),y(2,"No sales yet"),m()())}function _N(n,e){if(n&1&&(p(0,"div",50),Ne(1,"img",51),m()),n&2){let t=F().$implicit;_(),R("src",t.imageUrl,ps)("alt",t.name)}}function wN(n,e){n&1&&(p(0,"div",52)(1,"span",53),y(2,"\u{1F4E6}"),m()())}function bN(n,e){if(n&1&&(p(0,"option",59),y(1),m()),n&2){let t=e.$implicit;R("value",t),_(),K(t)}}function EN(n,e){if(n&1){let t=ve();p(0,"button",64),$("click",function(){let i=j(t).$implicit,o=F(5);return B(o.goToOutOfStockPage(i))}),y(1),m()}if(n&2){let t=e.$implicit,r=F(5);Ae("active",t===r.outOfStockPage),_(),J(" ",t," ")}}function CN(n,e){if(n&1){let t=ve();p(0,"div",60)(1,"button",61),$("click",function(){j(t);let i=F(4);return B(i.prevOutOfStockPage())}),y(2," \u2190 Prev "),m(),p(3,"div",62),G(4,EN,2,3,"button",63),m(),p(5,"button",61),$("click",function(){j(t);let i=F(4);return B(i.nextOutOfStockPage())}),y(6," Next \u2192 "),m()()}if(n&2){let t=F(4);_(),R("disabled",t.outOfStockPage===1),_(3),R("ngForOf",t.getPageNumbers(t.outOfStockTotalPages)),_(),R("disabled",t.outOfStockPage===t.outOfStockTotalPages)}}function IN(n,e){if(n&1){let t=ve();p(0,"div",54)(1,"div",55)(2,"label",88),y(3,"Show:"),m(),p(4,"select",89),re("ngModelChange",function(i){j(t);let o=F(3);return ie(o.outOfStockPageSize,i)||(o.outOfStockPageSize=i),B(i)}),$("change",function(){j(t);let i=F(3);return B(i.onOutOfStockPageSizeChange())}),G(5,bN,2,2,"option",28),m(),p(6,"span"),y(7,"per page"),m()(),G(8,CN,7,3,"div",58),m()}if(n&2){let t=F(3);_(4),ne("ngModel",t.outOfStockPageSize),_(),R("ngForOf",t.pageSizeOptions),_(3),R("ngIf",t.outOfStockTotalPages>1)}}function DN(n,e){if(n&1){let t=ve();p(0,"div",84),G(1,_N,2,2,"div",41)(2,wN,3,0,"div",42),p(3,"div",43)(4,"div",44),y(5),p(6,"div")(7,"div",45),y(8),m()(),p(9,"div",46)(10,"div",47),y(11),m(),p(12,"div",85),y(13,"Out of Stock"),m(),p(14,"div",86)(15,"button",87),$("click",function(){let i=j(t).$implicit,o=F(2);return B(o.onRestock(i))}),y(16," \u2795 Restock "),m()()()()(),G(17,IN,9,3,"div",22),m()}if(n&2){let t=e.$implicit,r=F(2);_(),R("ngIf",t.imageUrl),_(),R("ngIf",!t.imageUrl),_(3),J(" ",t.name,""),_(3),K(t.category),_(3),J("$",t.price.toFixed(2),""),_(6),R("ngIf",r.outOfStockTotalPages>1||r.outOfStockProducts.length>10)}}function xN(n,e){if(n&1&&(p(0,"div",82)(1,"h3")(2,"span",5),y(3,"\u26A0\uFE0F"),m(),y(4," Out of Stock "),p(5,"span",67),y(6),m()(),p(7,"div",38),G(8,DN,18,6,"div",83),m()()),n&2){let t=F();_(6),K(t.outOfStockProducts.length),_(2),R("ngForOf",t.paginatedOutOfStockProducts)}}function TN(n,e){if(n&1){let t=ve();p(0,"div",90),$("click",function(){j(t);let i=F();return B(i.closeEditModal())}),p(1,"div",91),$("click",function(i){return j(t),B(i.stopPropagation())}),p(2,"div",92)(3,"h3"),y(4,"Edit Product"),m(),p(5,"button",93),$("click",function(){j(t);let i=F();return B(i.closeEditModal())}),y(6,"\xD7"),m()(),p(7,"div",94)(8,"div",95)(9,"label",96),y(10,"Product Name"),m(),p(11,"input",97),re("ngModelChange",function(i){j(t);let o=F();return ie(o.editProductName,i)||(o.editProductName=i),B(i)}),m()(),p(12,"div",95)(13,"label",98),y(14,"Stock Quantity"),m(),p(15,"input",99),re("ngModelChange",function(i){j(t);let o=F();return ie(o.editProductQuantity,i)||(o.editProductQuantity=i),B(i)}),m()(),p(16,"div",95)(17,"label",100),y(18,"Price"),m(),p(19,"input",101),re("ngModelChange",function(i){j(t);let o=F();return ie(o.editProductPrice,i)||(o.editProductPrice=i),B(i)}),m()()(),p(20,"div",102)(21,"button",103),$("click",function(){j(t);let i=F();return B(i.closeEditModal())}),y(22,"Cancel"),m(),p(23,"button",104),$("click",function(){j(t);let i=F();return B(i.saveProductEdit())}),y(24,"Save Changes"),m()()()()}if(n&2){let t=F();_(11),ne("ngModel",t.editProductName),_(4),ne("ngModel",t.editProductQuantity),_(4),ne("ngModel",t.editProductPrice)}}var qw=(()=>{class n{constructor(t){this.inventoryService=t,this.products=[],this.sales=[],this.selectedCategory="All",this.categories=["All","Lechon","Hollow blocks","Sand and Gravel","Copra","Others"],this.pageSizeOptions=[10,20,50,100],this.availableProductsPage=1,this.availableProductsPageSize=10,this.salesPage=1,this.salesPageSize=10,this.outOfStockPage=1,this.outOfStockPageSize=10,this.isEditModalOpen=!1,this.editingProduct=null,this.editProductName="",this.editProductQuantity=0,this.editProductPrice=0}ngOnInit(){this.inventoryService.getProducts().subscribe(t=>{this.products=t}),this.inventoryService.getSales().subscribe(t=>{this.sales=t})}get pendingSales(){return this.sales.filter(t=>t.pending===!0)}get filteredSales(){let t=this.sales.filter(r=>r.pending!==!0);return this.selectedCategory==="All"?t:t.filter(r=>r.category===this.selectedCategory)}get availableProducts(){return this.products.filter(t=>t.quantity>0)}get paginatedAvailableProducts(){let t=(this.availableProductsPage-1)*this.availableProductsPageSize,r=t+this.availableProductsPageSize;return this.availableProducts.slice(t,r)}get availableProductsTotalPages(){return Math.ceil(this.availableProducts.length/this.availableProductsPageSize)}get outOfStockProducts(){return this.products.filter(t=>t.quantity===0)}get paginatedOutOfStockProducts(){let t=(this.outOfStockPage-1)*this.outOfStockPageSize,r=t+this.outOfStockPageSize;return this.outOfStockProducts.slice(t,r)}get outOfStockTotalPages(){return Math.ceil(this.outOfStockProducts.length/this.outOfStockPageSize)}get paginatedSales(){let t=(this.salesPage-1)*this.salesPageSize,r=t+this.salesPageSize;return this.filteredSales.slice(t,r)}get salesTotalPages(){return Math.ceil(this.filteredSales.length/this.salesPageSize)}get salesByCategory(){let t=new Map;return this.sales.forEach(r=>{let i=t.get(r.category)||{total:0,count:0};t.set(r.category,{total:i.total+r.total,count:i.count+1})}),Array.from(t.entries()).map(([r,i])=>({category:r,total:i.total,count:i.count}))}get totalInventoryValue(){return this.products.reduce((t,r)=>t+r.price*r.quantity,0)}get totalSalesValue(){return this.sales.reduce((t,r)=>t+r.total,0)}nextAvailablePage(){this.availableProductsPage<this.availableProductsTotalPages&&this.availableProductsPage++}prevAvailablePage(){this.availableProductsPage>1&&this.availableProductsPage--}goToAvailablePage(t){t>=1&&t<=this.availableProductsTotalPages&&(this.availableProductsPage=t)}nextSalesPage(){this.salesPage<this.salesTotalPages&&this.salesPage++}prevSalesPage(){this.salesPage>1&&this.salesPage--}goToSalesPage(t){t>=1&&t<=this.salesTotalPages&&(this.salesPage=t)}nextOutOfStockPage(){this.outOfStockPage<this.outOfStockTotalPages&&this.outOfStockPage++}prevOutOfStockPage(){this.outOfStockPage>1&&this.outOfStockPage--}goToOutOfStockPage(t){this.outOfStockPage=t}onAvailablePageSizeChange(){this.availableProductsPage=1}onSalesPageSizeChange(){this.salesPage=1}onOutOfStockPageSizeChange(){this.outOfStockPage=1}getPageNumbers(t){return Array.from({length:t},(r,i)=>i+1)}onRestock(t){let r=prompt(`Enter quantity to add for ${t.name}:`);if(r){let i=parseInt(r,10);!isNaN(i)&&i>0?this.inventoryService.restockProduct(t.id,i):alert("Please enter a valid number greater than 0")}}openEditModal(t){this.editingProduct=t,this.editProductName=t.name,this.editProductQuantity=t.quantity,this.editProductPrice=t.price,this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editingProduct=null,this.editProductName="",this.editProductQuantity=0,this.editProductPrice=0}saveProductEdit(){if(!this.editingProduct)return;if(!this.editProductName.trim()){alert("Product name cannot be empty");return}if(this.editProductQuantity<0){alert("Quantity cannot be negative");return}if(this.editProductPrice<0){alert("Price cannot be negative");return}let t=Ie(X({},this.editingProduct),{name:this.editProductName,quantity:this.editProductQuantity,price:this.editProductPrice});this.inventoryService.updateProduct(t),this.closeEditModal()}static{this.\u0275fac=function(r){return new(r||n)(Q(tn))}}static{this.\u0275cmp=He({type:n,selectors:[["app-inventory-list"]],standalone:!0,features:[We],decls:63,vars:17,consts:[["noAvailable",""],["noSales",""],[1,"inventory-section"],[1,"inventory-content"],[1,"card","analytics-card"],[1,"icon"],[1,"analytics-grid"],[1,"chart-container"],[1,"bar-chart"],["class","bar-item",4,"ngFor","ngForOf"],["class","empty-chart",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"stat-card","success"],[1,"lists-container"],[1,"card"],[1,"badge"],["class","product-list",4,"ngIf","ngIfElse"],["class","pagination",4,"ngIf"],["class","card pending-section",4,"ngIf"],[1,"section-header"],[1,"filter-group"],["for","categoryFilter"],["id","categoryFilter",1,"category-filter",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","sales-list",4,"ngIf","ngIfElse"],["class","card out-of-stock-section",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"bar-item"],[1,"bar-label"],[1,"bar-wrapper"],[1,"bar-fill",3,"title"],[1,"bar-value"],[1,"empty-chart"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],["class","product-image-wrapper",4,"ngIf"],["class","product-image-wrapper placeholder",4,"ngIf"],[1,"product-info"],[1,"product-name"],[1,"product-category"],[1,"product-details"],[1,"product-price"],[1,"product-stock"],[1,"btn-edit-sm",3,"click"],[1,"product-image-wrapper"],["loading","lazy",1,"product-image",3,"src","alt"],[1,"product-image-wrapper","placeholder"],[1,"placeholder-icon"],[1,"pagination"],[1,"pagination-size"],["for","availablePageSize"],["id","availablePageSize",1,"page-size-select",3,"ngModelChange","change","ngModel"],["class","pagination-controls",4,"ngIf"],[3,"value"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-pages"],["class","pagination-page",3,"active","click",4,"ngFor","ngForOf"],[1,"pagination-page",3,"click"],[1,"empty-state"],[1,"card","pending-section"],[1,"badge","warning"],[1,"sales-list"],["class","sale-item",4,"ngFor","ngForOf"],[1,"sale-item"],[1,"sale-info"],[1,"sale-name"],[1,"sale-details-text"],[1,"delivery-badge","warning"],[1,"sale-amount"],[1,"sale-total"],[1,"sale-date"],["class","delivery-badge",4,"ngIf"],[1,"delivery-badge"],["for","salesPageSize"],["id","salesPageSize",1,"page-size-select",3,"ngModelChange","change","ngModel"],[1,"card","out-of-stock-section"],["class","product-item dimmed",4,"ngFor","ngForOf"],[1,"product-item","dimmed"],[1,"product-stock","out"],[1,"product-actions"],[1,"btn-restock",3,"click"],["for","outOfStockPageSize"],["id","outOfStockPageSize",1,"page-size-select",3,"ngModelChange","change","ngModel"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],["for","editName"],["type","text","id","editName",1,"text-input",3,"ngModelChange","ngModel"],["for","editQuantity"],["type","number","id","editQuantity","min","0",1,"number-input",3,"ngModelChange","ngModel"],["for","editPrice"],["type","number","id","editPrice","min","0","step","0.01",1,"number-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"]],template:function(r,i){if(r&1){let o=ve();p(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3")(4,"span",5),y(5,"\u{1F4C8}"),m(),y(6," Sales Analytics "),m(),p(7,"div",6)(8,"div",7)(9,"h4"),y(10,"Sales by Category"),m(),p(11,"div",8),G(12,JP,7,6,"div",9)(13,XP,2,0,"div",10),m()()()(),p(14,"div",11)(15,"div",12)(16,"div",13),y(17,"\u{1F4B0}"),m(),p(18,"div",14)(19,"div",15),y(20,"Total Inventory Value"),m(),p(21,"div",16),y(22),m()()(),p(23,"div",17)(24,"div",13),y(25,"\u{1F4CA}"),m(),p(26,"div",14)(27,"div",15),y(28,"Total Sales"),m(),p(29,"div",16),y(30),m()()()(),p(31,"div",18)(32,"div",19)(33,"h3")(34,"span",5),y(35,"\u{1F4E6}"),m(),y(36," Available Inventory "),p(37,"span",20),y(38),m()(),G(39,nN,2,1,"div",21)(40,sN,9,3,"div",22)(41,aN,3,0,"ng-template",null,0,Hn),m(),G(43,lN,9,2,"div",23),p(44,"div",19)(45,"div",24)(46,"h3")(47,"span",5),y(48,"\u{1F4B0}"),m(),y(49," Sales History "),p(50,"span",20),y(51),m()(),p(52,"div",25)(53,"label",26),y(54,"Filter by Category:"),m(),p(55,"select",27),re("ngModelChange",function(c){return j(o),ie(i.selectedCategory,c)||(i.selectedCategory=c),B(c)}),$("change",function(){return j(o),B(i.salesPage=1)}),G(56,uN,2,2,"option",28),m()()(),G(57,fN,2,1,"div",29)(58,yN,9,3,"div",22)(59,vN,3,0,"ng-template",null,1,Hn),m(),G(61,xN,9,2,"div",30)(62,TN,25,3,"div",31),m()()()}if(r&2){let o=$n(42),s=$n(60);_(12),R("ngForOf",i.salesByCategory),_(),R("ngIf",i.salesByCategory.length===0),_(9),J("$",i.totalInventoryValue.toFixed(2),""),_(8),J("$",i.totalSalesValue.toFixed(2),""),_(8),K(i.availableProducts.length),_(),R("ngIf",i.availableProducts.length>0)("ngIfElse",o),_(),R("ngIf",i.availableProductsTotalPages>1||i.availableProducts.length>10),_(3),R("ngIf",i.pendingSales.length>0),_(8),K(i.filteredSales.length),_(4),ne("ngModel",i.selectedCategory),_(),R("ngForOf",i.categories),_(),R("ngIf",i.sales.length>0)("ngIfElse",s),_(),R("ngIf",i.salesTotalPages>1||i.filteredSales.length>10),_(3),R("ngIf",i.outOfStockProducts.length>0),_(),R("ngIf",i.isEditModalOpen)}},dependencies:[$e,pt,st,Ir,yt,xr,Tr,mt,Kn,xn,gt,Qn,dt],styles:[".inventory-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xl)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--space-lg);margin-bottom:var(--space-2xl)}.analytics-card[_ngcontent-%COMP%]{margin-bottom:var(--space-2xl)}.analytics-grid[_ngcontent-%COMP%]{margin-top:var(--space-lg)}.chart-container[_ngcontent-%COMP%]{background:var(--color-bg);padding:var(--space-lg);border-radius:var(--radius-md)}.chart-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 var(--space-lg) 0;color:var(--color-text);font-size:1rem}.bar-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.bar-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr 120px;gap:var(--space-sm);align-items:center}.bar-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.bar-wrapper[_ngcontent-%COMP%]{height:24px;background:var(--color-surface);border-radius:var(--radius-md);overflow:hidden;border:1px solid var(--color-border)}.bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--color-primary),var(--color-success));transition:width .3s ease;min-width:2%}.bar-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-text);text-align:right}.empty-chart[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted);font-style:italic}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--space-md);margin-bottom:var(--space-lg)}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.category-filter[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);font-size:.875rem;cursor:pointer;transition:all var(--transition-base)}.category-filter[_ngcontent-%COMP%]:hover{border-color:var(--color-primary)}.category-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-dark));color:#fff;padding:var(--space-xl);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:var(--space-lg)}.stat-card.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success),#059669)}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem}.stat-info[_ngcontent-%COMP%]{flex:1}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9;margin-bottom:var(--space-sm)}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.lists-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:var(--space-xl)}h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-lg)}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.badge[_ngcontent-%COMP%]{margin-left:auto;background:var(--color-bg);color:var(--color-primary);padding:var(--space-xs) var(--space-md);border-radius:var(--radius-xl);font-size:.875rem;font-weight:600}.badge.warning[_ngcontent-%COMP%]{background:#fef3c7;color:var(--color-warning)}.product-list[_ngcontent-%COMP%], .sales-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.product-item[_ngcontent-%COMP%], .sale-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--space-md);padding:var(--space-md);background:var(--color-bg);border-radius:var(--radius-md);transition:all var(--transition-base)}.product-image-wrapper[_ngcontent-%COMP%]{flex-shrink:0;width:60px;height:60px;border-radius:var(--radius-md);overflow:hidden;background:var(--color-surface);border:1px solid var(--color-border);display:flex;align-items:center;justify-content:center}.product-image-wrapper.placeholder[_ngcontent-%COMP%]{background:var(--color-bg)}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.placeholder-icon[_ngcontent-%COMP%]{font-size:1.5rem;opacity:.5}.product-item[_ngcontent-%COMP%]:hover, .sale-item[_ngcontent-%COMP%]:hover{background:#e0e7ff;transform:translate(4px)}.product-item.dimmed[_ngcontent-%COMP%]{opacity:.5}.product-info[_ngcontent-%COMP%], .sale-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs);flex:1;align-self:flex-start;padding-top:4px}.product-name[_ngcontent-%COMP%], .sale-name[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.product-category[_ngcontent-%COMP%], .sale-details-text[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted)}.delivery-badge[_ngcontent-%COMP%]{display:inline-block;margin-top:var(--space-xs);padding:var(--space-xs) var(--space-sm);background:#10b9811a;color:var(--color-success);border-radius:var(--radius-sm);font-size:.75rem;font-weight:500}.product-details[_ngcontent-%COMP%], .sale-amount[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:var(--space-xs)}.product-price[_ngcontent-%COMP%], .sale-total[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:var(--color-primary)}.product-stock[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-success);font-weight:500}.product-stock.out[_ngcontent-%COMP%]{color:var(--color-danger)}.sale-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted)}.out-of-stock-section[_ngcontent-%COMP%]{border:2px solid rgba(239,68,68,.2)}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md);margin-top:var(--space-lg);padding-top:var(--space-lg);border-top:1px solid var(--color-border)}.pagination-size[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:.875rem;color:var(--color-text)}.pagination-size[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.page-size-select[_ngcontent-%COMP%]{padding:var(--space-xs) var(--space-sm);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);font-size:.875rem;cursor:pointer;transition:all var(--transition-base)}.page-size-select[_ngcontent-%COMP%]:hover{border-color:var(--color-primary)}.page-size-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm)}.pagination-btn[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);background:var(--color-surface);border:1px solid var(--color-border);color:var(--color-text);border-radius:var(--radius-md);font-size:.875rem;font-weight:500;cursor:pointer;transition:all var(--transition-base)}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary);color:#fff;border-color:var(--color-primary);transform:translateY(-1px)}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;transform:none}.pagination-pages[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap;justify-content:center}.pagination-page[_ngcontent-%COMP%]{min-width:36px;height:36px;padding:var(--space-xs) var(--space-sm);background:var(--color-surface);border:1px solid var(--color-border);color:var(--color-text);border-radius:var(--radius-md);font-size:.875rem;font-weight:500;cursor:pointer;transition:all var(--transition-base);display:flex;align-items:center;justify-content:center}.pagination-page[_ngcontent-%COMP%]:hover{background:var(--color-bg);border-color:var(--color-primary);transform:translateY(-1px)}.pagination-page.active[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}@media (max-width: 768px){.lists-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.pagination[_ngcontent-%COMP%]{flex-wrap:wrap}.pagination-pages[_ngcontent-%COMP%]{order:3;width:100%;margin-top:var(--space-sm)}h3[_ngcontent-%COMP%]{font-size:1.25rem}.product-name[_ngcontent-%COMP%], .sale-name[_ngcontent-%COMP%]{font-size:.95rem}.product-category[_ngcontent-%COMP%], .sale-details-text[_ngcontent-%COMP%]{font-size:.8rem}.product-price[_ngcontent-%COMP%], .sale-total[_ngcontent-%COMP%]{font-size:1rem}.product-stock[_ngcontent-%COMP%], .sale-date[_ngcontent-%COMP%]{font-size:.75rem}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.btn-restock[_ngcontent-%COMP%]{margin-top:var(--space-xs);padding:var(--space-xs) var(--space-sm);background:var(--color-primary-light);color:#fff;border:none;border-radius:var(--radius-sm);font-size:.75rem;font-weight:500;cursor:pointer;transition:all var(--transition-base)}.btn-restock[_ngcontent-%COMP%]:hover{background:var(--color-primary);transform:translateY(-1px)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{background-color:var(--color-surface);padding:2rem;border-radius:12px;width:90%;max-width:500px;box-shadow:0 10px 25px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-out;color:var(--color-text)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;border-bottom:1px solid var(--color-border);padding-bottom:1rem}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--color-text)}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--color-text-muted)}.modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.modal-footer[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:flex-end;gap:1rem;padding-top:1rem;border-top:1px solid var(--color-border)}.btn-cancel[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--color-border);background-color:var(--color-surface);color:var(--color-text);border-radius:6px;cursor:pointer;font-weight:500;transition:background-color .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:var(--color-bg)}.btn-save[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#4caf50;color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:500}.btn-save[_ngcontent-%COMP%]:hover{background-color:#45a049}.btn-edit-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:transparent;color:var(--color-primary);border:1px solid var(--color-primary);border-radius:4px;cursor:pointer;font-size:.75rem;font-weight:500;transition:all .2s;margin-left:.5rem}.btn-edit-sm[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.product-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}"]})}}return n})();function SN(n,e){if(n&1){let t=ve();p(0,"button",17),$("click",function(){j(t);let i=F();return B(i.cancelEdit())}),y(1," Cancel "),m()}}function MN(n,e){if(n&1){let t=ve();p(0,"div",20)(1,"div",21)(2,"div",22),y(3),m(),p(4,"div",23)(5,"div",24)(6,"span",25),y(7,"\u{1F4DE}"),m(),p(8,"span"),y(9),m()(),p(10,"div",24)(11,"span",25),y(12,"\u{1F4CD}"),m(),p(13,"span"),y(14),m()()()(),p(15,"div",26)(16,"button",27),$("click",function(){let i=j(t).$implicit,o=F(2);return B(o.editCustomer(i))}),y(17," \u270F\uFE0F "),m(),p(18,"button",28),$("click",function(){let i=j(t).$implicit,o=F(2);return B(o.deleteCustomer(i.id))}),y(19," \u{1F5D1}\uFE0F "),m()()()}if(n&2){let t=e.$implicit,r=F(2);Ae("editing",t.id===r.editingId),_(3),K(t.name),_(6),K(t.phoneNumber),_(5),K(t.deliveryAddress),_(2),R("disabled",!!r.editingId&&r.editingId!==t.id),_(2),R("disabled",!!r.editingId)}}function AN(n,e){if(n&1&&(p(0,"div",18),G(1,MN,20,7,"div",19),m()),n&2){let t=F();_(),R("ngForOf",t.customers)}}function PN(n,e){n&1&&(p(0,"div",29)(1,"p"),y(2,"No customers registered yet"),m()())}var Gw=(()=>{class n{constructor(t){this.customerService=t,this.customers=[],this.editingId=null,this.customer={name:"",phoneNumber:"",deliveryAddress:""}}ngOnInit(){this.customerService.getCustomers().subscribe(t=>{this.customers=t})}onSubmit(){this.isValid()&&(this.editingId?(this.customerService.updateCustomer(this.editingId,{name:this.customer.name,phoneNumber:this.customer.phoneNumber,deliveryAddress:this.customer.deliveryAddress}),this.editingId=null):this.customerService.addCustomer({name:this.customer.name,phoneNumber:this.customer.phoneNumber,deliveryAddress:this.customer.deliveryAddress}),this.resetForm())}editCustomer(t){this.editingId=t.id,this.customer={name:t.name,phoneNumber:t.phoneNumber||"",deliveryAddress:t.deliveryAddress||""}}cancelEdit(){this.editingId=null,this.resetForm()}resetForm(){this.customer={name:"",phoneNumber:"",deliveryAddress:""}}deleteCustomer(t){confirm("Are you sure you want to delete this customer?")&&(this.customerService.deleteCustomer(t),this.editingId===t&&this.cancelEdit())}isValid(){return!!(this.customer.name&&this.customer.phoneNumber&&this.customer.deliveryAddress)}static{this.\u0275fac=function(r){return new(r||n)(Q(dl))}}static{this.\u0275cmp=He({type:n,selectors:[["app-customer-form"]],standalone:!0,features:[We],decls:33,vars:11,consts:[["noCustomers",""],[1,"customer-container"],[1,"card"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","customerName"],["type","text","id","customerName","name","name","placeholder","Enter customer name","required","",3,"ngModelChange","ngModel"],["for","phoneNumber"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","e.g., +1 234 567 8900","required","",3,"ngModelChange","ngModel"],["for","deliveryAddress"],["id","deliveryAddress","name","deliveryAddress","placeholder","Enter full delivery address","rows","3","required","",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button","class","btn-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"icon"],[1,"badge"],["class","customer-list",4,"ngIf","ngIfElse"],["type","button",1,"btn-secondary",3,"click"],[1,"customer-list"],["class","customer-item",3,"editing",4,"ngFor","ngForOf"],[1,"customer-item"],[1,"customer-info"],[1,"customer-name"],[1,"customer-details"],[1,"detail-row"],[1,"detail-icon"],[1,"customer-actions"],[1,"btn-edit",3,"click","disabled"],[1,"btn-delete",3,"click","disabled"],[1,"empty-state"]],template:function(r,i){if(r&1){let o=ve();p(0,"div",1)(1,"div",2)(2,"h3"),y(3),m(),p(4,"form",3),$("ngSubmit",function(){return j(o),B(i.onSubmit())}),p(5,"div",4)(6,"label",5),y(7,"Customer Name *"),m(),p(8,"input",6),re("ngModelChange",function(c){return j(o),ie(i.customer.name,c)||(i.customer.name=c),B(c)}),m()(),p(9,"div",4)(10,"label",7),y(11,"Phone Number *"),m(),p(12,"input",8),re("ngModelChange",function(c){return j(o),ie(i.customer.phoneNumber,c)||(i.customer.phoneNumber=c),B(c)}),m()(),p(13,"div",4)(14,"label",9),y(15,"Delivery Address *"),m(),p(16,"textarea",10),re("ngModelChange",function(c){return j(o),ie(i.customer.deliveryAddress,c)||(i.customer.deliveryAddress=c),B(c)}),m()(),p(17,"div",11),G(18,SN,2,0,"button",12),p(19,"button",13)(20,"span"),y(21),m(),y(22),m()()()(),p(23,"div",2)(24,"h3")(25,"span",14),y(26,"\u{1F465}"),m(),y(27," Registered Customers "),p(28,"span",15),y(29),m()(),G(30,AN,2,1,"div",16)(31,PN,3,0,"ng-template",null,0,Hn),m()()}if(r&2){let o=$n(32);_(3),K(i.editingId?"Edit Customer":"Register New Customer"),_(5),ne("ngModel",i.customer.name),_(4),ne("ngModel",i.customer.phoneNumber),_(4),ne("ngModel",i.customer.deliveryAddress),_(2),R("ngIf",i.editingId),_(),R("disabled",!i.isValid()),_(2),K(i.editingId?"\u{1F4BE}":"\u{1F464}"),_(),J(" ",i.editingId?"Update Customer":"Add Customer"," "),_(7),K(i.customers.length),_(),R("ngIf",i.customers.length>0)("ngIfElse",o)}},dependencies:[$e,pt,st,yt,en,mt,gt,Zt,zt,dt,$t],styles:[".customer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-2xl)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin-top:var(--space-lg)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:inherit;font-size:.9375rem;padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);transition:all var(--transition-base);width:100%;resize:vertical}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-lg)}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.badge[_ngcontent-%COMP%]{margin-left:auto;background:var(--color-bg);color:var(--color-primary);padding:var(--space-xs) var(--space-md);border-radius:var(--radius-xl);font-size:.875rem;font-weight:600}.customer-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md);margin-top:var(--space-lg)}.customer-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--space-md);padding:var(--space-lg);background:var(--color-bg);border-radius:var(--radius-md);border:1px solid var(--color-border);transition:all var(--transition-base)}.customer-item[_ngcontent-%COMP%]:hover{background:#e0e7ff;transform:translate(4px)}.customer-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:var(--space-sm)}.customer-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:var(--color-text)}.customer-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:.875rem;color:var(--color-text-muted)}.detail-icon[_ngcontent-%COMP%]{font-size:1rem}.customer-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm)}.btn-delete[_ngcontent-%COMP%]{padding:var(--space-sm);background:transparent;border:1px solid var(--color-border);color:var(--color-danger);border-radius:var(--radius-md);font-size:1.25rem;cursor:pointer;transition:all var(--transition-base);width:40px;height:40px;display:flex;align-items:center;justify-content:center}.btn-delete[_ngcontent-%COMP%]:hover{background:var(--color-danger);border-color:var(--color-danger);transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted)}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);justify-content:flex-end}.btn-secondary[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-xl);background:transparent;border:1px solid var(--color-border);color:var(--color-text);border-radius:var(--radius-md);font-weight:600;cursor:pointer;transition:all var(--transition-base)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--color-bg);border-color:var(--color-text)}.btn-edit[_ngcontent-%COMP%]{padding:var(--space-sm);background:transparent;border:1px solid var(--color-border);color:var(--color-primary);border-radius:var(--radius-md);font-size:1.25rem;cursor:pointer;transition:all var(--transition-base);width:40px;height:40px;display:flex;align-items:center;justify-content:center}.btn-edit[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:#fff;border-color:var(--color-primary);transform:scale(1.1)}.btn-edit[_ngcontent-%COMP%]:disabled, .btn-delete[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.customer-item.editing[_ngcontent-%COMP%]{border-color:var(--color-primary);background:var(--color-surface);box-shadow:0 0 0 2px #3b82f61a}"]})}}return n})();function NN(n,e){if(n&1&&(p(0,"div",26),y(1),m()),n&2){let t=F().$implicit;_(),K(t.notes)}}function ON(n,e){if(n&1&&(p(0,"div",19)(1,"div",20)(2,"div",21),y(3),m(),G(4,NN,2,1,"div",22),p(5,"div",23),y(6),Me(7,"date"),m()(),p(8,"div",24)(9,"div",25),y(10),m()()()),n&2){let t=e.$implicit;_(3),K(t.productName),_(),R("ngIf",t.notes),_(2),K(Oe(7,4,t.timestamp,"medium")),_(4),J("$",t.price.toFixed(2),"")}}function RN(n,e){if(n&1&&(p(0,"div",17),G(1,ON,11,7,"div",18),m()),n&2){let t=F();_(),R("ngForOf",t.expenses)}}function kN(n,e){n&1&&(p(0,"div",27)(1,"p"),y(2,"No expenses recorded yet"),m()())}var Ww=(()=>{class n{constructor(t){this.inventoryService=t,this.expenses=[],this.productName="",this.price=null,this.notes=""}ngOnInit(){this.inventoryService.getExpenses().subscribe(t=>{this.expenses=t})}get totalExpenses(){return this.expenses.reduce((t,r)=>t+r.price,0)}addExpense(){this.productName&&this.price&&this.price>0&&(this.inventoryService.addExpense({productName:this.productName,price:this.price,notes:this.notes}),this.productName="",this.price=null,this.notes="")}static{this.\u0275fac=function(r){return new(r||n)(Q(tn))}}static{this.\u0275cmp=He({type:n,selectors:[["app-expenses"]],standalone:!0,features:[We],decls:36,vars:8,consts:[["noExpenses",""],[1,"expenses-section"],[1,"card"],[1,"icon"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","productName"],["type","text","id","productName","name","productName","placeholder","e.g., Raw materials, Utilities, etc.","required","",3,"ngModelChange","ngModel"],["for","price"],["type","number","id","price","name","price","min","0","step","0.01","placeholder","0.00","required","",3,"ngModelChange","ngModel"],["for","notes"],["id","notes","name","notes","placeholder","Additional details about this expense...","rows","3",3,"ngModelChange","ngModel"],["type","submit",1,"btn-primary",3,"disabled"],[1,"section-header"],[1,"badge"],[1,"total-badge"],["class","expenses-list",4,"ngIf","ngIfElse"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-info"],[1,"expense-name"],["class","expense-notes",4,"ngIf"],[1,"expense-date"],[1,"expense-amount"],[1,"expense-price"],[1,"expense-notes"],[1,"empty-state"]],template:function(r,i){if(r&1){let o=ve();p(0,"div",1)(1,"div",2)(2,"h3")(3,"span",3),y(4,"\u{1F4B8}"),m(),y(5," Add Expense "),m(),p(6,"form",4),$("ngSubmit",function(){return j(o),B(i.addExpense())}),p(7,"div",5)(8,"label",6),y(9,"Product/Item Name"),m(),p(10,"input",7),re("ngModelChange",function(c){return j(o),ie(i.productName,c)||(i.productName=c),B(c)}),m()(),p(11,"div",5)(12,"label",8),y(13,"Price/Amount"),m(),p(14,"input",9),re("ngModelChange",function(c){return j(o),ie(i.price,c)||(i.price=c),B(c)}),m()(),p(15,"div",5)(16,"label",10),y(17,"Notes (Optional)"),m(),p(18,"textarea",11),re("ngModelChange",function(c){return j(o),ie(i.notes,c)||(i.notes=c),B(c)}),m()(),p(19,"button",12)(20,"span"),y(21,"\u2795"),m(),y(22," Add Expense "),m()()(),p(23,"div",2)(24,"div",13)(25,"h3")(26,"span",3),y(27,"\u{1F4CB}"),m(),y(28," Expense History "),p(29,"span",14),y(30),m()(),p(31,"div",15),y(32),m()(),G(33,RN,2,1,"div",16)(34,kN,3,0,"ng-template",null,0,Hn),m()()}if(r&2){let o=$n(35);_(10),ne("ngModel",i.productName),_(4),ne("ngModel",i.price),_(4),ne("ngModel",i.notes),_(),R("disabled",!i.productName||!i.price||i.price<=0),_(11),K(i.expenses.length),_(2),J(" Total: $",i.totalExpenses.toFixed(2)," "),_(),R("ngIf",i.expenses.length>0)("ngIfElse",o)}},dependencies:[$e,pt,st,Ir,yt,en,mt,Kn,gt,Zt,zt,Qn,dt,$t],styles:[".expenses-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xl)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin-top:var(--space-lg)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:inherit;font-size:.9375rem;padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);transition:all var(--transition-base);width:100%;resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--space-md);margin-bottom:var(--space-lg)}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:var(--space-sm)}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.badge[_ngcontent-%COMP%]{margin-left:auto;background:var(--color-bg);color:var(--color-primary);padding:var(--space-xs) var(--space-md);border-radius:var(--radius-xl);font-size:.875rem;font-weight:600}.total-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success),#059669);color:#fff;padding:var(--space-sm) var(--space-lg);border-radius:var(--radius-lg);font-size:1.125rem;font-weight:700;box-shadow:var(--shadow-md)}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.expense-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--space-md);padding:var(--space-md);background:var(--color-bg);border-radius:var(--radius-md);transition:all var(--transition-base);border:1px solid var(--color-border)}.expense-item[_ngcontent-%COMP%]:hover{background:#fee;transform:translate(4px);border-color:var(--color-danger)}.expense-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs);flex:1}.expense-name[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.expense-notes[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);font-style:italic}.expense-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.expense-amount[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:var(--space-xs)}.expense-price[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:var(--color-danger)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted)}@media (max-width: 640px){.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.total-badge[_ngcontent-%COMP%]{width:100%;text-align:center}}"]})}}return n})();var Kw=(()=>{class n{constructor(t){this.inventoryService=t,this.sales=[],this.expenses=[]}ngOnInit(){this.inventoryService.getSales().subscribe(t=>{this.sales=t}),this.inventoryService.getExpenses().subscribe(t=>{this.expenses=t})}get totalIncome(){return this.sales.filter(t=>t.pending!==!0).reduce((t,r)=>t+r.total,0)}get totalExpenses(){return this.expenses.reduce((t,r)=>t+r.price,0)}get netProfit(){return this.totalIncome-this.totalExpenses}get incomePercentage(){let t=this.totalIncome+this.totalExpenses;return t>0?this.totalIncome/t*100:0}get expensePercentage(){let t=this.totalIncome+this.totalExpenses;return t>0?this.totalExpenses/t*100:0}get profitMargin(){return this.totalIncome>0?this.netProfit/this.totalIncome*100:0}get completedSalesCount(){return this.sales.filter(t=>t.pending!==!0).length}get pendingSalesCount(){return this.sales.filter(t=>t.pending===!0).length}get averageSale(){let t=this.completedSalesCount;return t>0?this.totalIncome/t:0}static{this.\u0275fac=function(r){return new(r||n)(Q(tn))}}static{this.\u0275cmp=He({type:n,selectors:[["app-reports"]],standalone:!0,features:[We],decls:119,vars:62,consts:[[1,"reports-section"],[1,"summary-grid"],[1,"summary-card","income"],[1,"card-icon"],[1,"card-content"],[1,"card-label"],[1,"card-value"],[1,"summary-card","expense"],[1,"summary-card","profit"],[1,"summary-card","margin"],[1,"card","chart-card"],[1,"icon"],[1,"comparison-chart"],[1,"chart-row"],[1,"chart-label"],[1,"chart-bar-wrapper"],[1,"chart-bar","income-bar",3,"title"],[1,"chart-value"],[1,"chart-bar","expense-bar",3,"title"],[1,"chart-legend"],[1,"legend-item"],[1,"legend-color","income-color"],[1,"legend-color","expense-color"],[1,"breakdown-grid"],[1,"card"],[1,"breakdown-stats"],[1,"stat-row"],[1,"stat-label"],[1,"stat-value"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),y(4,"\u{1F4B0}"),m(),p(5,"div",4)(6,"div",5),y(7,"Total Income"),m(),p(8,"div",6),y(9),Me(10,"number"),m()()(),p(11,"div",7)(12,"div",3),y(13,"\u{1F4B8}"),m(),p(14,"div",4)(15,"div",5),y(16,"Total Expenses"),m(),p(17,"div",6),y(18),Me(19,"number"),m()()(),p(20,"div",8)(21,"div",3),y(22),m(),p(23,"div",4)(24,"div",5),y(25,"Net Profit"),m(),p(26,"div",6),y(27),Me(28,"number"),m()()(),p(29,"div",9)(30,"div",3),y(31,"\u{1F4CA}"),m(),p(32,"div",4)(33,"div",5),y(34,"Profit Margin"),m(),p(35,"div",6),y(36),Me(37,"number"),m()()()(),p(38,"div",10)(39,"h3")(40,"span",11),y(41,"\u{1F4CA}"),m(),y(42," Income vs Expenses "),m(),p(43,"div",12)(44,"div",13)(45,"div",14),y(46,"Income"),m(),p(47,"div",15),Ne(48,"div",16),Me(49,"number"),m(),p(50,"div",17),y(51),Me(52,"number"),m()(),p(53,"div",13)(54,"div",14),y(55,"Expenses"),m(),p(56,"div",15),Ne(57,"div",18),Me(58,"number"),m(),p(59,"div",17),y(60),Me(61,"number"),m()()(),p(62,"div",19)(63,"div",20),Ne(64,"span",21),p(65,"span"),y(66),Me(67,"number"),m()(),p(68,"div",20),Ne(69,"span",22),p(70,"span"),y(71),Me(72,"number"),m()()()(),p(73,"div",23)(74,"div",24)(75,"h3")(76,"span",11),y(77,"\u{1F4B5}"),m(),y(78," Income Breakdown "),m(),p(79,"div",25)(80,"div",26)(81,"span",27),y(82,"Total Sales:"),m(),p(83,"span",28),y(84),m()(),p(85,"div",26)(86,"span",27),y(87,"Pending Deliveries:"),m(),p(88,"span",28),y(89),m()(),p(90,"div",26)(91,"span",27),y(92,"Average Sale:"),m(),p(93,"span",28),y(94),Me(95,"number"),m()()()(),p(96,"div",24)(97,"h3")(98,"span",11),y(99,"\u{1F4B3}"),m(),y(100," Expense Breakdown "),m(),p(101,"div",25)(102,"div",26)(103,"span",27),y(104,"Total Expenses:"),m(),p(105,"span",28),y(106),m()(),p(107,"div",26)(108,"span",27),y(109,"Average Expense:"),m(),p(110,"span",28),y(111),Me(112,"number"),m()(),p(113,"div",26)(114,"span",27),y(115,"Expense Ratio:"),m(),p(116,"span",28),y(117),Me(118,"number"),m()()()()()()),r&2&&(_(9),J("$",Oe(10,23,i.totalIncome,"1.2-2"),""),_(9),J("$",Oe(19,26,i.totalExpenses,"1.2-2"),""),_(2),Ae("negative",i.netProfit<0),_(2),K(i.netProfit>=0?"\u{1F4C8}":"\u{1F4C9}"),_(5),J("$",Oe(28,29,i.netProfit,"1.2-2"),""),_(9),J("",Oe(37,32,i.profitMargin,"1.1-1"),"%"),_(12),Un("width",i.incomePercentage,"%"),R("title","$"+Oe(49,35,i.totalIncome,"1.2-2")),_(3),J("$",Oe(52,38,i.totalIncome,"1.2-2"),""),_(6),Un("width",i.expensePercentage,"%"),R("title","$"+Oe(58,41,i.totalExpenses,"1.2-2")),_(3),J("$",Oe(61,44,i.totalExpenses,"1.2-2"),""),_(6),J("Income (",Oe(67,47,i.incomePercentage,"1.1-1"),"%)"),_(5),J("Expenses (",Oe(72,50,i.expensePercentage,"1.1-1"),"%)"),_(13),K(i.completedSalesCount),_(5),K(i.pendingSalesCount),_(5),J("$",Oe(95,53,i.averageSale,"1.2-2"),""),_(12),K(i.expenses.length),_(5),J("$",i.expenses.length>0?i.totalExpenses/i.expenses.length:Oe(112,56,0,"1.2-2"),""),_(6),J("",Oe(118,59,i.expensePercentage,"1.1-1"),"%"))},dependencies:[$e,J_],styles:[".reports-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xl)}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--space-lg)}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-dark));color:#fff;padding:var(--space-xl);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:var(--space-lg);transition:all var(--transition-base);min-width:0;overflow:hidden}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-xl)}.summary-card.income[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success),#059669)}.summary-card.expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-danger),#dc2626)}.summary-card.profit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af)}.summary-card.profit.negative[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.summary-card.margin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#6d28d9)}.card-icon[_ngcontent-%COMP%]{font-size:3rem;opacity:.9;flex-shrink:0}.card-content[_ngcontent-%COMP%]{flex:1;min-width:0;overflow:hidden}.card-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9;margin-bottom:var(--space-xs);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-value[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.5rem);font-weight:700;word-break:break-all;overflow-wrap:break-word}.chart-card[_ngcontent-%COMP%]{margin-top:var(--space-lg)}.icon[_ngcontent-%COMP%]{font-size:1.5rem}h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-lg)}.comparison-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg);margin:var(--space-xl) 0}.chart-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 120px;gap:var(--space-md);align-items:center}.chart-label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.chart-bar-wrapper[_ngcontent-%COMP%]{height:40px;background:var(--color-bg);border-radius:var(--radius-md);overflow:hidden;border:1px solid var(--color-border)}.chart-bar[_ngcontent-%COMP%]{height:100%;transition:width .5s ease;min-width:2%;display:flex;align-items:center;justify-content:flex-end;padding-right:var(--space-sm);color:#fff;font-weight:600}.income-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--color-success),#10b981)}.expense-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--color-danger),#ef4444)}.chart-value[_ngcontent-%COMP%]{font-weight:700;font-size:1.125rem;color:var(--color-text);text-align:right}.chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--space-xl);margin-top:var(--space-lg);padding-top:var(--space-lg);border-top:1px solid var(--color-border)}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:.875rem;color:var(--color-text)}.legend-color[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:var(--radius-sm)}.income-color[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success),#10b981)}.expense-color[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-danger),#ef4444)}.breakdown-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--space-lg)}.breakdown-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md);margin-top:var(--space-lg)}.stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-sm) 0;border-bottom:1px solid var(--color-border)}.stat-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted)}.stat-value[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--color-text)}@media (max-width: 768px){.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.chart-row[_ngcontent-%COMP%]{grid-template-columns:80px 1fr 100px}.chart-legend[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.breakdown-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return n})();function FN(n,e){if(n&1&&(p(0,"div",22)(1,"div",23),y(2),m(),p(3,"h3",24),y(4),m(),p(5,"p",25),y(6),m()()),n&2){let t=e.$implicit;_(2),K(t.icon),_(2),K(t.title),_(2),K(t.description)}}var Qw=(()=>{class n{constructor(){this.features=[{icon:"\u{1F4E6}",title:"Product Management",description:"Add, track, and manage your inventory with ease"},{icon:"\u{1F4B0}",title:"Point of Sale",description:"Quick and efficient sales processing with delivery scheduling"},{icon:"\u{1F4CA}",title:"Analytics & Reports",description:"Track income, expenses, and profit margins in real-time"},{icon:"\u{1F465}",title:"Customer Management",description:"Maintain customer records and delivery information"},{icon:"\u{1F4B8}",title:"Expense Tracking",description:"Monitor business expenses and maintain financial records"},{icon:"\u{1F69A}",title:"Delivery Management",description:"Schedule and track pending deliveries efficiently"}]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=He({type:n,selectors:[["app-landing"]],standalone:!0,features:[We],decls:43,vars:1,consts:[[1,"landing-page"],[1,"hero-section"],[1,"hero-content"],[1,"hero-icon"],[1,"hero-title"],[1,"hero-subtitle"],[1,"hero-description"],[1,"hero-stats"],[1,"stat-item"],[1,"stat-icon"],[1,"stat-text"],[1,"features-section"],[1,"section-title"],[1,"section-subtitle"],[1,"features-grid"],["class","feature-card",4,"ngFor","ngForOf"],[1,"cta-section"],[1,"cta-content"],[1,"cta-title"],[1,"cta-description"],[1,"cta-arrow"],[1,"arrow-icon"],[1,"feature-card"],[1,"feature-icon"],[1,"feature-title"],[1,"feature-description"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),y(4,"\u{1F4E6}"),m(),p(5,"h1",4),y(6,"Welcome to JJM Inventory"),m(),p(7,"p",5),y(8,"Your complete business management solution"),m(),p(9,"p",6),y(10," Streamline your inventory, sales, and customer management all in one place. Track expenses, monitor profits, and grow your business with confidence. "),m(),p(11,"div",7)(12,"div",8)(13,"div",9),y(14,"\u26A1"),m(),p(15,"div",10),y(16,"Fast & Efficient"),m()(),p(17,"div",8)(18,"div",9),y(19,"\u{1F512}"),m(),p(20,"div",10),y(21,"Secure & Reliable"),m()(),p(22,"div",8)(23,"div",9),y(24,"\u{1F4F1}"),m(),p(25,"div",10),y(26,"Fully Responsive"),m()()()()(),p(27,"div",11)(28,"h2",12),y(29,"Powerful Features"),m(),p(30,"p",13),y(31,"Everything you need to manage your business effectively"),m(),p(32,"div",14),G(33,FN,7,3,"div",15),m()(),p(34,"div",16)(35,"div",17)(36,"h2",18),y(37,"Ready to Get Started?"),m(),p(38,"p",19),y(39," Choose a tab above to begin managing your inventory, processing sales, or viewing reports. "),m(),p(40,"div",20)(41,"span",21),y(42,"\u2191"),m()()()()()),r&2&&(_(33),R("ngForOf",i.features))},dependencies:[$e,pt],styles:['.landing-page[_ngcontent-%COMP%]{min-height:calc(100vh - 300px);animation:_ngcontent-%COMP%_fadeIn .6s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.hero-section[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl) 0;background:linear-gradient(135deg,#3b82f60d,#9333ea0d);border-radius:var(--radius-lg);margin-bottom:var(--space-2xl)}.hero-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 var(--space-lg)}.hero-icon[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:var(--space-lg);animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}.hero-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--color-text);margin-bottom:var(--space-md);background:linear-gradient(135deg,var(--color-primary),var(--color-primary-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--color-text-muted);margin-bottom:var(--space-lg);font-weight:500}.hero-description[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--color-text-muted);line-height:1.8;margin-bottom:var(--space-2xl);max-width:600px;margin-left:auto;margin-right:auto}.hero-stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--space-2xl);flex-wrap:wrap;margin-top:var(--space-2xl)}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-md) var(--space-lg);background:var(--color-surface);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);transition:all var(--transition-base)}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-md)}.stat-icon[_ngcontent-%COMP%]{font-size:1.5rem}.stat-text[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.features-section[_ngcontent-%COMP%]{padding:var(--space-2xl) 0}.section-title[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;font-weight:700;color:var(--color-text);margin-bottom:var(--space-md)}.section-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:1.125rem;color:var(--color-text-muted);margin-bottom:var(--space-2xl)}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--space-xl);margin-top:var(--space-2xl)}.feature-card[_ngcontent-%COMP%]{background:var(--color-surface);padding:var(--space-xl);border-radius:var(--radius-lg);border:1px solid var(--color-border);transition:all var(--transition-base);text-align:center;position:relative;overflow:hidden}.feature-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.1),transparent);transition:left .6s ease}.feature-card[_ngcontent-%COMP%]:hover:before{left:100%}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:var(--shadow-xl);border-color:var(--color-primary)}.feature-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:var(--space-md);transition:transform var(--transition-base)}.feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{transform:scale(1.2) rotate(5deg)}.feature-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-text);margin-bottom:var(--space-sm)}.feature-description[_ngcontent-%COMP%]{font-size:.9375rem;color:var(--color-text-muted);line-height:1.6}.cta-section[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl) 0;margin-top:var(--space-2xl)}.cta-content[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:var(--space-2xl);background:linear-gradient(135deg,var(--color-primary),var(--color-primary-dark));border-radius:var(--radius-lg);color:#fff;box-shadow:var(--shadow-xl)}.cta-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:var(--space-md)}.cta-description[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:var(--space-lg);opacity:.95}.cta-arrow[_ngcontent-%COMP%]{margin-top:var(--space-xl)}.arrow-icon[_ngcontent-%COMP%]{font-size:3rem;display:inline-block;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.hero-title[_ngcontent-%COMP%]{font-size:2rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.25rem}.hero-description[_ngcontent-%COMP%]{font-size:1rem}.hero-stats[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-md)}.section-title[_ngcontent-%COMP%]{font-size:2rem}.features-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.cta-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})}}return n})();function VN(n,e){if(n&1&&Ne(0,"div",18),n&2){let t=e.$implicit;Un("left",t.x,"%")("top",t.y,"%")("width",t.size,"px")("height",t.size,"px")("animation-delay",t.delay,"s")}}function LN(n,e){if(n&1&&(p(0,"div",19)(1,"span",20),y(2,"\u26A0\uFE0F"),m(),y(3),m()),n&2){let t=F();_(3),J(" ",t.errorMessage," ")}}function jN(n,e){n&1&&(p(0,"span"),y(1,"Sign In"),m())}function BN(n,e){n&1&&(p(0,"span",21),Ne(1,"span",22),y(2," Signing in... "),m())}var Yw=(()=>{class n{constructor(){this.username="",this.password="",this.errorMessage="",this.isLoading=!1,this.bubbles=[]}ngOnInit(){this.generateBubbles()}ngOnDestroy(){}onMouseMove(t){document.querySelectorAll(".bubble").forEach(i=>{let o=i,s=o.getBoundingClientRect(),c=s.left+s.width/2,l=s.top+s.height/2,d=t.clientX-c,f=t.clientY-l,g=Math.sqrt(d*d+f*f);if(g<250){let w=(250-g)/250,E=d/g*w*50,P=f/g*w*50;o.style.transform=`translate(${E}px, ${P}px) scale(${1+w*.3})`}else o.style.transform="translate(0, 0) scale(1)"})}generateBubbles(){for(let t=0;t<15;t++)this.bubbles.push({x:Math.random()*100,y:Math.random()*100,size:Math.random()*100+50,delay:Math.random()*5})}onLogin(){if(this.errorMessage="",!this.username||!this.password){this.errorMessage="Please enter both username and password";return}this.isLoading=!0,setTimeout(()=>{this.username==="jjm143256789"&&this.password==="Gr*l0v3R"?(localStorage.setItem("jjm_logged_in","true"),localStorage.setItem("jjm_username",this.username),window.location.reload()):(this.errorMessage="Invalid username or password",this.isLoading=!1)},800)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=He({type:n,selectors:[["app-login"]],hostBindings:function(r,i){r&1&&$("mousemove",function(s){return i.onMouseMove(s)})},standalone:!0,features:[We],decls:24,vars:9,consts:[[1,"login-container"],[1,"bubbles-container"],["class","bubble",3,"left","top","width","height","animation-delay",4,"ngFor","ngForOf"],[1,"login-card"],[1,"login-header"],[1,"logo-icon"],[1,"login-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","placeholder","Enter your username","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","Enter your password","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"bubble"],[1,"error-message"],[1,"error-icon"],[1,"loading-spinner"],[1,"spinner"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1),G(2,VN,1,10,"div",2),m(),p(3,"div",3)(4,"div",4)(5,"div",5),y(6,"\u{1F4E6}"),m(),p(7,"h1",6),y(8,"JJM Inventory"),m(),p(9,"p",7),y(10,"Sign in to your account"),m()(),p(11,"form",8),$("ngSubmit",function(){return i.onLogin()}),p(12,"div",9)(13,"label",10),y(14,"Username"),m(),p(15,"input",11),re("ngModelChange",function(s){return ie(i.username,s)||(i.username=s),s}),m()(),p(16,"div",9)(17,"label",12),y(18,"Password"),m(),p(19,"input",13),re("ngModelChange",function(s){return ie(i.password,s)||(i.password=s),s}),m()(),G(20,LN,4,1,"div",14),p(21,"button",15),G(22,jN,2,0,"span",16)(23,BN,3,0,"span",17),m()()()()),r&2&&(_(2),R("ngForOf",i.bubbles),_(13),ne("ngModel",i.username),R("disabled",i.isLoading),_(4),ne("ngModel",i.password),R("disabled",i.isLoading),_(),R("ngIf",i.errorMessage),_(),R("disabled",i.isLoading),_(),R("ngIf",!i.isLoading),_(),R("ngIf",i.isLoading))},dependencies:[$e,pt,st,yt,en,mt,gt,Zt,zt,dt,$t],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--color-bg);padding:var(--space-lg);position:relative;overflow:hidden}.bubbles-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:0}.bubble[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:radial-gradient(circle at 30% 30%,#3b82f64d,#9333ea33);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:_ngcontent-%COMP%_float 8s ease-in-out infinite;transition:transform .15s ease-out;box-shadow:inset 0 0 20px #fff3,0 8px 32px #3b82f633;border:1px solid rgba(255,255,255,.1)}.bubble[_ngcontent-%COMP%]:before{content:"";position:absolute;top:10%;left:10%;width:40%;height:40%;background:radial-gradient(circle,rgba(255,255,255,.4),transparent);border-radius:50%}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}25%{transform:translateY(-20px) rotate(90deg)}50%{transform:translateY(0) rotate(180deg)}75%{transform:translateY(20px) rotate(270deg)}}.login-card[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:var(--radius-xl);box-shadow:0 20px 60px #0000004d;padding:var(--space-2xl);width:100%;max-width:420px;animation:_ngcontent-%COMP%_slideIn .5s cubic-bezier(.16,1,.3,1);position:relative;z-index:1}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--space-2xl)}.logo-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:var(--space-md);animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.login-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--color-text);margin-bottom:var(--space-xs);background:linear-gradient(135deg,var(--color-primary),var(--color-primary-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.login-subtitle[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:.9375rem;margin:0}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-text)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--space-md);font-size:1rem;border:2px solid var(--color-border);border-radius:var(--radius-md);transition:all var(--transition-base);background:var(--color-surface)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 4px #3b82f61a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#fee;color:var(--color-danger);padding:var(--space-md);border-radius:var(--radius-md);font-size:.875rem;border:1px solid rgba(239,68,68,.2);display:flex;align-items:center;gap:var(--space-sm);animation:_ngcontent-%COMP%_shake .4s ease}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.error-icon[_ngcontent-%COMP%]{font-size:1.25rem}.login-button[_ngcontent-%COMP%]{padding:var(--space-md) var(--space-xl);font-size:1rem;font-weight:600;background:linear-gradient(135deg,var(--color-primary),var(--color-primary-light));color:#fff;border:none;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-base);box-shadow:0 4px 12px #3b82f64d}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #3b82f666}.login-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm)}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:var(--space-2xl);padding-top:var(--space-lg);border-top:1px solid var(--color-border);text-align:center}.demo-credentials[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);line-height:1.6;margin:0}.demo-credentials[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--color-text)}.demo-credentials[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:var(--color-bg);padding:2px 6px;border-radius:var(--radius-sm);font-family:Courier New,monospace;color:var(--color-primary);font-weight:600}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:var(--space-xl)}.login-title[_ngcontent-%COMP%]{font-size:1.5rem}.logo-icon[_ngcontent-%COMP%]{font-size:3rem}}']})}}return n})();function UN(n,e){if(n&1&&(p(0,"option",18),y(1),Me(2,"titlecase"),m()),n&2){let t=e.$implicit;R("value",t),_(),J(" ",Gh(2,2,t)," ")}}function $N(n,e){if(n&1&&(p(0,"option",18),y(1),Me(2,"titlecase"),m()),n&2){let t=e.$implicit;R("value",t),_(),J(" ",Gh(2,2,t)," ")}}function zN(n,e){if(n&1&&(p(0,"span",33),y(1),m()),n&2){let t=F().$implicit;_(),J("\u2022 ",t.details,"")}}function HN(n,e){if(n&1&&(p(0,"div",21)(1,"div",22)(2,"span",23),y(3),m(),p(4,"span",24),y(5),m()(),p(6,"div",25)(7,"div",26)(8,"span",27),y(9),m(),p(10,"span",28),y(11),m()(),p(12,"div",29)(13,"span",30),y(14),m(),G(15,zN,2,1,"span",31),m()(),p(16,"div",32),y(17),Me(18,"date"),m()()),n&2){let t=e.$implicit,r=F(2);_(3),K(r.getEntityIcon(t.entityType)),_(2),K(r.getActionIcon(t.action)),_(4),K(t.entityName),_(2),K(t.action),_(3),K(t.entityType),_(),R("ngIf",t.details),_(2),J(" ",Oe(18,7,t==null?null:t.timestamp,"medium")," ")}}function qN(n,e){if(n&1&&(p(0,"div",19),G(1,HN,19,10,"div",20),m()),n&2){let t=F();_(),R("ngForOf",t.paginatedLogs)}}function GN(n,e){n&1&&(p(0,"div",34)(1,"p"),y(2,"No activity logs found"),m()())}function WN(n,e){if(n&1){let t=ve();p(0,"div",35)(1,"button",36),$("click",function(){j(t);let i=F();return B(i.prevPage())}),y(2," \u2190 Prev "),m(),p(3,"span",37),y(4),m(),p(5,"button",36),$("click",function(){j(t);let i=F();return B(i.nextPage())}),y(6," Next \u2192 "),m()()}if(n&2){let t=F();_(),R("disabled",t.currentPage===1),_(3),zn(" Page ",t.currentPage," of ",t.totalPages," "),_(),R("disabled",t.currentPage===t.totalPages)}}var Jw=(()=>{class n{constructor(t){this.loggingService=t,this.logs=[],this.filteredLogs=[],this.selectedEntityType="all",this.selectedAction="all",this.currentPage=1,this.pageSize=20,this.entityTypes=["all","product","sale","expense","customer"],this.actions=["all","create","update","delete","restock","complete"]}ngOnInit(){this.loggingService.getLogs().subscribe(t=>{this.logs=t.map(r=>Ie(X({},r),{timestamp:new Date(r.timestamp?._seconds*1e3||new Date)})),this.applyFilters()})}applyFilters(){this.filteredLogs=this.logs.filter(t=>{let r=this.selectedEntityType==="all"||t.entityType===this.selectedEntityType,i=this.selectedAction==="all"||t.action===this.selectedAction;return r&&i}),this.currentPage=1}get paginatedLogs(){let t=(this.currentPage-1)*this.pageSize,r=t+this.pageSize;return this.filteredLogs.slice(t,r)}get totalPages(){return Math.ceil(this.filteredLogs.length/this.pageSize)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}refreshLogs(){this.loggingService.refreshLogs()}cleanupOldLogs(){confirm("This will delete all logs older than 30 days. Continue?")&&this.loggingService.cleanupOldLogs().subscribe({next:t=>{alert(`Cleanup completed! Deleted ${t.deletedCount} logs.`),this.refreshLogs()},error:t=>{console.error("Cleanup error:",t),alert("Failed to cleanup logs")}})}getActionIcon(t){return{create:"\u2795",update:"\u270F\uFE0F",delete:"\u{1F5D1}\uFE0F",restock:"\u{1F4E6}",complete:"\u2705"}[t]||"\u{1F4DD}"}getEntityIcon(t){return{product:"\u{1F4E6}",sale:"\u{1F4B0}",expense:"\u{1F4B8}",customer:"\u{1F464}"}[t]||"\u{1F4C4}"}static{this.\u0275fac=function(r){return new(r||n)(Q(ul))}}static{this.\u0275cmp=He({type:n,selectors:[["app-activity-logs"]],standalone:!0,features:[We],decls:29,vars:8,consts:[["noLogs",""],[1,"activity-logs-section"],[1,"card"],[1,"header-section"],[1,"icon"],[1,"badge"],[1,"header-actions"],[1,"btn-refresh",3,"click"],[1,"btn-cleanup",3,"click"],[1,"filters-section"],[1,"filter-group"],["for","entityFilter"],["id","entityFilter",1,"filter-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","actionFilter"],["id","actionFilter",1,"filter-select",3,"ngModelChange","change","ngModel"],["class","logs-list",4,"ngIf","ngIfElse"],["class","pagination",4,"ngIf"],[3,"value"],[1,"logs-list"],["class","log-item",4,"ngFor","ngForOf"],[1,"log-item"],[1,"log-icon"],[1,"entity-icon"],[1,"action-icon"],[1,"log-info"],[1,"log-header"],[1,"log-entity"],[1,"log-action-badge"],[1,"log-details"],[1,"log-type"],["class","log-description",4,"ngIf"],[1,"log-timestamp"],[1,"log-description"],[1,"empty-state"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],[1,"page-info"]],template:function(r,i){if(r&1){let o=ve();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3")(4,"span",4),y(5,"\u{1F4CB}"),m(),y(6," Activity Logs "),p(7,"span",5),y(8),m()(),p(9,"div",6)(10,"button",7),$("click",function(){return j(o),B(i.refreshLogs())}),y(11," \u{1F504} Refresh "),m(),p(12,"button",8),$("click",function(){return j(o),B(i.cleanupOldLogs())}),y(13," \u{1F5D1}\uFE0F Cleanup Old Logs "),m()()(),p(14,"div",9)(15,"div",10)(16,"label",11),y(17,"Entity Type:"),m(),p(18,"select",12),re("ngModelChange",function(c){return j(o),ie(i.selectedEntityType,c)||(i.selectedEntityType=c),B(c)}),$("change",function(){return j(o),B(i.applyFilters())}),G(19,UN,3,4,"option",13),m()(),p(20,"div",10)(21,"label",14),y(22,"Action:"),m(),p(23,"select",15),re("ngModelChange",function(c){return j(o),ie(i.selectedAction,c)||(i.selectedAction=c),B(c)}),$("change",function(){return j(o),B(i.applyFilters())}),G(24,$N,3,4,"option",13),m()()(),G(25,qN,2,1,"div",16)(26,GN,3,0,"ng-template",null,0,Hn)(28,WN,7,4,"div",17),m()()}if(r&2){let o=$n(27);_(8),K(i.filteredLogs.length),_(10),ne("ngModel",i.selectedEntityType),_(),R("ngForOf",i.entityTypes),_(4),ne("ngModel",i.selectedAction),_(),R("ngForOf",i.actions),_(),R("ngIf",i.paginatedLogs.length>0)("ngIfElse",o),_(3),R("ngIf",i.totalPages>1)}},dependencies:[$e,pt,st,Y_,Ir,yt,xr,Tr,xn,gt,dt],styles:[".activity-logs-section[_ngcontent-%COMP%]{padding:var(--space-lg)}.header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-lg);flex-wrap:wrap;gap:var(--space-md)}.header-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm)}.btn-refresh[_ngcontent-%COMP%], .btn-cleanup[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);background:var(--color-surface);color:var(--color-text);border-radius:var(--radius-md);cursor:pointer;font-size:.875rem;font-weight:500;transition:all var(--transition-base)}.btn-refresh[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.btn-cleanup[_ngcontent-%COMP%]{background:var(--color-danger);color:#fff;border-color:var(--color-danger)}.btn-cleanup[_ngcontent-%COMP%]:hover{background:#dc2626}.filters-section[_ngcontent-%COMP%]{display:flex;gap:var(--space-lg);margin-bottom:var(--space-lg);padding:var(--space-md);background:var(--color-bg);border-radius:var(--radius-md);flex-wrap:wrap}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.filter-select[_ngcontent-%COMP%]{padding:var(--space-xs) var(--space-sm);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);font-size:.875rem;cursor:pointer}.logs-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.log-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md);background:var(--color-bg);border-radius:var(--radius-md);border:1px solid var(--color-border);transition:all var(--transition-base)}.log-item[_ngcontent-%COMP%]:hover{background:var(--color-surface);transform:translate(4px)}.log-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px;font-size:1.25rem}.entity-icon[_ngcontent-%COMP%]{font-size:1.5rem}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.log-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:var(--space-xs)}.log-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.log-entity[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text);font-size:1rem}.log-action-badge[_ngcontent-%COMP%]{padding:2px 8px;background:var(--color-primary);color:#fff;border-radius:var(--radius-sm);font-size:.75rem;font-weight:500;text-transform:uppercase}.log-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-xs);font-size:.875rem;color:var(--color-text-muted)}.log-type[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:500}.log-description[_ngcontent-%COMP%]{font-style:italic}.log-timestamp[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted);white-space:nowrap}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl);color:var(--color-text-muted)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:var(--space-md);margin-top:var(--space-lg);padding-top:var(--space-lg);border-top:1px solid var(--color-border)}.pagination-btn[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);background:var(--color-surface);border:1px solid var(--color-border);color:var(--color-text);border-radius:var(--radius-md);font-size:.875rem;font-weight:500;cursor:pointer;transition:all var(--transition-base)}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.page-info[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text);font-weight:500}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.filters-section[_ngcontent-%COMP%]{flex-direction:column}.log-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.log-timestamp[_ngcontent-%COMP%]{align-self:flex-end}}"]})}}return n})();var Xw=()=>{};var tb=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KN=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,l=i+2<n.length,d=l?n[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,w=(c&15)<<2|d>>6,E=d&63;l||(E=64,s||(w=64)),r.push(t[f],t[g],t[w],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||d==null||g==null)throw new bf;let w=o<<2|c>>4;if(r.push(w),d!==64){let E=c<<4&240|d>>2;if(r.push(E),g!==64){let P=d<<6&192|g;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},bf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},QN=function(n){let e=tb(n);return nb.encodeByteArray(e,!0)},Ns=function(n){return QN(n).replace(/\./g,"")},rb=function(n){try{return nb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YN=()=>ib().__FIREBASE_DEFAULTS__,JN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&rb(n[1]);return e&&JSON.parse(e)},Ef=()=>{try{return Xw()||YN()||JN()||XN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZN=n=>Ef()?.emulatorHosts?.[n],ob=n=>{let e=ZN(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Cf=()=>Ef()?.config;var hl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function fl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function sb(n){return L(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function ab(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=X({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ns(JSON.stringify(t)),Ns(JSON.stringify(s)),""].join(".")}var Ps={};function eO(){let n={prod:[],emulator:[]};for(let e of Object.keys(Ps))Ps[e]?n.emulator.push(e):n.prod.push(e);return n}function tO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Zw=!1;function cb(n,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||Ps[n]===e||Ps[n]||Zw)return;Ps[n]=e;function t(w){return`__firebase__banner__${w}`}let r="__firebase__banner",o=eO().prod.length>0;function s(){let w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function l(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){let w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Zw=!0,s()},w}function f(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){let w=tO(r),E=t("text"),P=document.getElementById(E)||document.createElement("span"),N=t("learnmore"),O=document.getElementById(N)||document.createElement("a"),z=t("preprendIcon"),ee=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){let W=w.element;c(W),f(O,N);let be=d();l(ee,z),W.append(ee,P,O,be),document.body.appendChild(W)}o?(P.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function lb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nO(){let n=Ef()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ub(){return!nO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function If(){try{return typeof indexedDB=="object"}catch{return!1}}function db(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var rO="FirebaseError",Yn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rO,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Os.prototype.create)}},Os=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iO(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Yn(i,c,r)}};function iO(n,e){return n.replace(oO,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oO=/\{\$([^}]+)}/g;function oo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(eb(o)&&eb(s)){if(!oo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function eb(n){return n!==null&&typeof n=="object"}var jj=4*60*60*1e3;function Ar(n){return n&&n._delegate?n._delegate:n}var Jn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var pi="[DEFAULT]";var Df=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new hl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aO(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return L(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sO(n){return n===pi?void 0:n}function aO(n){return n.instantiationMode==="EAGER"}var pl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Df(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var cO=[],_e=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(_e||{}),lO={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},uO=_e.INFO,dO={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},hO=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=dO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},so=class{constructor(e){this.name=e,this._logLevel=uO,this._logHandler=hO,this._userLogHandler=null,cO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};var fO=(n,e)=>e.some(t=>n instanceof t),hb,fb;function pO(){return hb||(hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mO(){return fb||(fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pb=new WeakMap,Tf=new WeakMap,mb=new WeakMap,xf=new WeakMap,Mf=new WeakMap;function gO(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Tn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&pb.set(t,n)}).catch(()=>{}),Mf.set(e,n),e}function yO(n){if(Tf.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Tf.set(n,e)}var Sf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Tn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gb(n){Sf=n(Sf)}function vO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ml(this),e,...t);return mb.set(r,e.sort?e.sort():[e]),Tn(r)}:mO().includes(n)?function(...e){return n.apply(ml(this),e),Tn(pb.get(this))}:function(...e){return Tn(n.apply(ml(this),e))}}function _O(n){return typeof n=="function"?vO(n):(n instanceof IDBTransaction&&yO(n),fO(n,pO())?new Proxy(n,Sf):n)}function Tn(n){if(n instanceof IDBRequest)return gO(n);if(xf.has(n))return xf.get(n);let e=_O(n);return e!==n&&(xf.set(n,e),Mf.set(e,n)),e}var ml=n=>Mf.get(n);function vb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Tn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Tn(s.result),l.oldVersion,l.newVersion,Tn(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var wO=["get","getKey","getAll","getAllKeys","count"],bO=["put","add","delete","clear"],Af=new Map;function yb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=bO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wO.includes(t)))return;let o=function(s,...c){return L(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&l.done]))[0]})};return Af.set(e,o),o}gb(n=>Ie(X({},n),{get:(e,t,r)=>yb(e,t)||n.get(e,t,r),has:(e,t)=>!!yb(e,t)||n.has(e,t)}));var Nf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EO(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function EO(n){return n.getComponent()?.type==="VERSION"}var Of="@firebase/app",_b="0.14.6";var Xn=new so("@firebase/app"),CO="@firebase/app-compat",IO="@firebase/analytics-compat",DO="@firebase/analytics",xO="@firebase/app-check-compat",TO="@firebase/app-check",SO="@firebase/auth",MO="@firebase/auth-compat",AO="@firebase/database",PO="@firebase/data-connect",NO="@firebase/database-compat",OO="@firebase/functions",RO="@firebase/functions-compat",kO="@firebase/installations",FO="@firebase/installations-compat",VO="@firebase/messaging",LO="@firebase/messaging-compat",jO="@firebase/performance",BO="@firebase/performance-compat",UO="@firebase/remote-config",$O="@firebase/remote-config-compat",zO="@firebase/storage",HO="@firebase/storage-compat",qO="@firebase/firestore",GO="@firebase/ai",WO="@firebase/firestore-compat",KO="firebase",QO="12.6.0";var Rf="[DEFAULT]",YO={[Of]:"fire-core",[CO]:"fire-core-compat",[DO]:"fire-analytics",[IO]:"fire-analytics-compat",[TO]:"fire-app-check",[xO]:"fire-app-check-compat",[SO]:"fire-auth",[MO]:"fire-auth-compat",[AO]:"fire-rtdb",[PO]:"fire-data-connect",[NO]:"fire-rtdb-compat",[OO]:"fire-fn",[RO]:"fire-fn-compat",[kO]:"fire-iid",[FO]:"fire-iid-compat",[VO]:"fire-fcm",[LO]:"fire-fcm-compat",[jO]:"fire-perf",[BO]:"fire-perf-compat",[UO]:"fire-rc",[$O]:"fire-rc-compat",[zO]:"fire-gcs",[HO]:"fire-gcs-compat",[qO]:"fire-fst",[WO]:"fire-fst-compat",[GO]:"fire-vertex","fire-js":"fire-js",[KO]:"fire-js-all"};var gl=new Map,JO=new Map,kf=new Map;function wb(n,e){try{n.container.addComponent(e)}catch(t){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rs(n){let e=n.name;if(kf.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,n);for(let t of gl.values())wb(t,n);for(let t of JO.values())wb(t,n);return!0}function Ib(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Db(n){return n==null?!1:n.settings!==void 0}var XO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Os("app","Firebase",XO);var Ff=class{constructor(e,t,r){this._isDeleted=!1,this._options=X({},e),this._config=X({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}};var xb=QO;function jf(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=X({name:Rf,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Pr.create("bad-app-name",{appName:String(i)});if(t||(t=Cf()),!t)throw Pr.create("no-options");let o=gl.get(i);if(o){if(oo(t,o.options)&&oo(r,o.config))return o;throw Pr.create("duplicate-app",{appName:i})}let s=new pl(i);for(let l of kf.values())s.addComponent(l);let c=new Ff(t,r,s);return gl.set(i,c),c}function Tb(n=Rf){let e=gl.get(n);if(!e&&n===Rf&&Cf())return jf();if(!e)throw Pr.create("no-app",{appName:n});return e}function Nr(n,e,t){let r=YO[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(s.join(" "));return}Rs(new Jn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var ZO="firebase-heartbeat-database",eR=1,ks="firebase-heartbeat-store",Pf=null;function Sb(){return Pf||(Pf=vb(ZO,eR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ks)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pr.create("idb-open",{originalErrorMessage:n.message})})),Pf}function tR(n){return L(this,null,function*(){try{let t=(yield Sb()).transaction(ks),r=yield t.objectStore(ks).get(Mb(n));return yield t.done,r}catch(e){if(e instanceof Yn)Xn.warn(e.message);else{let t=Pr.create("idb-get",{originalErrorMessage:e?.message});Xn.warn(t.message)}}})}function bb(n,e){return L(this,null,function*(){try{let r=(yield Sb()).transaction(ks,"readwrite");yield r.objectStore(ks).put(e,Mb(n)),yield r.done}catch(t){if(t instanceof Yn)Xn.warn(t.message);else{let r=Pr.create("idb-set",{originalErrorMessage:t?.message});Xn.warn(r.message)}}})}function Mb(n){return`${n.name}!${n.options.appId}`}var nR=1024,rR=30,Vf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Lf(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return L(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Eb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>rR){let i=oR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xn.warn(e)}})}getHeartbeatsHeader(){return L(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Eb(),{heartbeatsToSend:t,unsentEntries:r}=iR(this._heartbeatsCache.heartbeats),i=Ns(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Xn.warn(e),""}})}};function Eb(){return new Date().toISOString().substring(0,10)}function iR(n,e=nR){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Cb(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Cb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Lf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(this,null,function*(){return If()?db().then(()=>!0).catch(()=>!1):!1})}read(){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield tR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Cb(n){return Ns(JSON.stringify({version:2,heartbeats:n})).length}function oR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function sR(n){Rs(new Jn("platform-logger",e=>new Nf(e),"PRIVATE")),Rs(new Jn("heartbeat",e=>new Vf(e),"PRIVATE")),Nr(Of,_b,n),Nr(Of,_b,"esm2020"),Nr("fire-js","")}sR("");var aR="firebase",cR="12.6.0";Nr(aR,cR,"app");var Ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pb={};var Zn,Bf;(function(){var n;function e(x,b){function I(){}I.prototype=b.prototype,x.F=b.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(T,D,M){for(var C=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)C[Tt-2]=arguments[Tt];return b.prototype[D].apply(T,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,b,I){I||(I=0);let T=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)T[D]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(D=0;D<16;++D)T[D]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=x.g[0],I=x.g[1],D=x.g[2];let M=x.g[3],C;C=b+(M^I&(D^M))+T[0]+3614090360&4294967295,b=I+(C<<7&4294967295|C>>>25),C=M+(D^b&(I^D))+T[1]+3905402710&4294967295,M=b+(C<<12&4294967295|C>>>20),C=D+(I^M&(b^I))+T[2]+606105819&4294967295,D=M+(C<<17&4294967295|C>>>15),C=I+(b^D&(M^b))+T[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=b+(M^I&(D^M))+T[4]+4118548399&4294967295,b=I+(C<<7&4294967295|C>>>25),C=M+(D^b&(I^D))+T[5]+1200080426&4294967295,M=b+(C<<12&4294967295|C>>>20),C=D+(I^M&(b^I))+T[6]+2821735955&4294967295,D=M+(C<<17&4294967295|C>>>15),C=I+(b^D&(M^b))+T[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=b+(M^I&(D^M))+T[8]+1770035416&4294967295,b=I+(C<<7&4294967295|C>>>25),C=M+(D^b&(I^D))+T[9]+2336552879&4294967295,M=b+(C<<12&4294967295|C>>>20),C=D+(I^M&(b^I))+T[10]+4294925233&4294967295,D=M+(C<<17&4294967295|C>>>15),C=I+(b^D&(M^b))+T[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=b+(M^I&(D^M))+T[12]+1804603682&4294967295,b=I+(C<<7&4294967295|C>>>25),C=M+(D^b&(I^D))+T[13]+4254626195&4294967295,M=b+(C<<12&4294967295|C>>>20),C=D+(I^M&(b^I))+T[14]+2792965006&4294967295,D=M+(C<<17&4294967295|C>>>15),C=I+(b^D&(M^b))+T[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=b+(D^M&(I^D))+T[1]+4129170786&4294967295,b=I+(C<<5&4294967295|C>>>27),C=M+(I^D&(b^I))+T[6]+3225465664&4294967295,M=b+(C<<9&4294967295|C>>>23),C=D+(b^I&(M^b))+T[11]+643717713&4294967295,D=M+(C<<14&4294967295|C>>>18),C=I+(M^b&(D^M))+T[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=b+(D^M&(I^D))+T[5]+3593408605&4294967295,b=I+(C<<5&4294967295|C>>>27),C=M+(I^D&(b^I))+T[10]+38016083&4294967295,M=b+(C<<9&4294967295|C>>>23),C=D+(b^I&(M^b))+T[15]+3634488961&4294967295,D=M+(C<<14&4294967295|C>>>18),C=I+(M^b&(D^M))+T[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=b+(D^M&(I^D))+T[9]+568446438&4294967295,b=I+(C<<5&4294967295|C>>>27),C=M+(I^D&(b^I))+T[14]+3275163606&4294967295,M=b+(C<<9&4294967295|C>>>23),C=D+(b^I&(M^b))+T[3]+4107603335&4294967295,D=M+(C<<14&4294967295|C>>>18),C=I+(M^b&(D^M))+T[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=b+(D^M&(I^D))+T[13]+2850285829&4294967295,b=I+(C<<5&4294967295|C>>>27),C=M+(I^D&(b^I))+T[2]+4243563512&4294967295,M=b+(C<<9&4294967295|C>>>23),C=D+(b^I&(M^b))+T[7]+1735328473&4294967295,D=M+(C<<14&4294967295|C>>>18),C=I+(M^b&(D^M))+T[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=b+(I^D^M)+T[5]+4294588738&4294967295,b=I+(C<<4&4294967295|C>>>28),C=M+(b^I^D)+T[8]+2272392833&4294967295,M=b+(C<<11&4294967295|C>>>21),C=D+(M^b^I)+T[11]+1839030562&4294967295,D=M+(C<<16&4294967295|C>>>16),C=I+(D^M^b)+T[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=b+(I^D^M)+T[1]+2763975236&4294967295,b=I+(C<<4&4294967295|C>>>28),C=M+(b^I^D)+T[4]+1272893353&4294967295,M=b+(C<<11&4294967295|C>>>21),C=D+(M^b^I)+T[7]+4139469664&4294967295,D=M+(C<<16&4294967295|C>>>16),C=I+(D^M^b)+T[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=b+(I^D^M)+T[13]+681279174&4294967295,b=I+(C<<4&4294967295|C>>>28),C=M+(b^I^D)+T[0]+3936430074&4294967295,M=b+(C<<11&4294967295|C>>>21),C=D+(M^b^I)+T[3]+3572445317&4294967295,D=M+(C<<16&4294967295|C>>>16),C=I+(D^M^b)+T[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=b+(I^D^M)+T[9]+3654602809&4294967295,b=I+(C<<4&4294967295|C>>>28),C=M+(b^I^D)+T[12]+3873151461&4294967295,M=b+(C<<11&4294967295|C>>>21),C=D+(M^b^I)+T[15]+530742520&4294967295,D=M+(C<<16&4294967295|C>>>16),C=I+(D^M^b)+T[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=b+(D^(I|~M))+T[0]+4096336452&4294967295,b=I+(C<<6&4294967295|C>>>26),C=M+(I^(b|~D))+T[7]+1126891415&4294967295,M=b+(C<<10&4294967295|C>>>22),C=D+(b^(M|~I))+T[14]+2878612391&4294967295,D=M+(C<<15&4294967295|C>>>17),C=I+(M^(D|~b))+T[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=b+(D^(I|~M))+T[12]+1700485571&4294967295,b=I+(C<<6&4294967295|C>>>26),C=M+(I^(b|~D))+T[3]+2399980690&4294967295,M=b+(C<<10&4294967295|C>>>22),C=D+(b^(M|~I))+T[10]+4293915773&4294967295,D=M+(C<<15&4294967295|C>>>17),C=I+(M^(D|~b))+T[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=b+(D^(I|~M))+T[8]+1873313359&4294967295,b=I+(C<<6&4294967295|C>>>26),C=M+(I^(b|~D))+T[15]+4264355552&4294967295,M=b+(C<<10&4294967295|C>>>22),C=D+(b^(M|~I))+T[6]+2734768916&4294967295,D=M+(C<<15&4294967295|C>>>17),C=I+(M^(D|~b))+T[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=b+(D^(I|~M))+T[4]+4149444226&4294967295,b=I+(C<<6&4294967295|C>>>26),C=M+(I^(b|~D))+T[11]+3174756917&4294967295,M=b+(C<<10&4294967295|C>>>22),C=D+(b^(M|~I))+T[2]+718787259&4294967295,D=M+(C<<15&4294967295|C>>>17),C=I+(M^(D|~b))+T[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+M&4294967295}r.prototype.v=function(x,b){b===void 0&&(b=x.length);let I=b-this.blockSize,T=this.C,D=this.h,M=0;for(;M<b;){if(D==0)for(;M<=I;)i(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<b;)if(T[D++]=x.charCodeAt(M++),D==this.blockSize){i(this,T),D=0;break}}else for(;M<b;)if(T[D++]=x[M++],D==this.blockSize){i(this,T),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;b=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=b&255,b/=256;for(this.v(x),x=Array(16),b=0,I=0;I<4;++I)for(let T=0;T<32;T+=8)x[b++]=this.g[I]>>>T&255;return x};function o(x,b){var I=c;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=b(x)}function s(x,b){this.h=b;let I=[],T=!0;for(let D=x.length-1;D>=0;D--){let M=x[D]|0;T&&M==b||(I[D]=M,T=!1)}this.g=I}var c={};function l(x){return-128<=x&&x<128?o(x,function(b){return new s([b|0],b<0?-1:0)}):new s([x|0],x<0?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return g;if(x<0)return O(d(-x));let b=[],I=1;for(let T=0;x>=I;T++)b[T]=x/I|0,I*=4294967296;return new s(b,0)}function f(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return O(f(x.substring(1),b));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');let I=d(Math.pow(b,8)),T=g;for(let M=0;M<x.length;M+=8){var D=Math.min(8,x.length-M);let C=parseInt(x.substring(M,M+D),b);D<8?(D=d(Math.pow(b,D)),T=T.j(D).add(d(C))):(T=T.j(I),T=T.add(d(C)))}return T}var g=l(0),w=l(1),E=l(16777216);n=s.prototype,n.m=function(){if(N(this))return-O(this).m();let x=0,b=1;for(let I=0;I<this.g.length;I++){let T=this.i(I);x+=(T>=0?T:4294967296+T)*b,b*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(N(this))return"-"+O(this).toString(x);let b=d(Math.pow(x,6));var I=this;let T="";for(;;){let D=be(I,b).g;I=z(I,D.j(b));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,P(I))return M+T;for(;M.length<6;)M="0"+M;T=M+T}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(let b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function N(x){return x.h==-1}n.l=function(x){return x=z(this,x),N(x)?-1:P(x)?0:1};function O(x){let b=x.g.length,I=[];for(let T=0;T<b;T++)I[T]=~x.g[T];return new s(I,~x.h).add(w)}n.abs=function(){return N(this)?O(this):this},n.add=function(x){let b=Math.max(this.g.length,x.g.length),I=[],T=0;for(let D=0;D<=b;D++){let M=T+(this.i(D)&65535)+(x.i(D)&65535),C=(M>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);T=C>>>16,M&=65535,C&=65535,I[D]=C<<16|M}return new s(I,I[I.length-1]&-2147483648?-1:0)};function z(x,b){return x.add(O(b))}n.j=function(x){if(P(this)||P(x))return g;if(N(this))return N(x)?O(this).j(O(x)):O(O(this).j(x));if(N(x))return O(this.j(O(x)));if(this.l(E)<0&&x.l(E)<0)return d(this.m()*x.m());let b=this.g.length+x.g.length,I=[];for(var T=0;T<2*b;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(let D=0;D<x.g.length;D++){let M=this.i(T)>>>16,C=this.i(T)&65535,Tt=x.i(D)>>>16,cr=x.i(D)&65535;I[2*T+2*D]+=C*cr,ee(I,2*T+2*D),I[2*T+2*D+1]+=M*cr,ee(I,2*T+2*D+1),I[2*T+2*D+1]+=C*Tt,ee(I,2*T+2*D+1),I[2*T+2*D+2]+=M*Tt,ee(I,2*T+2*D+2)}for(x=0;x<b;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=b;x<2*b;x++)I[x]=0;return new s(I,0)};function ee(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function W(x,b){this.g=x,this.h=b}function be(x,b){if(P(b))throw Error("division by zero");if(P(x))return new W(g,g);if(N(x))return b=be(O(x),b),new W(O(b.g),O(b.h));if(N(b))return b=be(x,O(b)),new W(O(b.g),b.h);if(x.g.length>30){if(N(x)||N(b))throw Error("slowDivide_ only works with positive integers.");for(var I=w,T=b;T.l(x)<=0;)I=ke(I),T=ke(T);var D=Ce(I,1),M=Ce(T,1);for(T=Ce(T,2),I=Ce(I,2);!P(T);){var C=M.add(T);C.l(x)<=0&&(D=D.add(I),M=C),T=Ce(T,1),I=Ce(I,1)}return b=z(x,D.j(b)),new W(D,b)}for(D=g;x.l(b)>=0;){for(I=Math.max(1,Math.floor(x.m()/b.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),M=d(I),C=M.j(b);N(C)||C.l(x)>0;)I-=T,M=d(I),C=M.j(b);P(M)&&(M=w),D=D.add(M),x=z(x,C)}return new W(D,x)}n.B=function(x){return be(this,x).h},n.and=function(x){let b=Math.max(this.g.length,x.g.length),I=[];for(let T=0;T<b;T++)I[T]=this.i(T)&x.i(T);return new s(I,this.h&x.h)},n.or=function(x){let b=Math.max(this.g.length,x.g.length),I=[];for(let T=0;T<b;T++)I[T]=this.i(T)|x.i(T);return new s(I,this.h|x.h)},n.xor=function(x){let b=Math.max(this.g.length,x.g.length),I=[];for(let T=0;T<b;T++)I[T]=this.i(T)^x.i(T);return new s(I,this.h^x.h)};function ke(x){let b=x.g.length+1,I=[];for(let T=0;T<b;T++)I[T]=x.i(T)<<1|x.i(T-1)>>>31;return new s(I,x.h)}function Ce(x,b){let I=b>>5;b%=32;let T=x.g.length-I,D=[];for(let M=0;M<T;M++)D[M]=b>0?x.i(M+I)>>>b|x.i(M+I+1)<<32-b:x.i(M+I);return new s(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Bf=Pb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,Zn=Pb.Integer=s}).apply(typeof Ab<"u"?Ab:typeof self<"u"?self:typeof window<"u"?window:{});var yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},er={};var Uf,lR,ao,$f,Fs,vl,zf,Hf,qf;(function(){var n,e=Object.defineProperty;function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof yl=="object"&&yl];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,u){if(u)e:{var h=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var S=a[v];if(!(S in h))break e;h=h[S]}a=a[a.length-1],v=h[a],u=u(v),u!=v&&u!=null&&e(h,a,{configurable:!0,writable:!0,value:u})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(u){var h=[],v;for(v in u)Object.prototype.hasOwnProperty.call(u,v)&&h.push([v,u[v]]);return h}});var o=o||{},s=this||self;function c(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function l(a,u,h){return a.call.apply(a.bind,arguments)}function d(a,u,h){return d=l,d.apply(null,arguments)}function f(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var v=h.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function g(a,u){function h(){}h.prototype=u.prototype,a.Z=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Ob=function(v,S,A){for(var U=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)U[ce-2]=arguments[ce];return u.prototype[S].apply(v,U)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function E(a){let u=a.length;if(u>0){let h=Array(u);for(let v=0;v<u;v++)h[v]=a[v];return h}return[]}function P(a,u){for(let v=1;v<arguments.length;v++){let S=arguments[v];var h=typeof S;if(h=h!="object"?h:S?Array.isArray(S)?"array":h:"null",h=="array"||h=="object"&&typeof S.length=="number"){h=a.length||0;let A=S.length||0;a.length=h+A;for(let U=0;U<A;U++)a[h+U]=S[U]}else a.push(S)}}class N{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function O(a){s.setTimeout(()=>{throw a},0)}function z(){var a=x;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class ee{constructor(){this.h=this.g=null}add(u,h){let v=W.get();v.set(u,h),this.h?this.h.next=v:this.g=v,this.h=v}}var W=new N(()=>new be,a=>a.reset());class be{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,Ce=!1,x=new ee,b=()=>{let a=Promise.resolve(void 0);ke=()=>{a.then(I)}};function I(){for(var a;a=z();){try{a.h.call(a.g)}catch(h){O(h)}var u=W;u.j(a),u.h<100&&(u.h++,a.next=u.g,u.g=a)}Ce=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};s.addEventListener("test",h,u),s.removeEventListener("test",h,u)}catch{}return a}();function C(a){return/^[\s\xa0]*$/.test(a)}function Tt(a,u){D.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,u)}g(Tt,D),Tt.prototype.init=function(a,u){let h=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget,u||(h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement)),this.relatedTarget=u,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Tt.Z.h.call(this)},Tt.prototype.h=function(){Tt.Z.h.call(this);let a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var cr="closure_listenable_"+(Math.random()*1e6|0),iI=0;function oI(a,u,h,v,S){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!v,this.ha=S,this.key=++iI,this.da=this.fa=!1}function ia(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function oa(a,u,h){for(let v in a)u.call(h,a[v],v,a)}function sI(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function sg(a){let u={};for(let h in a)u[h]=a[h];return u}let ag="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cg(a,u){let h,v;for(let S=1;S<arguments.length;S++){v=arguments[S];for(h in v)a[h]=v[h];for(let A=0;A<ag.length;A++)h=ag[A],Object.prototype.hasOwnProperty.call(v,h)&&(a[h]=v[h])}}function sa(a){this.src=a,this.g={},this.h=0}sa.prototype.add=function(a,u,h,v,S){let A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);let U=fu(a,u,v,S);return U>-1?(u=a[U],h||(u.fa=!1)):(u=new oI(u,this.src,A,!!v,S),u.fa=h,a.push(u)),u};function hu(a,u){let h=u.type;if(h in a.g){var v=a.g[h],S=Array.prototype.indexOf.call(v,u,void 0),A;(A=S>=0)&&Array.prototype.splice.call(v,S,1),A&&(ia(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function fu(a,u,h,v){for(let S=0;S<a.length;++S){let A=a[S];if(!A.da&&A.listener==u&&A.capture==!!h&&A.ha==v)return S}return-1}var pu="closure_lm_"+(Math.random()*1e6|0),mu={};function lg(a,u,h,v,S){if(v&&v.once)return dg(a,u,h,v,S);if(Array.isArray(u)){for(let A=0;A<u.length;A++)lg(a,u[A],h,v,S);return null}return h=_u(h),a&&a[cr]?a.J(u,h,c(v)?!!v.capture:!!v,S):ug(a,u,h,!1,v,S)}function ug(a,u,h,v,S,A){if(!u)throw Error("Invalid event type");let U=c(S)?!!S.capture:!!S,ce=yu(a);if(ce||(a[pu]=ce=new sa(a)),h=ce.add(u,h,v,U,A),h.proxy)return h;if(v=aI(),h.proxy=v,v.src=a,v.listener=h,a.addEventListener)M||(S=U),S===void 0&&(S=!1),a.addEventListener(u.toString(),v,S);else if(a.attachEvent)a.attachEvent(fg(u.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return h}function aI(){function a(h){return u.call(a.src,a.listener,h)}let u=cI;return a}function dg(a,u,h,v,S){if(Array.isArray(u)){for(let A=0;A<u.length;A++)dg(a,u[A],h,v,S);return null}return h=_u(h),a&&a[cr]?a.K(u,h,c(v)?!!v.capture:!!v,S):ug(a,u,h,!0,v,S)}function hg(a,u,h,v,S){if(Array.isArray(u))for(var A=0;A<u.length;A++)hg(a,u[A],h,v,S);else v=c(v)?!!v.capture:!!v,h=_u(h),a&&a[cr]?(a=a.i,A=String(u).toString(),A in a.g&&(u=a.g[A],h=fu(u,h,v,S),h>-1&&(ia(u[h]),Array.prototype.splice.call(u,h,1),u.length==0&&(delete a.g[A],a.h--)))):a&&(a=yu(a))&&(u=a.g[u.toString()],a=-1,u&&(a=fu(u,h,v,S)),(h=a>-1?u[a]:null)&&gu(h))}function gu(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[cr])hu(u.i,a);else{var h=a.type,v=a.proxy;u.removeEventListener?u.removeEventListener(h,v,a.capture):u.detachEvent?u.detachEvent(fg(h),v):u.addListener&&u.removeListener&&u.removeListener(v),(h=yu(u))?(hu(h,a),h.h==0&&(h.src=null,u[pu]=null)):ia(a)}}}function fg(a){return a in mu?mu[a]:mu[a]="on"+a}function cI(a,u){if(a.da)a=!0;else{u=new Tt(u,this);let h=a.listener,v=a.ha||a.src;a.fa&&gu(a),a=h.call(v,u)}return a}function yu(a){return a=a[pu],a instanceof sa?a:null}var vu="__closure_events_fn_"+(Math.random()*1e9>>>0);function _u(a){return typeof a=="function"?a:(a[vu]||(a[vu]=function(u){return a.handleEvent(u)}),a[vu])}function ht(){T.call(this),this.i=new sa(this),this.M=this,this.G=null}g(ht,T),ht.prototype[cr]=!0,ht.prototype.removeEventListener=function(a,u,h,v){hg(this,a,u,h,v)};function bt(a,u){var h,v=a.G;if(v)for(h=[];v;v=v.G)h.push(v);if(a=a.M,v=u.type||u,typeof u=="string")u=new D(u,a);else if(u instanceof D)u.target=u.target||a;else{var S=u;u=new D(v,a),cg(u,S)}S=!0;let A,U;if(h)for(U=h.length-1;U>=0;U--)A=u.g=h[U],S=aa(A,v,!0,u)&&S;if(A=u.g=a,S=aa(A,v,!0,u)&&S,S=aa(A,v,!1,u)&&S,h)for(U=0;U<h.length;U++)A=u.g=h[U],S=aa(A,v,!1,u)&&S}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var a=this.i;for(let u in a.g){let h=a.g[u];for(let v=0;v<h.length;v++)ia(h[v]);delete a.g[u],a.h--}}this.G=null},ht.prototype.J=function(a,u,h,v){return this.i.add(String(a),u,!1,h,v)},ht.prototype.K=function(a,u,h,v){return this.i.add(String(a),u,!0,h,v)};function aa(a,u,h,v){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();let S=!0;for(let A=0;A<u.length;++A){let U=u[A];if(U&&!U.da&&U.capture==h){let ce=U.listener,nt=U.ha||U.src;U.fa&&hu(a.i,U),S=ce.call(nt,v)!==!1&&S}}return S&&!v.defaultPrevented}function lI(a,u){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:s.setTimeout(a,u||0)}function pg(a){a.g=lI(()=>{a.g=null,a.i&&(a.i=!1,pg(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class uI extends T{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:pg(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ro(a){T.call(this),this.h=a,this.g={}}g(Ro,T);var mg=[];function gg(a){oa(a.g,function(u,h){this.g.hasOwnProperty(h)&&gu(u)},a),a.g={}}Ro.prototype.N=function(){Ro.Z.N.call(this),gg(this)},Ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wu=s.JSON.stringify,dI=s.JSON.parse,hI=class{stringify(a){return s.JSON.stringify(a,void 0)}parse(a){return s.JSON.parse(a,void 0)}};function yg(){}function vg(){}var ko={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bu(){D.call(this,"d")}g(bu,D);function Eu(){D.call(this,"c")}g(Eu,D);var $r={},_g=null;function ca(){return _g=_g||new ht}$r.Ia="serverreachability";function wg(a){D.call(this,$r.Ia,a)}g(wg,D);function Fo(a){let u=ca();bt(u,new wg(u))}$r.STAT_EVENT="statevent";function bg(a,u){D.call(this,$r.STAT_EVENT,a),this.stat=u}g(bg,D);function Et(a){let u=ca();bt(u,new bg(u,a))}$r.Ja="timingevent";function Eg(a,u){D.call(this,$r.Ja,a),this.size=u}g(Eg,D);function Vo(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){a()},u)}function Lo(){this.g=!0}Lo.prototype.ua=function(){this.g=!1};function fI(a,u,h,v,S,A){a.info(function(){if(a.g)if(A){var U="",ce=A.split("&");for(let Pe=0;Pe<ce.length;Pe++){var nt=ce[Pe].split("=");if(nt.length>1){let ot=nt[0];nt=nt[1];let vn=ot.split("_");U=vn.length>=2&&vn[1]=="type"?U+(ot+"="+nt+"&"):U+(ot+"=redacted&")}}}else U=null;else U=A;return"XMLHTTP REQ ("+v+") [attempt "+S+"]: "+u+`
`+h+`
`+U})}function pI(a,u,h,v,S,A,U){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+S+"]: "+u+`
`+h+`
`+A+" "+U})}function Mi(a,u,h,v){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+gI(a,h)+(v?" "+v:"")})}function mI(a,u){a.info(function(){return"TIMEOUT: "+u})}Lo.prototype.info=function(){};function gI(a,u){if(!a.g)return u;if(!u)return null;try{let A=JSON.parse(u);if(A){for(a=0;a<A.length;a++)if(Array.isArray(A[a])){var h=A[a];if(!(h.length<2)){var v=h[1];if(Array.isArray(v)&&!(v.length<1)){var S=v[0];if(S!="noop"&&S!="stop"&&S!="close")for(let U=1;U<v.length;U++)v[U]=""}}}}return wu(A)}catch{return u}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ig;function Cu(){}g(Cu,yg),Cu.prototype.g=function(){return new XMLHttpRequest},Ig=new Cu;function jo(a){return encodeURIComponent(String(a))}function yI(a){var u=1;a=a.split(":");let h=[];for(;u>0&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function lr(a,u,h,v){this.j=a,this.i=u,this.l=h,this.S=v||1,this.V=new Ro(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dg}function Dg(){this.i=null,this.g="",this.h=!1}var xg={},Iu={};function Du(a,u,h){a.M=1,a.A=da(yn(u)),a.u=h,a.R=!0,Tg(a,null)}function Tg(a,u){a.F=Date.now(),ua(a),a.B=yn(a.A);var h=a.B,v=a.S;Array.isArray(v)||(v=[String(v)]),Bg(h.i,"t",v),a.C=0,h=a.j.L,a.h=new Dg,a.g=iy(a.j,h?u:null,!a.u),a.P>0&&(a.O=new uI(d(a.Y,a,a.g),a.P)),u=a.V,h=a.g,v=a.ba;var S="readystatechange";Array.isArray(S)||(S&&(mg[0]=S.toString()),S=mg);for(let A=0;A<S.length;A++){let U=lg(h,S[A],v||u.handleEvent,!1,u.h||u);if(!U)break;u.g[U.key]=U}u=a.J?sg(a.J):{},a.u?(a.v||(a.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,u)):(a.v="GET",a.g.ea(a.B,a.v,null,u)),Fo(),fI(a.i,a.v,a.B,a.l,a.S,a.u)}lr.prototype.ba=function(a){a=a.target;let u=this.O;u&&hr(a)==3?u.j():this.Y(a)},lr.prototype.Y=function(a){try{if(a==this.g)e:{let ce=hr(this.g),nt=this.g.ya(),Pe=this.g.ca();if(!(ce<3)&&(ce!=3||this.g&&(this.h.h||this.g.la()||Wg(this.g)))){this.K||ce!=4||nt==7||(nt==8||Pe<=0?Fo(3):Fo(2)),xu(this);var u=this.g.ca();this.X=u;var h=vI(this);if(this.o=u==200,pI(this.i,this.v,this.B,this.l,this.S,ce,u),this.o){if(this.U&&!this.L){t:{if(this.g){var v,S=this.g;if((v=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(v)){var A=v;break t}}A=null}if(a=A)Mi(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tu(this,a);else{this.o=!1,this.m=3,Et(12),zr(this),Bo(this);break e}}if(this.R){a=!0;let ot;for(;!this.K&&this.C<h.length;)if(ot=_I(this,h),ot==Iu){ce==4&&(this.m=4,Et(14),a=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==xg){this.m=4,Et(15),Mi(this.i,this.l,h,"[Invalid Chunk]"),a=!1;break}else Mi(this.i,this.l,ot,null),Tu(this,ot);if(Sg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ce!=4||h.length!=0||this.h.h||(this.m=1,Et(16),a=!1),this.o=this.o&&a,!a)Mi(this.i,this.l,h,"[Invalid Chunked Response]"),zr(this),Bo(this);else if(h.length>0&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.aa&&!U.P&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),Ru(U),U.P=!0,Et(11))}}else Mi(this.i,this.l,h,null),Tu(this,h);ce==4&&zr(this),this.o&&!this.K&&(ce==4?ey(this.j,this):(this.o=!1,ua(this)))}else OI(this.g),u==400&&h.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),zr(this),Bo(this)}}}catch{}finally{}};function vI(a){if(!Sg(a))return a.g.la();let u=Wg(a.g);if(u==="")return"";let h="",v=u.length,S=hr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return zr(a),Bo(a),"";a.h.i=new s.TextDecoder}for(let A=0;A<v;A++)a.h.h=!0,h+=a.h.i.decode(u[A],{stream:!(S&&A==v-1)});return u.length=0,a.h.g+=h,a.C=0,a.h.g}function Sg(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function _I(a,u){var h=a.C,v=u.indexOf(`
`,h);return v==-1?Iu:(h=Number(u.substring(h,v)),isNaN(h)?xg:(v+=1,v+h>u.length?Iu:(u=u.slice(v,v+h),a.C=v+h,u)))}lr.prototype.cancel=function(){this.K=!0,zr(this)};function ua(a){a.T=Date.now()+a.H,Mg(a,a.H)}function Mg(a,u){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Vo(d(a.aa,a),u)}function xu(a){a.D&&(s.clearTimeout(a.D),a.D=null)}lr.prototype.aa=function(){this.D=null;let a=Date.now();a-this.T>=0?(mI(this.i,this.B),this.M!=2&&(Fo(),Et(17)),zr(this),this.m=2,Bo(this)):Mg(this,this.T-a)};function Bo(a){a.j.I==0||a.K||ey(a.j,a)}function zr(a){xu(a);var u=a.O;u&&typeof u.dispose=="function"&&u.dispose(),a.O=null,gg(a.V),a.g&&(u=a.g,a.g=null,u.abort(),u.dispose())}function Tu(a,u){try{var h=a.j;if(h.I!=0&&(h.g==a||Su(h.h,a))){if(!a.L&&Su(h.h,a)&&h.I==3){try{var v=h.Ba.g.parse(u)}catch{v=null}if(Array.isArray(v)&&v.length==3){var S=v;if(S[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<a.F)ya(h),ma(h);else break e;Ou(h),Et(18)}}else h.xa=S[1],0<h.xa-h.K&&S[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=Vo(d(h.Va,h),6e3));Ng(h.h)<=1&&h.ta&&(h.ta=void 0)}else qr(h,11)}else if((a.L||h.g==a)&&ya(h),!C(u))for(S=h.Ba.g.parse(u),u=0;u<S.length;u++){let Pe=S[u],ot=Pe[0];if(!(ot<=h.K))if(h.K=ot,Pe=Pe[1],h.I==2)if(Pe[0]=="c"){h.M=Pe[1],h.ba=Pe[2];let vn=Pe[3];vn!=null&&(h.ka=vn,h.j.info("VER="+h.ka));let Gr=Pe[4];Gr!=null&&(h.za=Gr,h.j.info("SVER="+h.za));let fr=Pe[5];fr!=null&&typeof fr=="number"&&fr>0&&(v=1.5*fr,h.O=v,h.j.info("backChannelRequestTimeoutMs_="+v)),v=h;let pr=a.g;if(pr){let _a=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var A=v.h;A.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Mu(A,A.h),A.h=null))}if(v.G){let ku=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(v.wa=ku,Le(v.J,v.G,ku))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-a.F,h.j.info("Handshake RTT: "+h.T+"ms")),v=h;var U=a;if(v.na=ry(v,v.L?v.ba:null,v.W),U.L){Og(v.h,U);var ce=U,nt=v.O;nt&&(ce.H=nt),ce.D&&(xu(ce),ua(ce)),v.g=U}else Xg(v);h.i.length>0&&ga(h)}else Pe[0]!="stop"&&Pe[0]!="close"||qr(h,7);else h.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?qr(h,7):Nu(h):Pe[0]!="noop"&&h.l&&h.l.qa(Pe),h.A=0)}}Fo(4)}catch{}}var wI=class{constructor(a,u){this.g=a,this.map=u}};function Ag(a){this.l=a||10,s.PerformanceNavigationTiming?(a=s.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ng(a){return a.h?1:a.g?a.g.size:0}function Su(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Mu(a,u){a.g?a.g.add(u):a.h=u}function Og(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}Ag.prototype.cancel=function(){if(this.i=Rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Rg(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.G);return u}return E(a.i)}var kg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bI(a,u){if(a){a=a.split("&");for(let h=0;h<a.length;h++){let v=a[h].indexOf("="),S,A=null;v>=0?(S=a[h].substring(0,v),A=a[h].substring(v+1)):S=a[h],u(S,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function ur(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;a instanceof ur?(this.l=a.l,Uo(this,a.j),this.o=a.o,this.g=a.g,$o(this,a.u),this.h=a.h,Au(this,Ug(a.i)),this.m=a.m):a&&(u=String(a).match(kg))?(this.l=!1,Uo(this,u[1]||"",!0),this.o=zo(u[2]||""),this.g=zo(u[3]||"",!0),$o(this,u[4]),this.h=zo(u[5]||"",!0),Au(this,u[6]||"",!0),this.m=zo(u[7]||"")):(this.l=!1,this.i=new qo(null,this.l))}ur.prototype.toString=function(){let a=[];var u=this.j;u&&a.push(Ho(u,Fg,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(Ho(u,Fg,!0),"@"),a.push(jo(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&a.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ho(h,h.charAt(0)=="/"?II:CI,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ho(h,xI)),a.join("")},ur.prototype.resolve=function(a){let u=yn(this),h=!!a.j;h?Uo(u,a.j):h=!!a.o,h?u.o=a.o:h=!!a.g,h?u.g=a.g:h=a.u!=null;var v=a.h;if(h)$o(u,a.u);else if(h=!!a.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var S=u.h.lastIndexOf("/");S!=-1&&(v=u.h.slice(0,S+1)+v)}if(S=v,S==".."||S==".")v="";else if(S.indexOf("./")!=-1||S.indexOf("/.")!=-1){v=S.lastIndexOf("/",0)==0,S=S.split("/");let A=[];for(let U=0;U<S.length;){let ce=S[U++];ce=="."?v&&U==S.length&&A.push(""):ce==".."?((A.length>1||A.length==1&&A[0]!="")&&A.pop(),v&&U==S.length&&A.push("")):(A.push(ce),v=!0)}v=A.join("/")}else v=S}return h?u.h=v:h=a.i.toString()!=="",h?Au(u,Ug(a.i)):h=!!a.m,h&&(u.m=a.m),u};function yn(a){return new ur(a)}function Uo(a,u,h){a.j=h?zo(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function $o(a,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);a.u=u}else a.u=null}function Au(a,u,h){u instanceof qo?(a.i=u,TI(a.i,a.l)):(h||(u=Ho(u,DI)),a.i=new qo(u,a.l))}function Le(a,u,h){a.i.set(u,h)}function da(a){return Le(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function zo(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ho(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,EI),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function EI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Fg=/[#\/\?@]/g,CI=/[#\?:]/g,II=/[#\?]/g,DI=/[#\?@]/g,xI=/#/g;function qo(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Hr(a){a.g||(a.g=new Map,a.h=0,a.i&&bI(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}n=qo.prototype,n.add=function(a,u){Hr(this),this.i=null,a=Ai(this,a);let h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function Vg(a,u){Hr(a),u=Ai(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Lg(a,u){return Hr(a),u=Ai(a,u),a.g.has(u)}n.forEach=function(a,u){Hr(this),this.g.forEach(function(h,v){h.forEach(function(S){a.call(u,S,v,this)},this)},this)};function jg(a,u){Hr(a);let h=[];if(typeof u=="string")Lg(a,u)&&(h=h.concat(a.g.get(Ai(a,u))));else for(a=Array.from(a.g.values()),u=0;u<a.length;u++)h=h.concat(a[u]);return h}n.set=function(a,u){return Hr(this),this.i=null,a=Ai(this,a),Lg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},n.get=function(a,u){return a?(a=jg(this,a),a.length>0?String(a[0]):u):u};function Bg(a,u,h){Vg(a,u),h.length>0&&(a.i=null,a.g.set(Ai(a,u),E(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(let v=0;v<u.length;v++){var h=u[v];let S=jo(h);h=jg(this,h);for(let A=0;A<h.length;A++){let U=S;h[A]!==""&&(U+="="+jo(h[A])),a.push(U)}}return this.i=a.join("&")};function Ug(a){let u=new qo;return u.i=a.i,a.g&&(u.g=new Map(a.g),u.h=a.h),u}function Ai(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function TI(a,u){u&&!a.j&&(Hr(a),a.i=null,a.g.forEach(function(h,v){let S=v.toLowerCase();v!=S&&(Vg(this,v),Bg(this,S,h))},a)),a.j=u}function SI(a,u){let h=new Lo;if(s.Image){let v=new Image;v.onload=f(dr,h,"TestLoadImage: loaded",!0,u,v),v.onerror=f(dr,h,"TestLoadImage: error",!1,u,v),v.onabort=f(dr,h,"TestLoadImage: abort",!1,u,v),v.ontimeout=f(dr,h,"TestLoadImage: timeout",!1,u,v),s.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else u(!1)}function MI(a,u){let h=new Lo,v=new AbortController,S=setTimeout(()=>{v.abort(),dr(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:v.signal}).then(A=>{clearTimeout(S),A.ok?dr(h,"TestPingServer: ok",!0,u):dr(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(S),dr(h,"TestPingServer: error",!1,u)})}function dr(a,u,h,v,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),v(h)}catch{}}function AI(){this.g=new hI}function ha(a){this.i=a.Sb||null,this.h=a.ab||!1}g(ha,yg),ha.prototype.g=function(){return new fa(this.i,this.h)};function fa(a,u){ht.call(this),this.H=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(fa,ht),n=fa.prototype,n.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=u,this.readyState=1,Wo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(u.body=a),(this.H||s).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},n.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$g(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function $g(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}n.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Go(this):Wo(this),this.readyState==3&&$g(this)}},n.Oa=function(a){this.g&&(this.response=this.responseText=a,Go(this))},n.Na=function(a){this.g&&(this.response=a,Go(this))},n.ga=function(){this.g&&Go(this)};function Go(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Wo(a)}n.setRequestHeader=function(a,u){this.A.append(a,u)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function Wo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function zg(a){let u="";return oa(a,function(h,v){u+=v,u+=":",u+=h,u+=`\r
`}),u}function Pu(a,u,h){e:{for(v in h){var v=!1;break e}v=!0}v||(h=zg(h),typeof a=="string"?h!=null&&jo(h):Le(a,u,h))}function ze(a){ht.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ze,ht);var PI=/^https?$/i,NI=["POST","PUT"];n=ze.prototype,n.Fa=function(a){this.H=a},n.ea=function(a,u,h,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ig.g(),this.g.onreadystatechange=w(d(this.Ca,this));try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(A){Hg(this,A);return}if(a=h||"",h=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var S in v)h.set(S,v[S]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let A of v.keys())h.set(A,v.get(A));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),S=s.FormData&&a instanceof s.FormData,!(Array.prototype.indexOf.call(NI,u,void 0)>=0)||v||S||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,U]of h)this.g.setRequestHeader(A,U);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(A){Hg(this,A)}};function Hg(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.o=5,qg(a),pa(a)}function qg(a){a.A||(a.A=!0,bt(a,"complete"),bt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,bt(this,"complete"),bt(this,"abort"),pa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),ze.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Gg(this):this.Xa())},n.Xa=function(){Gg(this)};function Gg(a){if(a.h&&typeof o<"u"){if(a.v&&hr(a)==4)setTimeout(a.Ca.bind(a),0);else if(bt(a,"readystatechange"),hr(a)==4){a.h=!1;try{let A=a.ca();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var v;if(v=A===0){let U=String(a.D).match(kg)[1]||null;!U&&s.self&&s.self.location&&(U=s.self.location.protocol.slice(0,-1)),v=!PI.test(U?U.toLowerCase():"")}h=v}if(h)bt(a,"complete"),bt(a,"success");else{a.o=6;try{var S=hr(a)>2?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.ca()+"]",qg(a)}}finally{pa(a)}}}}function pa(a,u){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);let h=a.g;a.g=null,u||bt(a,"ready");try{h.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function hr(a){return a.g?a.g.readyState:0}n.ca=function(){try{return hr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),dI(u)}};function Wg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function OI(a){let u={};a=(a.g&&hr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(C(a[v]))continue;var h=yI(a[v]);let S=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=u[S]||[];u[S]=A,A.push(h)}sI(u,function(v){return v.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function Kg(a){this.za=0,this.i=[],this.j=new Lo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ko("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ko("baseRetryDelayMs",5e3,a),this.Za=Ko("retryDelaySeedMs",1e4,a),this.Ta=Ko("forwardChannelMaxRetries",2,a),this.va=Ko("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Ag(a&&a.concurrentRequestLimit),this.Ba=new AI,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Kg.prototype,n.ka=8,n.I=1,n.connect=function(a,u,h,v){Et(0),this.W=a,this.H=u||{},h&&v!==void 0&&(this.H.OSID=h,this.H.OAID=v),this.F=this.X,this.J=ry(this,null,this.W),ga(this)};function Nu(a){if(Qg(a),a.I==3){var u=a.V++,h=yn(a.J);if(Le(h,"SID",a.M),Le(h,"RID",u),Le(h,"TYPE","terminate"),Qo(a,h),u=new lr(a,a.j,u),u.M=2,u.A=da(yn(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(u.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=u.A,h=!0),h||(u.g=iy(u.j,null),u.g.ea(u.A)),u.F=Date.now(),ua(u)}ny(a)}function ma(a){a.g&&(Ru(a),a.g.cancel(),a.g=null)}function Qg(a){ma(a),a.v&&(s.clearTimeout(a.v),a.v=null),ya(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&s.clearTimeout(a.m),a.m=null)}function ga(a){if(!Pg(a.h)&&!a.m){a.m=!0;var u=a.Ea;ke||b(),Ce||(ke(),Ce=!0),x.add(u,a),a.D=0}}function RI(a,u){return Ng(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=u.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Vo(d(a.Ea,a,u),ty(a,a.D)),a.D++,!0)}n.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;let S=new lr(this,this.j,a),A=this.o;if(this.U&&(A?(A=sg(A),cg(A,this.U)):A=this.U),this.u!==null||this.R||(S.J=A,A=null),this.S)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var v=this.i[h];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(u+=v,u>4096){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=Jg(this,S,u),h=yn(this.J),Le(h,"RID",a),Le(h,"CVER",22),this.G&&Le(h,"X-HTTP-Session-Id",this.G),Qo(this,h),A&&(this.R?u="headers="+jo(zg(A))+"&"+u:this.u&&Pu(h,this.u,A)),Mu(this.h,S),this.Ra&&Le(h,"TYPE","init"),this.S?(Le(h,"$req",u),Le(h,"SID","null"),S.U=!0,Du(S,h,null)):Du(S,h,u),this.I=2}}else this.I==3&&(a?Yg(this,a):this.i.length==0||Pg(this.h)||Yg(this))};function Yg(a,u){var h;u?h=u.l:h=a.V++;let v=yn(a.J);Le(v,"SID",a.M),Le(v,"RID",h),Le(v,"AID",a.K),Qo(a,v),a.u&&a.o&&Pu(v,a.u,a.o),h=new lr(a,a.j,h,a.D+1),a.u===null&&(h.J=a.o),u&&(a.i=u.G.concat(a.i)),u=Jg(a,h,1e3),h.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Mu(a.h,h),Du(h,v,u)}function Qo(a,u){a.H&&oa(a.H,function(h,v){Le(u,v,h)}),a.l&&oa({},function(h,v){Le(u,v,h)})}function Jg(a,u,h){h=Math.min(a.i.length,h);let v=a.l?d(a.l.Ka,a.l,a):null;e:{var S=a.i;let ce=-1;for(;;){let nt=["count="+h];ce==-1?h>0?(ce=S[0].g,nt.push("ofs="+ce)):ce=0:nt.push("ofs="+ce);let Pe=!0;for(let ot=0;ot<h;ot++){var A=S[ot].g;let vn=S[ot].map;if(A-=ce,A<0)ce=Math.max(0,S[ot].g-100),Pe=!1;else try{A="req"+A+"_"||"";try{var U=vn instanceof Map?vn:Object.entries(vn);for(let[Gr,fr]of U){let pr=fr;c(fr)&&(pr=wu(fr)),nt.push(A+Gr+"="+encodeURIComponent(pr))}}catch(Gr){throw nt.push(A+"type="+encodeURIComponent("_badmap")),Gr}}catch{v&&v(vn)}}if(Pe){U=nt.join("&");break e}}U=void 0}return a=a.i.splice(0,h),u.G=a,U}function Xg(a){if(!a.g&&!a.v){a.Y=1;var u=a.Da;ke||b(),Ce||(ke(),Ce=!0),x.add(u,a),a.A=0}}function Ou(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Vo(d(a.Da,a),ty(a,a.A)),a.A++,!0)}n.Da=function(){if(this.v=null,Zg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Vo(d(this.Wa,this),a)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),ma(this),Zg(this))};function Ru(a){a.B!=null&&(s.clearTimeout(a.B),a.B=null)}function Zg(a){a.g=new lr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var u=yn(a.na);Le(u,"RID","rpc"),Le(u,"SID",a.M),Le(u,"AID",a.K),Le(u,"CI",a.F?"0":"1"),!a.F&&a.ia&&Le(u,"TO",a.ia),Le(u,"TYPE","xmlhttp"),Qo(a,u),a.u&&a.o&&Pu(u,a.u,a.o),a.O&&(a.g.H=a.O);var h=a.g;a=a.ba,h.M=1,h.A=da(yn(u)),h.u=null,h.R=!0,Tg(h,a)}n.Va=function(){this.C!=null&&(this.C=null,ma(this),Ou(this),Et(19))};function ya(a){a.C!=null&&(s.clearTimeout(a.C),a.C=null)}function ey(a,u){var h=null;if(a.g==u){ya(a),Ru(a),a.g=null;var v=2}else if(Su(a.h,u))h=u.G,Og(a.h,u),v=1;else return;if(a.I!=0){if(u.o)if(v==1){h=u.u?u.u.length:0,u=Date.now()-u.F;var S=a.D;v=ca(),bt(v,new Eg(v,h)),ga(a)}else Xg(a);else if(S=u.m,S==3||S==0&&u.X>0||!(v==1&&RI(a,u)||v==2&&Ou(a)))switch(h&&h.length>0&&(u=a.h,u.i=u.i.concat(h)),S){case 1:qr(a,5);break;case 4:qr(a,10);break;case 3:qr(a,6);break;default:qr(a,2)}}}function ty(a,u){let h=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(h*=2),h*u}function qr(a,u){if(a.j.info("Error code "+u),u==2){var h=d(a.bb,a),v=a.Ua;let S=!v;v=new ur(v||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Uo(v,"https"),da(v),S?SI(v.toString(),h):MI(v.toString(),h)}else Et(2);a.I=0,a.l&&a.l.pa(u),ny(a),Qg(a)}n.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function ny(a){if(a.I=0,a.ja=[],a.l){let u=Rg(a.h);(u.length!=0||a.i.length!=0)&&(P(a.ja,u),P(a.ja,a.i),a.h.i.length=0,E(a.i),a.i.length=0),a.l.oa()}}function ry(a,u,h){var v=h instanceof ur?yn(h):new ur(h);if(v.g!="")u&&(v.g=u+"."+v.g),$o(v,v.u);else{var S=s.location;v=S.protocol,u=u?u+"."+S.hostname:S.hostname,S=+S.port;let A=new ur(null);v&&Uo(A,v),u&&(A.g=u),S&&$o(A,S),h&&(A.h=h),v=A}return h=a.G,u=a.wa,h&&u&&Le(v,h,u),Le(v,"VER",a.ka),Qo(a,v),v}function iy(a,u,h){if(u&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Aa&&!a.ma?new ze(new ha({ab:h})):new ze(a.ma),u.Fa(a.L),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function oy(){}n=oy.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function va(){}va.prototype.g=function(a,u){return new Rt(a,u)};function Rt(a,u){ht.call(this),this.g=new Kg(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(a?a["X-WebChannel-Client-Profile"]=u.sa:a={"X-WebChannel-Client-Profile":u.sa}),this.g.U=a,(a=u&&u.Qb)&&!C(a)&&(this.g.u=a),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!C(u)&&(this.g.G=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Pi(this)}g(Rt,ht),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){Nu(this.g)},Rt.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.v&&(h={},h.__data__=wu(a),a=h);u.i.push(new wI(u.Ya++,a)),u.I==3&&ga(u)},Rt.prototype.N=function(){this.g.l=null,delete this.j,Nu(this.g),delete this.g,Rt.Z.N.call(this)};function sy(a){bu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let h in u){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}g(sy,bu);function ay(){Eu.call(this),this.status=1}g(ay,Eu);function Pi(a){this.g=a}g(Pi,oy),Pi.prototype.ra=function(){bt(this.g,"a")},Pi.prototype.qa=function(a){bt(this.g,new sy(a))},Pi.prototype.pa=function(a){bt(this.g,new ay)},Pi.prototype.oa=function(){bt(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,qf=er.createWebChannelTransport=function(){return new va},Hf=er.getStatEventTarget=function(){return ca()},zf=er.Event=$r,vl=er.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Fs=er.ErrorCode=la,Cg.COMPLETE="complete",$f=er.EventType=Cg,vg.EventType=ko,ko.OPEN="a",ko.CLOSE="b",ko.ERROR="c",ko.MESSAGE="d",ht.prototype.listen=ht.prototype.J,ao=er.WebChannel=vg,lR=er.FetchXmlHttpFactory=ha,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,Uf=er.XhrIo=ze}).apply(typeof yl<"u"?yl:typeof self<"u"?self:typeof window<"u"?window:{});var Nb="@firebase/firestore",Ob="4.9.2";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var Ao="12.3.0";var wi=new so("@firebase/firestore");function co(){return wi.logLevel}function q(n,...e){if(wi.logLevel<=_e.DEBUG){let t=e.map(Fm);wi.debug(`Firestore (${Ao}): ${n}`,...t)}}function nr(n,...e){if(wi.logLevel<=_e.ERROR){let t=e.map(Fm);wi.error(`Firestore (${Ao}): ${n}`,...t)}}function yo(n,...e){if(wi.logLevel<=_e.WARN){let t=e.map(Fm);wi.warn(`Firestore (${Ao}): ${n}`,...t)}}function Fm(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,IE(n,r,t)}function IE(n,e,t){let r=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw nr(r),new Error(r)}function Se(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||IE(e,i,r)}function oe(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Dl=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(at.UNAUTHENTICATED))}shutdown(){}},Xf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Zf=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Se(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>L(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Dl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new at(e)}},ep=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},tp=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ep(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xl=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},np=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Db(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xl(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Se(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function uR(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var zs=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=uR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function rp(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return Gf(i)===Gf(o)?pe(i,o):Gf(i)?1:-1}return pe(n.length,e.length)}var dR=55296,hR=57343;function Gf(n){let e=n.charCodeAt(0);return e>=dR&&e<=hR}function vo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Rb="__name__",Tl=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zn.fromString(e.substring(4,e.length-2))}},Ue=class n extends Tl{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},fR=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ht=class n extends Tl{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return fR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rb}static keyField(){return new n([Rb])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ue.fromString(e))}static fromName(e){return new n(Ue.fromString(e).popFirst(5))}static empty(){return new n(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ue(e.slice()))}};function DE(n,e,t){if(!t)throw new H(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pR(n,e,t,r){if(e===!0&&r===!0)throw new H(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kb(n){if(!Y.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Fb(n){if(Y.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function iu(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z(12329,{type:typeof n})}function Ls(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=iu(n);throw new H(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function mR(n,e){if(e<=0)throw new H(k.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function et(n,e){let t={typeString:n};return e&&(t.value=e),t}function ta(n,e){if(!xE(n))throw new H(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(k.INVALID_ARGUMENT,t);return!0}var Vb=-62135596800,Lb=1e6,tt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Lb);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Vb)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lb}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ta(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Vb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:et("string",tt._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};var se=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new tt(0,0))}static max(){return new n(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hs=-1,ip=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ip.UNKNOWN_ID=-1;function gR(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new bi(i,Y.empty(),e)}function yR(n){return new bi(n.readTime,n.key,Hs)}var bi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),Y.empty(),Hs)}static max(){return new n(se.max(),Y.empty(),Hs)}};function vR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var _R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",op=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Po(n){return L(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==_R)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let d=l;t(e[d]).next(f=>{s[d]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function wR(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function No(n){return n.name==="IndexedDbTransactionError"}var Vm=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),Lm=-1;function ou(n){return n==null}function qs(n){return n===0&&1/n==-1/0}function bR(n){return typeof n=="number"&&Number.isInteger(n)&&!qs(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var TE="";function ER(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jb(e)),e=CR(n.get(t),e);return jb(e)}function CR(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case TE:t+="";break;default:t+=o}}return t}function jb(n){return n+TE+""}var IR="remoteDocuments",SE="owner";var ME="mutationQueues";var AE="mutations";var PE="documentMutations",DR="remoteDocumentsV14";var NE="remoteDocumentGlobal";var OE="targets";var RE="targetDocuments";var kE="targetGlobal",FE="collectionParents";var VE="clientMetadata";var LE="bundles";var jE="namedQueries";var xR="indexConfiguration";var TR="indexState";var SR="indexEntries";var BE="documentOverlays";var MR="globals";var AR=[ME,AE,PE,IR,OE,SE,kE,RE,VE,NE,FE,LE,jE],I5=[...AR,BE],PR=[ME,AE,PE,DR,OE,SE,kE,RE,VE,NE,FE,LE,jE,BE],NR=PR,OR=[...NR,xR,TR,SR];var D5=[...OR,MR];function Bb(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ti(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UE(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||Mn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fo(this.root,e,this.comparator,!0)}},fo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}};Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sl(this.data.getIterator())}getIteratorFrom(e){return new Sl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Sl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sn=class n{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new n([])}unionWith(e){let t=new ct(Ht.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ml=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ml("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var RR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(n){if(Se(!!n,39018),typeof n=="string"){let e=0,t=RR.exec(n);if(Se(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(n.seconds),nanos:Be(n.nanos)}}function Be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ir(n){return typeof n=="string"?wt.fromBase64String(n):wt.fromUint8Array(n)}var $E="server_timestamp",zE="__type__",HE="__previous_value__",qE="__local_write_time__";function jm(n){return(n?.mapValue?.fields||{})[zE]?.stringValue===$E}function su(n){let e=n.mapValue.fields[HE];return jm(e)?su(e):e}function Gs(n){let e=rr(n.mapValue.fields[qE].timestampValue);return new tt(e.seconds,e.nanos)}var sp=class{constructor(e,t,r,i,o,s,c,l,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=f}},Al="(default)",Pl=class n{constructor(e,t){this.projectId=e,this.database=t||Al}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Al}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Bm="__type__",GE="__max__",_l={mapValue:{fields:{__type__:{stringValue:GE}}}},Um="__vector__",_o="value";function Vr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jm(n)?4:KE(n)?9007199254740991:WE(n)?10:11:Z(28295,{value:n})}function Nn(n,e){if(n===e)return!0;let t=Vr(n);if(t!==Vr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gs(n).isEqual(Gs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=rr(i.timestampValue),c=rr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ir(i.bytesValue).isEqual(ir(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Be(i.geoPointValue.latitude)===Be(o.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Be(i.integerValue)===Be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Be(i.doubleValue),c=Be(o.doubleValue);return s===c?qs(s)===qs(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return vo(n.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Bb(s)!==Bb(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!Nn(s[l],c[l])))return!1;return!0}(n,e);default:return Z(52216,{left:n})}}function Ws(n,e){return(n.values||[]).find(t=>Nn(t,e))!==void 0}function wo(n,e){if(n===e)return 0;let t=Vr(n),r=Vr(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Be(o.integerValue||o.doubleValue),l=Be(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return Ub(n.timestampValue,e.timestampValue);case 4:return Ub(Gs(n),Gs(e));case 5:return rp(n.stringValue,e.stringValue);case 6:return function(o,s){let c=ir(o),l=ir(s);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let d=0;d<c.length&&d<l.length;d++){let f=pe(c[d],l[d]);if(f!==0)return f}return pe(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=pe(Be(o.latitude),Be(s.latitude));return c!==0?c:pe(Be(o.longitude),Be(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $b(n.arrayValue,e.arrayValue);case 10:return function(o,s){let c=o.fields||{},l=s.fields||{},d=c[_o]?.arrayValue,f=l[_o]?.arrayValue,g=pe(d?.values?.length||0,f?.values?.length||0);return g!==0?g:$b(d,f)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===_l.mapValue&&s===_l.mapValue)return 0;if(o===_l.mapValue)return 1;if(s===_l.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let g=0;g<l.length&&g<f.length;++g){let w=rp(l[g],f[g]);if(w!==0)return w;let E=wo(c[l[g]],d[f[g]]);if(E!==0)return E}return pe(l.length,f.length)}(n.mapValue,e.mapValue);default:throw Z(23264,{he:t})}}function Ub(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=rr(n),r=rr(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function $b(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=wo(t[i],r[i]);if(o)return o}return pe(t.length,r.length)}function bo(n){return ap(n)}function ap(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=rr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ir(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Y.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ap(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ap(t.fields[s])}`;return i+"}"}(n.mapValue):Z(61005,{value:n})}function El(n){switch(Vr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=su(n);return e?16+El(e):16;case 5:return 2*n.stringValue.length;case 6:return ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+El(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ti(r.fields,(o,s)=>{i+=o.length+El(s)}),i}(n.mapValue);default:throw Z(13486,{value:n})}}function zb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cp(n){return!!n&&"integerValue"in n}function $m(n){return!!n&&"arrayValue"in n}function Hb(n){return!!n&&"nullValue"in n}function qb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cl(n){return!!n&&"mapValue"in n}function WE(n){return(n?.mapValue?.fields||{})[Bm]?.stringValue===Um}function js(n){if(n.geoPointValue)return{geoPointValue:X({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:X({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ti(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=js(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=js(n.arrayValue.values[t]);return e}return X({},n)}function KE(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GE}var T5={mapValue:{fields:{[Bm]:{stringValue:Um},[_o]:{arrayValue:{}}}}};var pn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=js(t)}setAll(e){let t=Ht.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=js(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Cl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Cl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ti(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(js(this.value))}};function QE(n){let e=[];return Ti(n.fields,(t,r)=>{let i=new Ht([t]);if(Cl(r)){let o=QE(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}var mn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),pn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Eo=class{constructor(e,t){this.position=e,this.inclusive=t}};function Gb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=wo(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nn(n.position[t],e.position[t]))return!1;return!0}var Ei=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function kR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Nl=class{},Ze=class n extends Nl{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new up(e,t,r):t==="array-contains"?new fp(e,r):t==="in"?new pp(e,r):t==="not-in"?new mp(e,r):t==="array-contains-any"?new gp(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dp(e,r):new hp(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wo(t,this.value)):t!==null&&Vr(this.value)===Vr(t)&&this.matchesComparison(wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class n extends Nl{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return YE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function YE(n){return n.op==="and"}function JE(n){return FR(n)&&YE(n)}function FR(n){for(let e of n.filters)if(e instanceof gn)return!1;return!0}function lp(n){if(n instanceof Ze)return n.field.canonicalString()+n.op.toString()+bo(n.value);if(JE(n))return n.filters.map(e=>lp(e)).join(",");{let e=n.filters.map(t=>lp(t)).join(",");return`${n.op}(${e})`}}function XE(n,e){return n instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(n,e):n instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&XE(s,i.filters[c]),!0):!1}(n,e):void Z(19439)}function ZE(n){return n instanceof Ze?function(t){return`${t.field.canonicalString()} ${t.op} ${bo(t.value)}`}(n):n instanceof gn?function(t){return t.op.toString()+" {"+t.getFilters().map(ZE).join(" ,")+"}"}(n):"Filter"}var up=class extends Ze{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},dp=class extends Ze{constructor(e,t){super(e,"in",t),this.keys=eC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hp=class extends Ze{constructor(e,t){super(e,"not-in",t),this.keys=eC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function eC(n,e){return(e.arrayValue?.values||[]).map(t=>Y.fromName(t.referenceValue))}var fp=class extends Ze{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return $m(t)&&Ws(t.arrayValue,this.value)}},pp=class extends Ze{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ws(this.value.arrayValue,t)}},mp=class extends Ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ws(this.value.arrayValue,t)}},gp=class extends Ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!$m(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ws(this.value.arrayValue,r))}};var yp=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Te=null}};function Kb(n,e=null,t=[],r=[],i=null,o=null,s=null){return new yp(n,e,t,r,i,o,s)}function zm(n){let e=oe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ou(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bo(r)).join(",")),e.Te=t}return e.Te}function Hm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wb(n.startAt,e.startAt)&&Wb(n.endAt,e.endAt)}function vp(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Lr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function VR(n,e,t,r,i,o,s,c){return new Lr(n,e,t,r,i,o,s,c)}function qm(n){return new Lr(n)}function Qb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tC(n){return n.collectionGroup!==null}function Bs(n){let e=oe(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new ct(Ht.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ei(o,r))}),t.has(Ht.keyField().canonicalString())||e.Ie.push(new Ei(Ht.keyField(),r))}return e.Ie}function An(n){let e=oe(n);return e.Ee||(e.Ee=LR(e,Bs(n))),e.Ee}function LR(n,e){if(n.limitType==="F")return Kb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ei(i.field,o)});let t=n.endAt?new Eo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eo(n.startAt.position,n.startAt.inclusive):null;return Kb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _p(n,e){let t=n.filters.concat([e]);return new Lr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ol(n,e,t){return new Lr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function au(n,e){return Hm(An(n),An(e))&&n.limitType===e.limitType}function nC(n){return`${zm(An(n))}|lt:${n.limitType}`}function lo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ZE(i)).join(", ")}]`),ou(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>bo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>bo(i)).join(",")),`Target(${r})`}(An(n))}; limitType=${n.limitType})`}function cu(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Bs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,l){let d=Gb(s,c,l);return s.inclusive?d<=0:d<0}(r.startAt,Bs(r),i)||r.endAt&&!function(s,c,l){let d=Gb(s,c,l);return s.inclusive?d>=0:d>0}(r.endAt,Bs(r),i))}(n,e)}function jR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rC(n){return(e,t)=>{let r=!1;for(let i of Bs(n)){let o=BR(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function BR(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(o,s,c){let l=s.data.field(o),d=c.data.field(o);return l!==null&&d!==null?wo(l,d):Z(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:n.dir})}}var or=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return UE(this.inner)}size(){return this.innerSize}};var UR=new Ke(Y.comparator);function sr(){return UR}var iC=new Ke(Y.comparator);function Vs(...n){let e=iC;for(let t of n)e=e.insert(t.key,t);return e}function oC(n){let e=iC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mi(){return Us()}function sC(){return Us()}function Us(){return new or(n=>n.toString(),(n,e)=>n.isEqual(e))}var $R=new Ke(Y.comparator),zR=new ct(Y.comparator);function me(...n){let e=zR;for(let t of n)e=e.add(t);return e}var HR=new ct(pe);function qR(){return HR}function Gm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qs(e)?"-0":e}}function aC(n){return{integerValue:""+n}}function GR(n,e){return bR(e)?aC(e):Gm(n,e)}var Co=class{constructor(){this._=void 0}};function WR(n,e,t){return n instanceof Io?function(i,o){let s={fields:{[zE]:{stringValue:$E},[qE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jm(o)&&(o=su(o)),o&&(s.fields[HE]=o),{mapValue:s}}(t,e):n instanceof Ci?lC(n,e):n instanceof Ii?uC(n,e):function(i,o){let s=cC(i,o),c=Yb(s)+Yb(i.Ae);return cp(s)&&cp(i.Ae)?aC(c):Gm(i.serializer,c)}(n,e)}function KR(n,e,t){return n instanceof Ci?lC(n,e):n instanceof Ii?uC(n,e):t}function cC(n,e){return n instanceof Do?function(r){return cp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Io=class extends Co{},Ci=class extends Co{constructor(e){super(),this.elements=e}};function lC(n,e){let t=dC(e);for(let r of n.elements)t.some(i=>Nn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ii=class extends Co{constructor(e){super(),this.elements=e}};function uC(n,e){let t=dC(e);for(let r of n.elements)t=t.filter(i=>!Nn(i,r));return{arrayValue:{values:t}}}var Do=class extends Co{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function Yb(n){return Be(n.integerValue||n.doubleValue)}function dC(n){return $m(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function QR(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ci&&i instanceof Ci||r instanceof Ii&&i instanceof Ii?vo(r.elements,i.elements,Nn):r instanceof Do&&i instanceof Do?Nn(r.Ae,i.Ae):r instanceof Io&&i instanceof Io}(n.transform,e.transform)}var wp=class{constructor(e,t){this.version=e,this.transformResults=t}},vi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Il(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var xo=class{};function hC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Rl(n.key,vi.none()):new Di(n.key,n.data,vi.none());{let t=n.data,r=pn.empty(),i=new ct(Ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ar(n.key,r,new Sn(i.toArray()),vi.none())}}function YR(n,e,t){n instanceof Di?function(i,o,s){let c=i.value.clone(),l=Xb(i.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ar?function(i,o,s){if(!Il(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=Xb(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(fC(i)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function $s(n,e,t,r){return n instanceof Di?function(o,s,c,l){if(!Il(o.precondition,s))return c;let d=o.value.clone(),f=Zb(o.fieldTransforms,l,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof ar?function(o,s,c,l){if(!Il(o.precondition,s))return c;let d=Zb(o.fieldTransforms,l,s),f=s.data;return f.setAll(fC(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,c){return Il(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function JR(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=cC(r.transform,i||null);o!=null&&(t===null&&(t=pn.empty()),t.set(r.field,o))}return t||null}function Jb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vo(r,i,(o,s)=>QR(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Di=class extends xo{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ar=class extends xo{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fC(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Xb(n,e,t){let r=new Map;Se(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,KR(s,c,t[i]))}return r}function Zb(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,WR(o,s,e))}return r}var Rl=class extends xo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bp=class extends xo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ep=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&YR(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=$s(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=$s(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=sC();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let l=hC(s,c);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(t,r)=>Jb(t,r))&&vo(this.baseMutations,e.baseMutations,(t,r)=>Jb(t,r))}},Cp=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Se(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return $R}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Ip=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Dp=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Je,we;function XR(n){switch(n){case k.OK:return Z(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Z(15467,{code:n})}}function pC(n){if(n===void 0)return nr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Je.OK:return k.OK;case Je.CANCELLED:return k.CANCELLED;case Je.UNKNOWN:return k.UNKNOWN;case Je.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Je.INTERNAL:return k.INTERNAL;case Je.UNAVAILABLE:return k.UNAVAILABLE;case Je.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Je.NOT_FOUND:return k.NOT_FOUND;case Je.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Je.ABORTED:return k.ABORTED;case Je.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Je.DATA_LOSS:return k.DATA_LOSS;default:return Z(39323,{code:n})}}(we=Je||(Je={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";var ZR=null;function ek(){return new TextEncoder}var tk=new Zn([4294967295,4294967295],0);function eE(n){let e=ek().encode(n),t=new Bf;return t.update(e),new Uint8Array(t.digest())}function tE(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zn([t,r],0),new Zn([i,o],0)]}var xp=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new gi(`Invalid padding: ${t}`);if(r<0)throw new gi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new gi(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Zn.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Zn.fromNumber(r)));return i.compare(tk)===1&&(i=new Zn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=eE(e),[r,i]=tE(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.ge===0)return;let t=eE(e),[r,i]=tE(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},gi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var kl=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ks.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new Ke(pe),sr(),me())}},Ks=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var po=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},Fl=class{constructor(e,t){this.targetId=e,this.Ce=t}},Vl=class{constructor(e,t,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ll=class{constructor(){this.ve=0,this.Fe=nE(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=me(),t=me(),r=me();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:o})}}),new Ks(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Tp=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.Je=wl(),this.He=wl(),this.Ye=new Ke(pe)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(vp(o))if(r===0){let s=new Y(o.path);this.et(t,s,mn.newNoDocument(s,se.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let c=this.ut(e),l=c?this.ct(c,e,s):1;if(l!==0){this.it(t);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}ZR?.lt(function(f,g,w,E,P){let N={localCacheCount:f,existenceFilterCount:g.count,databaseId:w.database,projectId:w.projectId},O=g.unchangedNames;return O&&(N.bloomFilter={applied:P===0,hashCount:O?.hashCount??0,bitmapLength:O?.bits?.bitmap?.length??0,padding:O?.bits?.padding??0,mightContain:z=>E?.mightContain(z)??!1}),N}(s,e.Ce,this.Ge.ht(),c,l))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=ir(r).toUint8Array()}catch(l){if(l instanceof Ml)return yo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new xp(s,i,o)}catch(l){return yo(l instanceof gi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let c=this.ot(s);if(c){if(o.current&&vp(c.target)){let l=new Y(c.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,mn.newNoDocument(l,e))}o.Be&&(t.set(s,o.ke()),o.qe())}});let r=me();this.He.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new kl(e,t,this.Ye,this.je,r);return this.je=sr(),this.Je=wl(),this.He=wl(),this.Ye=new Ke(pe),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ll,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ct(pe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ct(pe),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ll),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function wl(){return new Ke(Y.comparator)}function nE(){return new Ke(Y.comparator)}var nk={asc:"ASCENDING",desc:"DESCENDING"},rk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ik={and:"AND",or:"OR"},Sp=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Mp(n,e){return n.useProto3Json||ou(e)?e:{value:e}}function jl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ok(n,e){return jl(n,e.toTimestamp())}function Pn(n){return Se(!!n,49232),se.fromTimestamp(function(t){let r=rr(t);return new tt(r.seconds,r.nanos)}(n))}function Wm(n,e){return Ap(n,e).canonicalString()}function Ap(n,e){let t=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function gC(n){let e=Ue.fromString(n);return Se(bC(e),10190,{key:e.toString()}),e}function Pp(n,e){return Wm(n.databaseId,e.path)}function Wf(n,e){let t=gC(e);if(t.get(1)!==n.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(vC(t))}function yC(n,e){return Wm(n.databaseId,e)}function sk(n){let e=gC(n);return e.length===4?Ue.emptyPath():vC(e)}function Np(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vC(n){return Se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rE(n,e,t){return{name:Pp(n,e),fields:t.value.mapValue.fields}}function ak(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Z(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(Se(f===void 0||typeof f=="string",58123),wt.fromBase64String(f||"")):(Se(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),wt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(d){let f=d.code===void 0?k.UNKNOWN:pC(d.code);return new H(f,d.message||"")}(s);t=new Vl(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Wf(n,r.document.name),o=Pn(r.document.updateTime),s=r.document.createTime?Pn(r.document.createTime):se.min(),c=new pn({mapValue:{fields:r.document.fields}}),l=mn.newFoundDocument(i,o,s,c),d=r.targetIds||[],f=r.removedTargetIds||[];t=new po(d,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Wf(n,r.document),o=r.readTime?Pn(r.readTime):se.min(),s=mn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new po([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Wf(n,r.document),o=r.removedTargetIds||[];t=new po([],o,i,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Dp(i,o),c=r.targetId;t=new Fl(c,s)}}return t}function ck(n,e){let t;if(e instanceof Di)t={update:rE(n,e.key,e.value)};else if(e instanceof Rl)t={delete:Pp(n,e.key)};else if(e instanceof ar)t={update:rE(n,e.key,e.data),updateMask:yk(e.fieldMask)};else{if(!(e instanceof bp))return Z(16599,{Vt:e.type});t={verify:Pp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof Io)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ci)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ii)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Do)return{fieldPath:s.field.canonicalString(),increment:c.Ae};throw Z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ok(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z(27497)}(n,e.precondition)),t}function lk(n,e){return n&&n.length>0?(Se(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Pn(i.updateTime):Pn(o);return s.isEqual(se.min())&&(s=Pn(o)),new wp(s,i.transformResults||[])}(t,e))):[]}function uk(n,e){return{documents:[yC(n,e.path)]}}function dk(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yC(n,i);let o=function(d){if(d.length!==0)return wC(gn.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(f=>function(w){return{field:uo(w.field),direction:pk(w.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=Mp(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:t,parent:i}}function hk(n){let e=sk(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Se(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(g){let w=_C(g);return w instanceof gn&&JE(w)?w.getFilters():[w]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(w=>function(P){return new Ei(ho(P.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(g){let w;return w=typeof g=="object"?g.value:g,ou(w)?null:w}(t.limit));let l=null;t.startAt&&(l=function(g){let w=!!g.before,E=g.values||[];return new Eo(E,w)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let w=!g.before,E=g.values||[];return new Eo(E,w)}(t.endAt)),VR(e,i,s,o,c,"F",l,d)}function fk(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _C(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ho(t.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ho(t.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ho(t.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ho(t.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ze.create(ho(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gn.create(t.compositeFilter.filters.map(r=>_C(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(t.compositeFilter.op))}(n):Z(30097,{filter:n})}function pk(n){return nk[n]}function mk(n){return rk[n]}function gk(n){return ik[n]}function uo(n){return{fieldPath:n.canonicalString()}}function ho(n){return Ht.fromServerFormat(n.fieldPath)}function wC(n){return n instanceof Ze?function(t){if(t.op==="=="){if(qb(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(Hb(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qb(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(Hb(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:mk(t.op),value:t.value}}}(n):n instanceof gn?function(t){let r=t.getFilters().map(i=>wC(i));return r.length===1?r[0]:{compositeFilter:{op:gk(t.op),filters:r}}}(n):Z(54877,{filter:n})}function yk(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Qs=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),c=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Op=class{constructor(e){this.yt=e}};function vk(n){let e=hk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ol(e,e.limit,"L"):e}var Bl=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),qs(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=rr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ir(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?KE(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):WE(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Z(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=_o,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Be(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),Y.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Bl.Kt=new Bl;var Rp=class{constructor(){this.Cn=new kp}addToCollectionParentIndex(e,t){return this.Cn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(bi.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},kp=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(Ue.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Ue.comparator)).toArray()}};var S5=new Uint8Array(0);var iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EC=41943040,nn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(EC,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var Ys=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var oE="LruGarbageCollector",_k=1048576;function sE([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var Fp=class{constructor(e){this.Ir=e,this.buffer=new ct(sE),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();sE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Vp=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(oE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>L(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){No(t)?q(oE,"Ignoring IndexedDB error during garbage collection: ",t):yield Po(t)}yield this.Vr(3e5)}))}},Lp=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(Vm.ce);let r=new Fp(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(iE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,s,c,l,d,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),co()<=_e.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(l-c)+`ms
	Removed ${g} documents in `+(d-l)+`ms
Total Duration: ${d-f}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function wk(n,e){return new Lp(n,e)}var jp=class{constructor(){this.changes=new or(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Bp=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Up=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&$s(r.mutation,i,Sn.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let i=mi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Vs();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=mi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=sr(),s=Us(),c=function(){return Us()}();return t.forEach((l,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof ar)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),$s(f.mutation,d,f.mutation.getFieldMask(),tt.now())):s.set(d.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,f)=>s.set(d,f)),t.forEach((d,f)=>c.set(d,new Bp(f,s.get(d)??null))),c))}recalculateAndSaveOverlays(e,t){let r=Us(),i=new Ke((s,c)=>s-c),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(l=>{let d=t.get(l);if(d===null)return;let f=r.get(l)||Sn.empty();f=c.applyToLocalView(d,f),r.set(l,f);let g=(i.get(c.batchId)||me()).add(l);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,f=l.value,g=sC();f.forEach(w=>{if(!o.has(w)){let E=hC(t.get(w),r.get(w));E!==null&&g.set(w,E),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(mi()),c=Hs,l=o;return s.next(d=>V.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?V.resolve():this.remoteDocumentCache.getEntry(e,f).next(w=>{l=l.insert(f,w)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,me())).next(f=>({batchId:c,changes:oC(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=Vs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Vs();return this.indexManager.getCollectionParents(e,o).next(c=>V.forEach(c,l=>{let d=function(g,w){return new Lr(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,w)=>{s=s.insert(g,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,mn.newInvalidDocument(f)))});let c=Vs();return s.forEach((l,d)=>{let f=o.get(l);f!==void 0&&$s(f.mutation,d,Sn.empty(),tt.now()),cu(t,d)&&(c=c.insert(l,d))}),c})}};var $p=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return V.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:vk(i.bundledQuery),readTime:Pn(i.readTime)}}(t)),V.resolve()}};var zp=class{constructor(){this.overlays=new Ke(Y.comparator),this.qr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=mi();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=mi(),o=t.length+1,s=new Y(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ke((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=mi(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=mi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return V.resolve(c)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ip(t,r));let o=this.qr.get(t);o===void 0&&(o=me(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}};var Hp=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var Js=class{constructor(){this.Qr=new ct(Xe.$r),this.Ur=new ct(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new Xe(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Xe(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new Y(new Ue([])),r=new Xe(t,e),i=new Xe(t,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new Y(new Ue([])),r=new Xe(t,e),i=new Xe(t,e+1),o=me();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Xe(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Y.comparator(e.key,t.key)||pe(e.Yr,t.Yr)}static Kr(e,t){return pe(e.Yr,t.Yr)||Y.comparator(e.key,t.key)}};var qp=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ct(Xe.$r)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ep(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Zr=this.Zr.add(new Xe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Xe(t,0),i=new Xe(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let c=this.Xr(s.Yr);o.push(c)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(pe);return t.forEach(i=>{let o=new Xe(i,0),s=new Xe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],c=>{r=r.add(c.Yr)})}),V.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new Xe(new Y(o),0),c=new ct(pe);return this.Zr.forEachWhile(l=>{let d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(l.Yr)),!0)},s),V.resolve(this.ti(c))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Se(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return V.forEach(t.mutations,i=>{let o=new Xe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new Xe(t,0),i=this.Zr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Gp=class{constructor(e){this.ri=e,this.docs=function(){return new Ke(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=sr(),s=t.path,c=new Y(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:f}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||vR(yR(f),r)<=0||(i.has(f.key)||cu(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z(9500)}ii(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wp(this)}getSize(e){return V.resolve(this.size)}},Wp=class extends jp{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var Kp=class{constructor(e){this.persistence=e,this.si=new or(t=>zm(t),Hm),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new Js,this.targetCount=0,this.ai=Ys.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),V.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Ys(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.Pr(t),V.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.si.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this._i.containsKey(t))}};var Ul=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Vm(0),this.li=!1,this.li=!0,this.hi=new Hp,this.referenceDelegate=e(this),this.Pi=new Kp(this),this.indexManager=new Rp,this.remoteDocumentCache=function(i){return new Gp(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Op(t),this.Ii=new $p(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new qp(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new Qp(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return V.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},Qp=class extends op{constructor(e){super(),this.currentSequenceNumber=e}},Yp=class n{constructor(e){this.persistence=e,this.Ri=new Js,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.fi,r=>{let i=Y.fromPath(r);return this.gi(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return V.or([()=>V.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},$l=class n{constructor(e,t){this.persistence=e,this.pi=new or(r=>ER(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=wk(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return V.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(c=>{c||(r++,o.removeEntry(s,se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),V.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=El(e.data.value)),t}br(e,t,r){return V.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Jp=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=me(),i=me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Xp=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Zp=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ub()?8:wR(lb())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ys(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Xp;return this.Ss(e,t,s).next(c=>{if(o.result=c,this.Vs)return this.bs(e,t,s,c.size)})}).next(()=>o.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(co()<=_e.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),V.resolve()):(co()<=_e.DEBUG&&q("QueryEngine","Query:",lo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(co()<=_e.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(t))):V.resolve())}ys(e,t){if(Qb(t))return V.resolve(null);let r=An(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ol(t,null,"F"),r=An(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.ps.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let d=this.Ds(t,c);return this.Cs(t,d,s,l.readTime)?this.ys(e,Ol(t,null,"F")):this.vs(e,d,t,l)}))})))}ws(e,t,r,i){return Qb(t)||i.isEqual(se.min())?V.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(t,o);return this.Cs(t,s,r,i)?V.resolve(null):(co()<=_e.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lo(t)),this.vs(e,s,t,gR(i,Hs)).next(c=>c))})}Ds(e,t){let r=new ct(rC(e));return t.forEach((i,o)=>{cu(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return co()<=_e.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",lo(t)),this.ps.getDocumentsMatchingQuery(e,t,bi.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Km="LocalStore",bk=3e8,em=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ke(pe),this.xs=new or(o=>zm(o),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Up(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function Ek(n,e,t,r){return new em(n,e,t,r)}function CC(n,e){return L(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],l=me();for(let d of i){s.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:s,addedBatchIds:c}))})})})}function Ck(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){let g=d.batch,w=g.keys(),E=V.resolve();return w.forEach(P=>{E=E.next(()=>f.getEntry(l,P)).next(N=>{let O=d.docVersions.get(P);Se(O!==null,48541),N.version.compareTo(O)<0&&(g.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),f.addEntry(N)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(l,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=me();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function IC(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Ik(n,e){let t=oe(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let c=[];e.targetChanges.forEach((f,g)=>{let w=i.get(g);if(!w)return;c.push(t.Pi.removeMatchingKeys(o,f.removedDocuments,g).next(()=>t.Pi.addMatchingKeys(o,f.addedDocuments,g)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(wt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(g,E),function(N,O,z){return N.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=bk?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(w,E,f)&&c.push(t.Pi.updateTargetData(o,E))});let l=sr(),d=me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(Dk(o,s,e.documentUpdates).next(f=>{l=f.ks,d=f.qs})),!r.isEqual(se.min())){let f=t.Pi.getLastRemoteSnapshotVersion(o).next(g=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return V.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(t.Ms=i,o))}function Dk(n,e,t){let r=me(),i=me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=sr();return t.forEach((c,l)=>{let d=o.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(c,l.readTime),s=s.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(c,l)):q(Km,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{ks:s,qs:i}})}function xk(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tk(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.Pi.allocateTargetId(r).next(s=>(i=new Qs(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}function tm(n,e,t){return L(this,null,function*(){let r=oe(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!No(s))throw s;q(Km,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)})}function aE(n,e,t){let r=oe(n),i=se.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,f){let g=oe(l),w=g.xs.get(f);return w!==void 0?V.resolve(g.Ms.get(w)):g.Pi.getTargetData(d,f)}(r,s,An(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:me())).next(c=>(Sk(r,jR(e),c),{documents:c,Qs:o})))}function Sk(n,e,t){let r=n.Os.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(e,r)}var zl=class{constructor(){this.activeTargetIds=qR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var nm=class{constructor(){this.Mo=new zl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zl,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rm=class{Oo(e){}shutdown(){}};var cE="ConnectivityMonitor",Hl=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(cE,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){q(cE,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bl=null;function im(){return bl===null?bl=function(){return 268435456+Math.round(2147483648*Math.random())}():bl++,"0x"+bl.toString(16)}var Kf="RestConnection",Mk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},om=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Al?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){let s=im(),c=this.zo(e,t.toUriEncodedString());q(Kf,`Sending RPC '${e}' ${s}:`,c,r);let l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);let{host:d}=new URL(c),f=fl(d);return this.Jo(e,c,l,r,f).then(g=>(q(Kf,`Received RPC '${e}' ${s}: `,g),g),g=>{throw yo(Kf,`RPC '${e}' ${s} failed with error: `,g,"url: ",c,"request:",r),g})}Ho(e,t,r,i,o,s){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,t){let r=Mk[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var sm=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var vt="WebChannelConnection",am=class extends om{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=im();return new Promise((c,l)=>{let d=new Uf;d.setWithCredentials(!0),d.listenOnce($f.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Fs.NO_ERROR:let g=d.getResponseJson();q(vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),c(g);break;case Fs.TIMEOUT:q(vt,`RPC '${e}' ${s} timed out`),l(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case Fs.HTTP_ERROR:let w=d.getStatus();if(q(vt,`RPC '${e}' ${s} failed with status:`,w,"response text:",d.getResponseText()),w>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);let P=E?.error;if(P&&P.status&&P.message){let N=function(z){let ee=z.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(ee)>=0?ee:k.UNKNOWN}(P.status);l(new H(N,P.message))}else l(new H(k.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new H(k.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{q(vt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);q(vt,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",f,r,15)})}T_(e,t,r){let i=im(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qf(),c=Hf(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let f=o.join("");q(vt,`Creating RPC '${e}' stream ${i}: ${f}`,l);let g=s.createWebChannel(f,l);this.I_(g);let w=!1,E=!1,P=new sm({Yo:O=>{E?q(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(w||(q(vt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),q(vt,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Zo:()=>g.close()}),N=(O,z,ee)=>{O.listen(z,W=>{try{ee(W)}catch(be){setTimeout(()=>{throw be},0)}})};return N(g,ao.EventType.OPEN,()=>{E||(q(vt,`RPC '${e}' stream ${i} transport opened.`),P.o_())}),N(g,ao.EventType.CLOSE,()=>{E||(E=!0,q(vt,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(g))}),N(g,ao.EventType.ERROR,O=>{E||(E=!0,yo(vt,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),P.a_(new H(k.UNAVAILABLE,"The operation could not be completed")))}),N(g,ao.EventType.MESSAGE,O=>{if(!E){let z=O.data[0];Se(!!z,16349);let ee=z,W=ee?.error||ee[0]?.error;if(W){q(vt,`RPC '${e}' stream ${i} received error:`,W);let be=W.status,ke=function(b){let I=Je[b];if(I!==void 0)return pC(I)}(be),Ce=W.message;ke===void 0&&(ke=k.INTERNAL,Ce="Unknown error status: "+be+" with message "+W.message),E=!0,P.a_(new H(ke,Ce)),g.close()}else q(vt,`RPC '${e}' stream ${i} received:`,z),P.u_(z)}}),N(c,zf.STAT_EVENT,O=>{O.stat===vl.PROXY?q(vt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===vl.NOPROXY&&q(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function Qf(){return typeof document<"u"?document:null}function lu(n){return new Sp(n,!0)}var ql=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var lE="PersistentStream",Gl=class{constructor(e,t,r,i,o,s,c,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ql(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return L(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}k_(){return L(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return L(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(t)})}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new H(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(()=>L(this,null,function*(){this.state=0,this.start()}))}z_(e){return q(lE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(q(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cm=class extends Gl{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=ak(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Pn(s.readTime):se.min()}(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=Np(this.serializer),t.addTarget=function(o,s){let c,l=s.target;if(c=vp(l)?{documents:uk(o,l)}:{query:dk(o,l).ft},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=mC(o,s.resumeToken);let d=Mp(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(se.min())>0){c.readTime=jl(o,s.snapshotVersion.toTimestamp());let d=Mp(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let r=fk(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=Np(this.serializer),t.removeTarget=e,this.q_(t)}},lm=class extends Gl{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=lk(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=Np(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>ck(this.serializer,r))};this.q_(t)}};var um=class{},dm=class extends um{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,Ap(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Ho(e,Ap(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},hm=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(t),this.aa=!1):q("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var xi="RemoteStore",fm=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(()=>L(this,null,function*(){Si(this)&&(q(xi,"Restarting streams for network reachability change."),yield function(l){return L(this,null,function*(){let d=oe(l);d.Ea.add(4),yield na(d),d.Ra.set("Unknown"),d.Ea.delete(4),yield uu(d)})}(this))}))}),this.Ra=new hm(r,i)}};function uu(n){return L(this,null,function*(){if(Si(n))for(let e of n.da)yield e(!0)})}function na(n){return L(this,null,function*(){for(let e of n.da)yield e(!1)})}function DC(n,e){let t=oe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Xm(t)?Jm(t):Oo(t).O_()&&Ym(t,e))}function Qm(n,e){let t=oe(n),r=Oo(t);t.Ia.delete(e),r.O_()&&xC(t,e),t.Ia.size===0&&(r.O_()?r.L_():Si(t)&&t.Ra.set("Unknown"))}function Ym(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oo(n).Y_(e)}function xC(n,e){n.Va.Ue(e),Oo(n).Z_(e)}function Jm(n){n.Va=new Tp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Oo(n).start(),n.Ra.ua()}function Xm(n){return Si(n)&&!Oo(n).x_()&&n.Ia.size>0}function Si(n){return oe(n).Ea.size===0}function TC(n){n.Va=void 0}function Ak(n){return L(this,null,function*(){n.Ra.set("Online")})}function Pk(n){return L(this,null,function*(){n.Ia.forEach((e,t)=>{Ym(n,e)})})}function Nk(n,e){return L(this,null,function*(){TC(n),Xm(n)?(n.Ra.ha(e),Jm(n)):n.Ra.set("Unknown")})}function Ok(n,e,t){return L(this,null,function*(){if(n.Ra.set("Online"),e instanceof Vl&&e.state===2&&e.cause)try{yield function(i,o){return L(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ia.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ia.delete(c),i.Va.removeTarget(c))})}(n,e)}catch(r){q(xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wl(n,r)}else if(e instanceof po?n.Va.Ze(e):e instanceof Fl?n.Va.st(e):n.Va.tt(e),!t.isEqual(se.min()))try{let r=yield IC(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.Va.Tt(s);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let f=o.Ia.get(d);f&&o.Ia.set(d,f.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,d)=>{let f=o.Ia.get(l);if(!f)return;o.Ia.set(l,f.withResumeToken(wt.EMPTY_BYTE_STRING,f.snapshotVersion)),xC(o,l);let g=new Qs(f.target,l,d,f.sequenceNumber);Ym(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){q(xi,"Failed to raise snapshot:",r),yield Wl(n,r)}})}function Wl(n,e,t){return L(this,null,function*(){if(!No(e))throw e;n.Ea.add(1),yield na(n),n.Ra.set("Offline"),t||(t=()=>IC(n.localStore)),n.asyncQueue.enqueueRetryable(()=>L(this,null,function*(){q(xi,"Retrying IndexedDB access"),yield t(),n.Ea.delete(1),yield uu(n)}))})}function SC(n,e){return e().catch(t=>Wl(n,t,e))}function du(n){return L(this,null,function*(){let e=oe(n),t=jr(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lm;for(;Rk(e);)try{let i=yield xk(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,kk(e,i)}catch(i){yield Wl(e,i)}MC(e)&&AC(e)})}function Rk(n){return Si(n)&&n.Ta.length<10}function kk(n,e){n.Ta.push(e);let t=jr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function MC(n){return Si(n)&&!jr(n).x_()&&n.Ta.length>0}function AC(n){jr(n).start()}function Fk(n){return L(this,null,function*(){jr(n).ra()})}function Vk(n){return L(this,null,function*(){let e=jr(n);for(let t of n.Ta)e.ea(t.mutations)})}function Lk(n,e,t){return L(this,null,function*(){let r=n.Ta.shift(),i=Cp.from(r,e,t);yield SC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield du(n)})}function jk(n,e){return L(this,null,function*(){e&&jr(n).X_&&(yield function(r,i){return L(this,null,function*(){if(function(s){return XR(s)&&s!==k.ABORTED}(i.code)){let o=r.Ta.shift();jr(r).B_(),yield SC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield du(r)}})}(n,e)),MC(n)&&AC(n)})}function uE(n,e){return L(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),q(xi,"RemoteStore received new credentials");let r=Si(t);t.Ea.add(3),yield na(t),r&&t.Ra.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),yield uu(t)})}function Bk(n,e){return L(this,null,function*(){let t=oe(n);e?(t.Ea.delete(2),yield uu(t)):e||(t.Ea.add(2),yield na(t),t.Ra.set("Unknown"))})}function Oo(n){return n.ma||(n.ma=function(t,r,i){let o=oe(t);return o.sa(),new cm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Xo:Ak.bind(null,n),t_:Pk.bind(null,n),r_:Nk.bind(null,n),H_:Ok.bind(null,n)}),n.da.push(e=>L(this,null,function*(){e?(n.ma.B_(),Xm(n)?Jm(n):n.Ra.set("Unknown")):(yield n.ma.stop(),TC(n))}))),n.ma}function jr(n){return n.fa||(n.fa=function(t,r,i){let o=oe(t);return o.sa(),new lm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Fk.bind(null,n),r_:jk.bind(null,n),ta:Vk.bind(null,n),na:Lk.bind(null,n)}),n.da.push(e=>L(this,null,function*(){e?(n.fa.B_(),yield du(n)):(yield n.fa.stop(),n.Ta.length>0&&(q(xi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}var pm=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Zm(n,e){if(nr("AsyncQueue",`${e}: ${n}`),No(n))return new H(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Kl=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=Vs(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ql=class{constructor(){this.ga=new Ke(Y.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},To=class n{constructor(e,t,r,i,o,s,c,l,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Kl.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var mm=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},gm=class{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=oe(t),o=i.queries;i.queries=dE(),o.forEach((s,c)=>{for(let l of c.Sa)l.onError(r)})})(this,new H(k.ABORTED,"Firestore shutting down"))}};function dE(){return new or(n=>nC(n),au)}function Uk(n,e){return L(this,null,function*(){let t=oe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new mm,r=e.Da()?0:1);try{switch(r){case 0:o.wa=yield t.onListen(i,!0);break;case 1:o.wa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=Zm(s,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&eg(t)})}function $k(n,e){return L(this,null,function*(){let t=oe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function zk(n,e){let t=oe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.Sa)c.Fa(i)&&(r=!0);s.wa=i}}r&&eg(t)}function Hk(n,e,t){let r=oe(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function eg(n){n.Ca.forEach(e=>{e.next()})}var ym,hE;(hE=ym||(ym={})).Ma="default",hE.Cache="cache";var vm=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}};var Yl=class{constructor(e){this.key=e}},Jl=class{constructor(e){this.key=e}},_m=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=rC(e),this.tu=new Kl(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new Ql,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let w=i.get(f),E=cu(this.query,g)?g:null,P=!!w&&this.mutatedKeys.has(w.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),O=!1;w&&E?w.data.isEqual(E.data)?P!==N&&(r.track({type:3,doc:E}),O=!0):this.su(w,E)||(r.track({type:2,doc:E}),O=!0,(l&&this.eu(E,l)>0||d&&this.eu(E,d)<0)&&(c=!0)):!w&&E?(r.track({type:0,doc:E}),O=!0):w&&!E&&(r.track({type:1,doc:w}),O=!0,(l||d)&&(c=!0)),O&&(E?(s=s.add(E),o=N?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,g)=>function(E,P){let N=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:O})}};return N(E)-N(P)}(f.type,g.type)||this.eu(f.doc,g.doc)),this.ou(r),i=i??!1;let c=t&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,d=l!==this.Za;return this.Za=l,s.length!==0||d?{snapshot:new To(this.query,e.tu,o,s,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ql,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=me(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new Jl(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new Yl(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=me();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},tg="SyncEngine",wm=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},bm=class{constructor(e){this.key=e,this.hu=!1}},Em=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new or(c=>nC(c),au),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(Y.comparator),this.Au=new Map,this.Ru=new Js,this.Vu={},this.mu=new Map,this.fu=Ys.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};function qk(n,e,t=!0){return L(this,null,function*(){let r=FC(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=yield PC(r,e,t,!0),i})}function Gk(n,e){return L(this,null,function*(){let t=FC(n);yield PC(t,e,!0,!1)})}function PC(n,e,t,r){return L(this,null,function*(){let i=yield Tk(n.localStore,An(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield Wk(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&DC(n.remoteStore,i),c})}function Wk(n,e,t,r,i){return L(this,null,function*(){n.pu=(g,w,E)=>function(N,O,z,ee){return L(this,null,function*(){let W=O.view.ru(z);W.Cs&&(W=yield aE(N.localStore,O.query,!1).then(({documents:x})=>O.view.ru(x,W)));let be=ee&&ee.targetChanges.get(O.targetId),ke=ee&&ee.targetMismatches.get(O.targetId)!=null,Ce=O.view.applyChanges(W,N.isPrimaryClient,be,ke);return pE(N,O.targetId,Ce.au),Ce.snapshot})}(n,g,w,E);let o=yield aE(n.localStore,e,!0),s=new _m(e,o.Qs),c=s.ru(o.documents),l=Ks.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(c,n.isPrimaryClient,l);pE(n,t,d.au);let f=new wm(e,t,s);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot})}function Kk(n,e,t){return L(this,null,function*(){let r=oe(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!au(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield tm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Qm(r.remoteStore,i.targetId),Cm(r,i.targetId)}).catch(Po))):(Cm(r,i.targetId),yield tm(r.localStore,i.targetId,!0))})}function Qk(n,e){return L(this,null,function*(){let t=oe(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(t.remoteStore,r.targetId))})}function Yk(n,e,t){return L(this,null,function*(){let r=r2(n);try{let i=yield function(s,c){let l=oe(s),d=tt.now(),f=c.reduce((E,P)=>E.add(P.key),me()),g,w;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let P=sr(),N=me();return l.Ns.getEntries(E,f).next(O=>{P=O,P.forEach((z,ee)=>{ee.isValidDocument()||(N=N.add(z))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,P)).next(O=>{g=O;let z=[];for(let ee of c){let W=JR(ee,g.get(ee.key).overlayedDocument);W!=null&&z.push(new ar(ee.key,W,QE(W.value.mapValue),vi.exists(!0)))}return l.mutationQueue.addMutationBatch(E,d,z,c)}).next(O=>{w=O;let z=O.applyToLocalDocumentSet(g,N);return l.documentOverlayCache.saveOverlays(E,O.batchId,z)})}).then(()=>({batchId:w.batchId,changes:oC(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,l){let d=s.Vu[s.currentUser.toKey()];d||(d=new Ke(pe)),d=d.insert(c,l),s.Vu[s.currentUser.toKey()]=d}(r,i.batchId,t),yield ra(r,i.changes),yield du(r.remoteStore)}catch(i){let o=Zm(i,"Failed to persist write");t.reject(o)}})}function NC(n,e){return L(this,null,function*(){let t=oe(n);try{let r=yield Ik(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Se(s.hu,14607):i.removedDocuments.size>0&&(Se(s.hu,42227),s.hu=!1))}),yield ra(t,r,e)}catch(r){yield Po(r)}})}function fE(n,e,t){let r=oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let l=oe(s);l.onlineState=c;let d=!1;l.queries.forEach((f,g)=>{for(let w of g.Sa)w.va(c)&&(d=!0)}),d&&eg(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Jk(n,e,t){return L(this,null,function*(){let r=oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Ke(Y.comparator);s=s.insert(o,mn.newNoDocument(o,se.min()));let c=me().add(o),l=new kl(se.min(),new Map,new Ke(pe),s,c);yield NC(r,l),r.du=r.du.remove(o),r.Au.delete(e),ng(r)}else yield tm(r.localStore,e,!1).then(()=>Cm(r,e,t)).catch(Po)})}function Xk(n,e){return L(this,null,function*(){let t=oe(n),r=e.batch.batchId;try{let i=yield Ck(t.localStore,e);RC(t,r,null),OC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ra(t,i)}catch(i){yield Po(i)}})}function Zk(n,e,t){return L(this,null,function*(){let r=oe(n);try{let i=yield function(s,c){let l=oe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,c).next(g=>(Se(g!==null,37113),f=g.keys(),l.mutationQueue.removeMutationBatch(d,g))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(r.localStore,e);RC(r,e,t),OC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ra(r,i)}catch(i){yield Po(i)}})}function OC(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function RC(n,e,t){let r=oe(n),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||kC(n,r)})}function kC(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Qm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ng(n))}function pE(n,e,t){for(let r of t)r instanceof Yl?(n.Ru.addReference(r.key,e),e2(n,r)):r instanceof Jl?(q(tg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||kC(n,r.key)):Z(19791,{wu:r})}function e2(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(q(tg,"New document in limbo: "+t),n.Eu.add(r),ng(n))}function ng(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new Y(Ue.fromString(e)),r=n.fu.next();n.Au.set(r,new bm(t)),n.du=n.du.insert(t,r),DC(n.remoteStore,new Qs(An(qm(t.path)),r,"TargetPurposeLimboResolution",Vm.ce))}}function ra(n,e,t){return L(this,null,function*(){let r=oe(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((c,l)=>{s.push(r.pu(l,e,t).then(d=>{if((d||t)&&r.isPrimaryClient){let f=d?!d.fromCache:t?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){i.push(d);let f=Jp.As(l.targetId,d);o.push(f)}}))}),yield Promise.all(s),r.Pu.H_(i),yield function(l,d){return L(this,null,function*(){let f=oe(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>V.forEach(d,w=>V.forEach(w.Es,E=>f.persistence.referenceDelegate.addReference(g,w.targetId,E)).next(()=>V.forEach(w.ds,E=>f.persistence.referenceDelegate.removeReference(g,w.targetId,E)))))}catch(g){if(!No(g))throw g;q(Km,"Failed to update sequence numbers: "+g)}for(let g of d){let w=g.targetId;if(!g.fromCache){let E=f.Ms.get(w),P=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(P);f.Ms=f.Ms.insert(w,N)}}})}(r.localStore,o))})}function t2(n,e){return L(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){q(tg,"User change. New user:",e.toKey());let r=yield CC(t.localStore,e);t.currentUser=e,function(o,s){o.mu.forEach(c=>{c.forEach(l=>{l.reject(new H(k.CANCELLED,s))})}),o.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ra(t,r.Ls)}})}function n2(n,e){let t=oe(n),r=t.Au.get(e);if(r&&r.hu)return me().add(r.key);{let i=me(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let c=t.Tu.get(s);i=i.unionWith(c.view.nu)}return i}}function FC(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jk.bind(null,e),e.Pu.H_=zk.bind(null,e.eventManager),e.Pu.yu=Hk.bind(null,e.eventManager),e}function r2(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zk.bind(null,e),e}var VC=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return L(this,null,function*(){this.serializer=lu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)})}Fu(t,r){return null}Mu(t,r){return null}vu(t){return Ek(this.persistence,new Zp,t.initialUser,this.serializer)}Cu(t){return new Ul(Yp.mi,this.serializer)}Du(t){return new nm}terminate(){return L(this,null,function*(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Im=class extends VC{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Se(this.persistence.referenceDelegate instanceof $l,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Vp(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Ul(r=>$l.mi(r,t),this.serializer)}};var i2=(()=>{class n{initialize(t,r){return L(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=t2.bind(null,this.syncEngine),yield Bk(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new gm}()}createDatastore(t){let r=lu(t.databaseInfo.databaseId),i=function(s){return new am(s)}(t.databaseInfo);return function(s,c,l,d){return new dm(s,c,l,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,l){return new fm(i,o,s,c,l)}(this.localStore,this.datastore,t.asyncQueue,r=>fE(this.syncEngine,r,0),function(){return Hl.v()?new Hl:new rm}())}createSyncEngine(t,r){return function(o,s,c,l,d,f,g){let w=new Em(o,s,c,l,d,f);return g&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return L(this,null,function*(){yield function(r){return L(this,null,function*(){let i=oe(r);q(xi,"RemoteStore shutting down."),i.Ea.add(5),yield na(i),i.Aa.shutdown(),i.Ra.set("Unknown")})}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()})}}return n.provider={build:()=>new n},n})();var Dm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Br="FirestoreClient",xm=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=zs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>L(this,null,function*(){q(Br,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q(Br,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Zm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Yf(n,e){return L(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q(Br,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>L(this,null,function*(){r.isEqual(i)||(yield CC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function mE(n,e){return L(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield o2(n);q(Br,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>uE(e.remoteStore,i)),n._onlineComponents=e})}function o2(n){return L(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q(Br,"Using user provided OfflineComponentProvider");try{yield Yf(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;yo("Error using user provided cache. Falling back to memory cache: "+t),yield Yf(n,new VC)}}else q(Br,"Using default OfflineComponentProvider"),yield Yf(n,new Im(void 0));return n._offlineComponents})}function LC(n){return L(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q(Br,"Using user provided OnlineComponentProvider"),yield mE(n,n._uninitializedComponentsProvider._online)):(q(Br,"Using default OnlineComponentProvider"),yield mE(n,new i2))),n._onlineComponents})}function s2(n){return LC(n).then(e=>e.syncEngine)}function gE(n){return L(this,null,function*(){let e=yield LC(n),t=e.eventManager;return t.onListen=qk.bind(null,e.syncEngine),t.onUnlisten=Kk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Gk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Qk.bind(null,e.syncEngine),t})}function jC(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var yE=new Map;var BC="firestore.googleapis.com",vE=!0,Xl=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BC,this.ssl=vE}else this.host=e.host,this.ssl=e.ssl??vE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_k)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},So=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xl(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jf;switch(r.type){case"firstParty":return new tp(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return L(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=yE.get(t);r&&(q("ComponentProvider","Removing Datastore"),yE.delete(t),r.terminate())}(this),Promise.resolve()}};function a2(n,e,t,r={}){n=Ls(n,So);let i=fl(e),o=n._getSettings(),s=Ie(X({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;i&&(sb(`https://${c}`),cb("Firestore",!0)),o.host!==BC&&o.host!==c&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Ie(X({},o),{host:c,ssl:i,emulatorOptions:r});if(!oo(l,s)&&(n._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=at.MOCK_USER;else{d=ab(r.mockUserToken,n._app?.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new at(g)}n._authCredentials=new Xf(new Dl(d,f))}}var Ur=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},_t=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ta(t,n._jsonSchema))return new n(e,r||null,new Y(Ue.fromString(t.referencePath)))}};_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:et("string",_t._jsonSchemaVersion),referencePath:et("string")};var Or=class n extends Ur{constructor(e,t,r){super(e,t,qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function rg(n,e,...t){if(n=Ar(n),DE("collection","path",e),n instanceof So){let r=Ue.fromString(e,...t);return Fb(r),new Or(n,null,r)}{if(!(n instanceof _t||n instanceof Or))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return Fb(r),new Or(n.firestore,null,r)}}function c2(n,e,...t){if(n=Ar(n),arguments.length===1&&(e=zs.newId()),DE("doc","path",e),n instanceof So){let r=Ue.fromString(e,...t);return kb(r),new _t(n,null,new Y(r))}{if(!(n instanceof _t||n instanceof Or))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return kb(r),new _t(n.firestore,n instanceof Or?n.converter:null,new Y(r))}}var _E="AsyncQueue",Zl=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ql(this,"async_queue_retry"),this._c=()=>{let r=Qf();r&&q(_E,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=Qf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Qf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new tr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}lc(){return L(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;q(_E,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",wE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=pm.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}Tc(){return L(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function wE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function bE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Mo=class extends So{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Zl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return L(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Zl(e),this._firestoreClient=void 0,yield e}})}};function UC(n,e){let t=typeof n=="object"?n:Tb(),r=typeof n=="string"?n:e||Al,i=Ib(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ob("firestore");o&&a2(i,...o)}return i}function $C(n){if(n._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||l2(n),n._firestoreClient}function l2(n){let e=n._freezeSettings(),t=function(i,o,s,c){return new sp(i,o,s,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,jC(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new xm(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}}(n._componentsProvider))}var Rr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(wt.fromBase64String(e))}catch(t){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ta(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:et("string",Rr._jsonSchemaVersion),bytes:et("string")};var Xs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var eu=class{constructor(e){this._methodName=e}};var kr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ta(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:et("string",kr._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};var Fr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ta(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:et("string",Fr._jsonSchemaVersion),vectorValues:et("object")};var u2=/^__.*__$/,Tm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,t,this.fieldTransforms):new Di(e,this.data,t,this.fieldTransforms)}};function zC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:n})}}var Sm=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n(X(X({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zC(this.Ac)&&u2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},Mm=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lu(e)}Cc(e,t,r,i=!1){return new Sm({Ac:e,methodName:t,Dc:r,path:Ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HC(n){let e=n._freezeSettings(),t=lu(n._databaseId);return new Mm(n._databaseId,!!e.ignoreUndefinedProperties,t)}function d2(n,e,t,r,i,o={}){let s=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);WC("Data must be an object, but it was:",s,r);let c=qC(r,s),l,d;if(o.merge)l=new Sn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let w=f2(e,g,t);if(!s.contains(w))throw new H(k.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);m2(f,w)||f.push(w)}l=new Sn(f),d=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,d=s.fieldTransforms;return new Tm(new pn(c),l,d)}function h2(n,e,t,r=!1){return ig(t,n.Cc(r?4:3,e))}function ig(n,e){if(GC(n=Ar(n)))return WC("Unsupported field value:",e,n),qC(n,e);if(n instanceof eu)return function(r,i){if(!zC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let l=ig(c,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ar(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=tt.fromDate(r);return{timestampValue:jl(i.serializer,o)}}if(r instanceof tt){let o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jl(i.serializer,o)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rr)return{bytesValue:mC(i.serializer,r._byteString)};if(r instanceof _t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fr)return function(s,c){return{mapValue:{fields:{[Bm]:{stringValue:Um},[_o]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Gm(c.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${iu(r)}`)}(n,e)}function qC(n,e){let t={};return UE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(n,(r,i)=>{let o=ig(i,e.mc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function GC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof kr||n instanceof Rr||n instanceof _t||n instanceof eu||n instanceof Fr)}function WC(n,e,t){if(!GC(t)||!xE(t)){let r=iu(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function f2(n,e,t){if((e=Ar(e))instanceof Xs)return e._internalPath;if(typeof e=="string")return KC(n,e);throw tu("Field path arguments must be of type string or ",n,!1,void 0,t)}var p2=new RegExp("[~\\*/\\[\\]]");function KC(n,e,t){if(e.search(p2)>=0)throw tu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xs(...e.split("."))._internalPath}catch{throw tu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tu(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(k.INVALID_ARGUMENT,c+n+l)}function m2(n,e){return n.some(t=>t.isEqual(e))}var nu=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Am(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(og("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Am=class extends nu{data(){return super.data()}};function og(n,e){return typeof e=="string"?KC(n,e):e instanceof Xs?e._internalPath:e._delegate._internalPath}function g2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zs=class{},ea=class extends Zs{};function QC(n,e,...t){let r=[];e instanceof Zs&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof Nm).length,c=o.filter(l=>l instanceof Pm).length;if(s>1||s>0&&c>0)throw new H(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Pm=class n extends ea{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return XC(e._query,t),new Ur(e.firestore,e.converter,_p(e._query,t))}_parse(e){let t=HC(e.firestore);return function(o,s,c,l,d,f,g){let w;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new H(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){CE(g,f);let P=[];for(let N of g)P.push(EE(l,o,N));w={arrayValue:{values:P}}}else w=EE(l,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||CE(g,f),w=h2(c,s,g,f==="in"||f==="not-in");return Ze.create(d,f,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var Nm=class n extends Zs{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let l of c)XC(s,l),s=_p(s,l)}(e._query,t),new Ur(e.firestore,e.converter,_p(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Om=class n extends ea{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new H(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ei(o,s)}(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Lr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function YC(n,e="asc"){let t=e,r=og("orderBy",n);return Om._create(r,t)}var Rm=class n extends ea{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Ur(e.firestore,e.converter,Ol(e._query,this._limit,this._limitType))}};function JC(n){return mR("limit",n),Rm._create("limit",n,"F")}function EE(n,e,t){if(typeof(t=Ar(t))=="string"){if(t==="")throw new H(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tC(e)&&t.indexOf("/")!==-1)throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ue.fromString(t));if(!Y.isDocumentKey(r))throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zb(n,new Y(r))}if(t instanceof _t)return zb(n,t._key);throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iu(t)}.`)}function CE(n,e){if(!Array.isArray(n)||n.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XC(n,e){let t=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var km=class{convertValue(e,t="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ti(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[_o].arrayValue?.values?.map(r=>Be(r.doubleValue));return new Fr(t)}convertGeoPoint(e){return new kr(Be(e.latitude),Be(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=su(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gs(e));default:return null}}convertTimestamp(e){let t=rr(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ue.fromString(e);Se(bC(r),9688,{name:e});let i=new Pl(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function y2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var yi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_i=class n extends nu{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new mo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};_i._jsonSchemaVersion="firestore/documentSnapshot/1.0",_i._jsonSchema={type:et("string",_i._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};var mo=class extends _i{data(e={}){return super.data(e)}},go=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mo(this._firestore,this._userDataWriter,r.key,r,new yi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let l=new mo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new mo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:v2(c.type),doc:l,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zs.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function v2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:n})}}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:et("string",go._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};var ru=class extends km{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}};function ZC(n,e){let t=Ls(n.firestore,Mo),r=c2(n),i=y2(n.converter,e);return _2(t,[d2(HC(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,vi.exists(!1))]).then(()=>r)}function eI(n,...e){n=Ar(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||bE(e[r])||(t=e[r++]);let i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(bE(e[r])){let l=e[r];e[r]=l.next?.bind(l),e[r+1]=l.error?.bind(l),e[r+2]=l.complete?.bind(l)}let o,s,c;if(n instanceof _t)s=Ls(n.firestore,Mo),c=qm(n._key.path),o={next:l=>{e[r]&&e[r](w2(s,n,l))},error:e[r+1],complete:e[r+2]};else{let l=Ls(n,Ur);s=Ls(l.firestore,Mo),c=l._query;let d=new ru(s);o={next:f=>{e[r]&&e[r](new go(s,d,l,f))},error:e[r+1],complete:e[r+2]},g2(n._query)}return function(d,f,g,w){let E=new Dm(w),P=new vm(f,E,g);return d.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return Uk(yield gE(d),P)})),()=>{E.Nu(),d.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return $k(yield gE(d),P)}))}}($C(s),c,i,o)}function _2(n,e){return function(r,i){let o=new tr;return r.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return Yk(yield s2(r),i,o)})),o.promise}($C(n),e)}function w2(n,e,t){let r=t.docs.get(e._key),i=new ru(n);return new _i(n,i,e._key,r,new yi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ao=i})(xb),Rs(new Jn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Mo(new Zf(r.getProvider("auth-internal")),new np(s,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(d.options.projectId,f)}(s,i),s);return o=X({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Nr(Nb,Ob,e),Nr(Nb,Ob,"esm2020")})();var tI=(()=>{class n{constructor(){this.app=jf(Mr.firebaseConfig),this.db=UC(this.app),this.messagesSubject=new Ct([]),this.messages$=this.messagesSubject.asObservable(),this.listenForMessages()}listenForMessages(){let t=rg(this.db,"messages"),r=QC(t,YC("timestamp","asc"),JC(100));eI(r,i=>{let o=i.docs.map(s=>{let c=s.data();return{id:s.id,text:c.text,senderName:c.senderName,timestamp:c.timestamp.toDate(),userId:c.userId}});this.messagesSubject.next(o)},i=>{console.error("Error listening to messages:",i)})}sendMessage(t,r){return L(this,null,function*(){let i=rg(this.db,"messages");yield ZC(i,{text:t,senderName:r,timestamp:new Date})})}getMessages(){return this.messages$}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var E2=["messagesContainer"];function C2(n,e){if(n&1){let t=ve();p(0,"div",4)(1,"div",5)(2,"h2"),y(3,"\u{1F4CB} Customer Information"),m(),p(4,"p",6),y(5,"Please provide your information to use the chat"),m(),p(6,"form",7),$("ngSubmit",function(){j(t);let i=F();return B(i.registerCustomer())}),p(7,"div",8)(8,"label",9),y(9,"Full Name *"),m(),p(10,"input",10),re("ngModelChange",function(i){j(t);let o=F();return ie(o.customerInfo.name,i)||(o.customerInfo.name=i),B(i)}),m()(),p(11,"div",8)(12,"label",11),y(13,"Phone Number *"),m(),p(14,"input",12),re("ngModelChange",function(i){j(t);let o=F();return ie(o.customerInfo.phoneNumber,i)||(o.customerInfo.phoneNumber=i),B(i)}),m()(),p(15,"div",8)(16,"label",13),y(17,"Delivery Address *"),m(),p(18,"textarea",14),re("ngModelChange",function(i){j(t);let o=F();return ie(o.customerInfo.address,i)||(o.customerInfo.address=i),B(i)}),m()(),p(19,"button",15),y(20," Start Chat "),m()()()()}if(n&2){let t=F();_(10),ne("ngModel",t.customerInfo.name),_(4),ne("ngModel",t.customerInfo.phoneNumber),_(4),ne("ngModel",t.customerInfo.address)}}function I2(n,e){n&1&&(p(0,"div",29),y(1," No messages yet. Start the conversation! "),m())}function D2(n,e){if(n&1&&(p(0,"div",30)(1,"div",31)(2,"span",32),y(3),m(),p(4,"span",33),y(5),m()(),p(6,"div",34),y(7),m()()),n&2){let t=e.$implicit,r=F(2);Ae("my-message",r.isMyMessage(t))("other-message",!r.isMyMessage(t)),_(3),K(t.senderName),_(2),K(r.formatTime(t.timestamp)),_(2),K(t.text)}}function x2(n,e){if(n&1){let t=ve();p(0,"div",16)(1,"div",17)(2,"div",18)(3,"h2"),y(4,"\u{1F4AC} Customer Support Chat"),m(),p(5,"div",19)(6,"span",20),y(7),m(),p(8,"button",21),$("click",function(){j(t);let i=F();return B(i.changeInfo())}),y(9," \u270F\uFE0F "),m(),p(10,"button",22),$("click",function(){j(t);let i=F();return B(i.logout())}),y(11," \u{1F6AA} "),m()()()(),p(12,"div",23,0),G(14,I2,2,0,"div",24)(15,D2,8,7,"div",25),m(),p(16,"div",26)(17,"input",27),re("ngModelChange",function(i){j(t);let o=F();return ie(o.newMessage,i)||(o.newMessage=i),B(i)}),$("keyup.enter",function(){j(t);let i=F();return B(i.sendMessage())}),m(),p(18,"button",28),$("click",function(){j(t);let i=F();return B(i.sendMessage())}),y(19," Send "),m()()()}if(n&2){let t=F();_(7),K(t.senderName),_(7),R("ngIf",t.messages.length===0),_(),R("ngForOf",t.messages),_(2),ne("ngModel",t.newMessage),_(),R("disabled",!t.newMessage.trim())}}var nI=(()=>{class n{constructor(t){this.chatService=t,this.messages=[],this.newMessage="",this.senderName="",this.shouldScroll=!1,this.isRegistered=!1,this.customerInfo={name:"",phoneNumber:"",address:""}}ngOnInit(){let t=localStorage.getItem("chatCustomerInfo");t&&(this.customerInfo=JSON.parse(t),this.senderName=this.customerInfo.name,this.isRegistered=!0,this.loadMessages())}ngAfterViewChecked(){this.shouldScroll&&(this.scrollToBottom(),this.shouldScroll=!1)}registerCustomer(){if(!this.customerInfo.name.trim()){alert("Please enter your name");return}if(!this.customerInfo.phoneNumber.trim()){alert("Please enter your phone number");return}if(!this.customerInfo.address.trim()){alert("Please enter your address");return}if(!/^[\d\s\-\+\(\)]+$/.test(this.customerInfo.phoneNumber)){alert("Please enter a valid phone number");return}localStorage.setItem("chatCustomerInfo",JSON.stringify(this.customerInfo)),localStorage.setItem("chatUserName",this.customerInfo.name),this.senderName=this.customerInfo.name,this.isRegistered=!0,this.loadMessages()}loadMessages(){this.chatService.getMessages().subscribe({next:t=>{let r=this.messages.length>0;this.messages=t,(!r||this.messages.length>t.length)&&(this.shouldScroll=!0)},error:t=>{console.error("Error loading messages:",t)}})}sendMessage(){this.newMessage.trim()&&this.chatService.sendMessage(this.newMessage,this.senderName).then(()=>{this.newMessage="",this.shouldScroll=!0}).catch(t=>{console.error("Error sending message:",t),alert("Failed to send message. Please try again.")})}scrollToBottom(){try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(t){console.error("Scroll error:",t)}}formatTime(t){return new Date(t).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}isMyMessage(t){return t.senderName===this.senderName}changeInfo(){confirm("Do you want to update your customer information?"),this.isRegistered=!1}logout(){confirm("Are you sure you want to logout? Your information will be cleared."),localStorage.removeItem("chatCustomerInfo"),localStorage.removeItem("chatUserName"),this.isRegistered=!1,this.customerInfo={name:"",phoneNumber:"",address:""},this.messages=[]}static{this.\u0275fac=function(r){return new(r||n)(Q(tI))}}static{this.\u0275cmp=He({type:n,selectors:[["app-chat"]],viewQuery:function(r,i){if(r&1&&T_(E2,5),r&2){let o;S_(o=M_())&&(i.messagesContainer=o.first)}},standalone:!0,features:[We],decls:3,vars:2,consts:[["messagesContainer",""],[1,"chat-container"],["class","registration-container",4,"ngIf"],["class","chat-wrapper",4,"ngIf"],[1,"registration-container"],[1,"registration-card"],[1,"registration-subtitle"],[1,"registration-form",3,"ngSubmit"],[1,"form-group"],["for","customerName"],["type","text","id","customerName","name","customerName","placeholder","Enter your full name","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","phoneNumber"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","e.g., +1 234 567 8900","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","address"],["id","address","name","address","placeholder","Enter your complete delivery address","rows","3","required","",1,"form-textarea",3,"ngModelChange","ngModel"],["type","submit",1,"btn-register"],[1,"chat-wrapper"],[1,"chat-header"],[1,"header-content"],[1,"user-info"],[1,"user-name"],["title","Edit information",1,"btn-edit",3,"click"],["title","Logout",1,"btn-logout",3,"click"],[1,"messages-container"],["class","no-messages",4,"ngIf"],["class","message",3,"my-message","other-message",4,"ngFor","ngForOf"],[1,"input-container"],["type","text","placeholder","Type a message...",1,"message-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn-send",3,"click","disabled"],[1,"no-messages"],[1,"message"],[1,"message-header"],[1,"sender-name"],[1,"message-time"],[1,"message-text"]],template:function(r,i){r&1&&(p(0,"div",1),G(1,C2,21,3,"div",2)(2,x2,20,5,"div",3),m()),r&2&&(_(),R("ngIf",!i.isRegistered),_(),R("ngIf",i.isRegistered))},dependencies:[$e,pt,st,yt,en,mt,gt,Zt,zt,dt,$t],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:var(--color-surface);overflow:hidden}.registration-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;padding:var(--space-lg);background:linear-gradient(135deg,#3b82f60d,#9333ea0d);overflow-y:auto;scroll-behavior:smooth}.registration-card[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:var(--radius-lg);padding:var(--space-xl);max-width:500px;width:100%;box-shadow:0 10px 25px #0000001a;animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.registration-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 var(--space-sm) 0;font-size:1.875rem;font-weight:700;text-align:center;background:linear-gradient(135deg,var(--color-primary),var(--color-accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.registration-subtitle[_ngcontent-%COMP%]{text-align:center;color:var(--color-text-muted);margin-bottom:var(--space-xl);font-size:.9375rem}.registration-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:.9375rem;color:var(--color-text)}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:.9375rem;font-family:inherit;background:var(--color-bg);color:var(--color-text);transition:all .2s}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.btn-register[_ngcontent-%COMP%]{margin-top:var(--space-md);padding:.875rem 1.5rem;background:linear-gradient(135deg,var(--color-primary),var(--color-accent));color:#fff;border:none;border-radius:var(--radius-md);font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px #3b82f64d}.btn-register[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #3b82f666}.btn-register[_ngcontent-%COMP%]:active{transform:translateY(0)}.chat-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.chat-header[_ngcontent-%COMP%]{padding:var(--space-lg);background:linear-gradient(135deg,var(--color-primary),var(--color-accent));color:#fff;border-bottom:2px solid var(--color-border);position:relative;z-index:10;flex-shrink:0}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--space-md)}.chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);position:relative;z-index:20}.user-name[_ngcontent-%COMP%]{font-weight:500;padding:.5rem 1rem;background:#fff3;border-radius:20px;font-size:.9375rem}.btn-edit[_ngcontent-%COMP%], .btn-logout[_ngcontent-%COMP%]{background:#ffffff4d;border:2px solid rgba(255,255,255,.5);padding:.625rem;border-radius:50%;cursor:pointer;font-size:1.125rem;transition:all .2s;line-height:1;position:relative;z-index:30;pointer-events:auto;color:#fff;min-width:36px;min-height:36px;display:flex;align-items:center;justify-content:center}.btn-edit[_ngcontent-%COMP%]:hover, .btn-logout[_ngcontent-%COMP%]:hover{background:#ffffff80;transform:scale(1.15);border-color:#fff}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:var(--space-lg);background:var(--color-bg);display:flex;flex-direction:column;gap:var(--space-md)}.no-messages[_ngcontent-%COMP%]{text-align:center;color:var(--color-text-muted);padding:var(--space-xl);font-style:italic}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:70%;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.my-message[_ngcontent-%COMP%]{align-self:flex-end}.other-message[_ngcontent-%COMP%]{align-self:flex-start}.message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;gap:var(--space-sm)}.sender-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--color-text-muted)}.my-message[_ngcontent-%COMP%]   .sender-name[_ngcontent-%COMP%]{color:var(--color-primary)}.message-time[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted)}.message-text[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:12px;word-wrap:break-word;line-height:1.5}.my-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border-bottom-right-radius:4px}.other-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:var(--color-surface);color:var(--color-text);border:1px solid var(--color-border);border-bottom-left-radius:4px}.input-container[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);padding:var(--space-lg);background:var(--color-surface);border-top:1px solid var(--color-border)}.message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:1px solid var(--color-border);border-radius:24px;font-size:.9375rem;background:var(--color-bg);color:var(--color-text);transition:all .2s}.message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #3b82f61a}.btn-send[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:var(--color-primary);color:#fff;border:none;border-radius:24px;font-weight:600;cursor:pointer;transition:all .2s}.btn-send[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-accent);transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.btn-send[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-bg)}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-border);border-radius:4px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--color-text-muted)}.registration-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.registration-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-bg)}.registration-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-border);border-radius:4px}.registration-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--color-text-muted)}@media (max-width: 640px){.message[_ngcontent-%COMP%]{max-width:85%}.chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.registration-card[_ngcontent-%COMP%]{padding:var(--space-lg)}.registration-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return n})();function T2(n,e){n&1&&Ne(0,"app-login")}function S2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-landing"),m()())}function M2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-product-form"),m()())}function A2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-pos-calculator"),m()())}function P2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-inventory-list"),m()())}function N2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-customer-form"),m()())}function O2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-expenses"),m()())}function R2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-reports"),m()())}function k2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-activity-logs"),m()())}function F2(n,e){n&1&&(p(0,"div",28)(1,"div",29),Ne(2,"app-chat"),m()())}function V2(n,e){if(n&1){let t=ve();p(0,"div")(1,"header",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12),y(6,"\u{1F4E6}"),m(),p(7,"div",13)(8,"h1"),y(9,"JJM Inventory"),m(),p(10,"p",14),y(11,"Smart Business Management"),m()()(),p(12,"div",15)(13,"button",16),$("click",function(){j(t);let i=F();return B(i.toggleTheme())}),p(14,"span",17),y(15),m()(),p(16,"button",18),$("click",function(){j(t);let i=F();return B(i.logout())}),p(17,"span",19),y(18,"\u{1F6AA}"),m(),p(19,"span",20),y(20,"Logout"),m()()()()()(),p(21,"main",9)(22,"nav",21)(23,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("home"))}),p(24,"span",23),y(25,"\u{1F3E0}"),m(),p(26,"span",24),y(27,"Home"),m()(),p(28,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("add-product"))}),p(29,"span",23),y(30,"\u{1F4E6}"),m(),p(31,"span",24),y(32,"Add Product"),m()(),p(33,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("sell"))}),p(34,"span",23),y(35,"\u{1F4B0}"),m(),p(36,"span",24),y(37,"Sell"),m()(),p(38,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("inventory"))}),p(39,"span",23),y(40,"\u{1F4CA}"),m(),p(41,"span",24),y(42,"Inventory"),m()(),p(43,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("customers"))}),p(44,"span",23),y(45,"\u{1F465}"),m(),p(46,"span",24),y(47,"Customers"),m()(),p(48,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("expenses"))}),p(49,"span",23),y(50,"\u{1F4B8}"),m(),p(51,"span",24),y(52,"Expenses"),m()(),p(53,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("reports"))}),p(54,"span",23),y(55,"\u{1F4C8}"),m(),p(56,"span",24),y(57,"Reports"),m()(),p(58,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("logs"))}),p(59,"span",23),y(60,"\u{1F4CB}"),m(),p(61,"span",24),y(62,"Activity Logs"),m()(),p(63,"button",22),$("click",function(){j(t);let i=F();return B(i.setActiveTab("chat"))}),p(64,"span",23),y(65,"\u{1F4AC}"),m(),p(66,"span",24),y(67,"Chat"),m()()(),p(68,"div",25),G(69,S2,3,0,"div",26)(70,M2,3,0,"div",26)(71,A2,3,0,"div",26)(72,P2,3,0,"div",26)(73,N2,3,0,"div",26)(74,O2,3,0,"div",26)(75,R2,3,0,"div",26)(76,k2,3,0,"div",26)(77,F2,3,0,"div",26),m()(),p(78,"footer",27)(79,"div",9)(80,"p"),y(81,"\xA9 2024 JJM Inventory. All rights reserved."),m()()()()}if(n&2){let t=F();_(13),R("title",t.isDarkTheme?"Switch to Light Mode":"Switch to Dark Mode"),_(2),K(t.isDarkTheme?"\u2600\uFE0F":"\u{1F319}"),_(8),Ae("active",t.activeTab==="home"),_(5),Ae("active",t.activeTab==="add-product"),_(5),Ae("active",t.activeTab==="sell"),_(5),Ae("active",t.activeTab==="inventory"),_(5),Ae("active",t.activeTab==="customers"),_(5),Ae("active",t.activeTab==="expenses"),_(5),Ae("active",t.activeTab==="reports"),_(5),Ae("active",t.activeTab==="logs"),_(5),Ae("active",t.activeTab==="chat"),_(6),R("ngIf",t.activeTab==="home"),_(),R("ngIf",t.activeTab==="add-product"),_(),R("ngIf",t.activeTab==="sell"),_(),R("ngIf",t.activeTab==="inventory"),_(),R("ngIf",t.activeTab==="customers"),_(),R("ngIf",t.activeTab==="expenses"),_(),R("ngIf",t.activeTab==="reports"),_(),R("ngIf",t.activeTab==="logs"),_(),R("ngIf",t.activeTab==="chat")}}var rI=(()=>{class n{constructor(t){this.inventoryService=t,this.title="JJM Inventory",this.activeTab="home",this.isDarkTheme=!1,this.isLoggedIn=!1,this.isChatOpen=!1,this.isLoggedIn=localStorage.getItem("jjm_logged_in")==="true";let r=localStorage.getItem("jjm_theme");this.isDarkTheme=r==="dark",this.applyTheme(),window.inventoryService=this.inventoryService}setActiveTab(t){this.activeTab=t}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.applyTheme(),localStorage.setItem("jjm_theme",this.isDarkTheme?"dark":"light")}logout(){localStorage.removeItem("jjm_logged_in"),localStorage.removeItem("jjm_username"),this.isLoggedIn=!1}applyTheme(){this.isDarkTheme?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")}toggleChat(){this.isChatOpen=!this.isChatOpen}static{this.\u0275fac=function(r){return new(r||n)(Q(tn))}}static{this.\u0275cmp=He({type:n,selectors:[["app-root"]],standalone:!0,features:[We],decls:13,vars:6,consts:[[4,"ngIf"],[1,"chat-widget"],["title","Open Chat",1,"chat-toggle-button",3,"click"],[1,"chat-icon"],[1,"chat-label"],[1,"chat-modal"],[1,"chat-modal-content"],["title","Close Chat",1,"chat-modal-close",3,"click"],[1,"header"],[1,"container"],[1,"header-content"],[1,"logo-section"],[1,"logo-icon"],[1,"brand-info"],[1,"tagline"],[1,"header-actions"],[1,"theme-toggle",3,"click","title"],[1,"theme-icon"],["title","Logout",1,"logout-button",3,"click"],[1,"logout-icon"],[1,"logout-text"],[1,"tabs"],[1,"tab-button",3,"click"],[1,"tab-icon"],[1,"tab-label"],[1,"tab-content"],["class","tab-pane",4,"ngIf"],[1,"footer"],[1,"tab-pane"],[1,"tab-pane-content"]],template:function(r,i){r&1&&(G(0,T2,1,0,"app-login",0)(1,V2,82,29,"div",0),p(2,"div",1)(3,"button",2),$("click",function(){return i.toggleChat()}),p(4,"span",3),y(5,"\u{1F4AC}"),m(),p(6,"span",4),y(7,"Chat"),m()(),p(8,"div",5)(9,"div",6),Ne(10,"app-chat"),m(),p(11,"button",7),$("click",function(){return i.toggleChat()}),y(12,"\u2715"),m()()()),r&2&&(R("ngIf",!i.isLoggedIn),_(),R("ngIf",i.isLoggedIn),_(2),Ae("active",i.isChatOpen),_(5),Ae("open",i.isChatOpen))},dependencies:[$e,st,$w,Hw,qw,Gw,Ww,Kw,Qw,Yw,Jw,nI],styles:['.header[_ngcontent-%COMP%]{background:var(--color-surface);border-bottom:1px solid var(--color-border);padding:var(--space-lg) 0;position:sticky;top:0;z-index:100;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.logo-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md)}.logo-icon[_ngcontent-%COMP%]{font-size:2.5rem;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.brand-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--color-text);margin:0;font-size:1.5rem;font-weight:700;letter-spacing:-.5px}.tagline[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:.75rem;margin:0;font-weight:500}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md)}.theme-toggle[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:var(--radius-xl);background:var(--color-bg);border:1px solid var(--color-border);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-base);padding:0}.theme-toggle[_ngcontent-%COMP%]:hover{background:var(--color-primary);border-color:var(--color-primary);transform:rotate(180deg) scale(1.1);box-shadow:var(--shadow-md)}.theme-icon[_ngcontent-%COMP%]{font-size:1.25rem;transition:transform var(--transition-base)}.logout-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:var(--radius-lg);color:var(--color-danger);font-weight:600;cursor:pointer;transition:all var(--transition-base)}.logout-button[_ngcontent-%COMP%]:hover{background:var(--color-danger);border-color:var(--color-danger);color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #ef44444d}.logout-icon[_ngcontent-%COMP%]{font-size:1.125rem}.logout-text[_ngcontent-%COMP%]{font-size:.875rem}.tabs[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);margin-top:var(--space-2xl);margin-bottom:var(--space-xl);padding:var(--space-sm);background:var(--color-bg);border-radius:var(--radius-xl);flex-wrap:wrap;box-shadow:inset 0 2px 4px #0000000d}.tab-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-md) var(--space-lg);background:transparent;border:none;border-radius:var(--radius-lg);color:var(--color-text-muted);font-size:.9375rem;font-weight:600;cursor:pointer;transition:all var(--transition-base);white-space:nowrap;position:relative;overflow:hidden}.tab-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.15),transparent);transition:left .5s ease}.tab-button[_ngcontent-%COMP%]:hover:before{left:100%}.tab-button[_ngcontent-%COMP%]:hover{background:#3b82f614;color:var(--color-primary);transform:translateY(-2px);box-shadow:0 4px 12px #3b82f626}.tab-button.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary),var(--color-primary-light));color:#fff;box-shadow:0 4px 12px #3b82f64d}.tab-button.active[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--color-primary-dark),var(--color-primary));transform:translateY(-2px) scale(1.02)}.tab-icon[_ngcontent-%COMP%]{font-size:1.25rem;transition:transform var(--transition-base);filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.tab-button[_ngcontent-%COMP%]:hover   .tab-icon[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.tab-button.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_iconPulse .6s ease;filter:drop-shadow(0 2px 8px rgba(255,255,255,.5))}.tab-label[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.3px}@keyframes _ngcontent-%COMP%_iconPulse{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}.tab-content[_ngcontent-%COMP%]{min-height:calc(100vh - 400px);padding-bottom:var(--space-2xl);position:relative}.tab-pane[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .4s cubic-bezier(.16,1,.3,1)}.tab-pane-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.footer[_ngcontent-%COMP%]{background:var(--color-surface);border-top:1px solid var(--color-border);padding:var(--space-lg) 0;margin-top:var(--space-2xl)}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:var(--color-text-muted);font-size:.875rem}@media (max-width: 768px){.tab-button[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);font-size:.875rem}.tab-icon[_ngcontent-%COMP%]{font-size:1rem}.tab-label[_ngcontent-%COMP%]{display:none}}.chat-widget[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000}.chat-toggle-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-md) var(--space-lg);background:linear-gradient(135deg,#3b82f6,#2563eb);border:none;border-radius:var(--radius-xl);color:#fff;font-weight:600;font-size:.9375rem;cursor:pointer;box-shadow:0 8px 24px #3b82f666;transition:all var(--transition-base);position:relative;overflow:hidden}.chat-toggle-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .6s ease}.chat-toggle-button[_ngcontent-%COMP%]:hover:before{left:100%}.chat-toggle-button[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 12px 32px #3b82f680}.chat-toggle-button.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 8px 24px #ef444466}.chat-toggle-button.active[_ngcontent-%COMP%]:hover{box-shadow:0 12px 32px #ef444480}.chat-icon[_ngcontent-%COMP%]{font-size:1.5rem;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.chat-label[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.3px}.chat-modal[_ngcontent-%COMP%]{position:fixed;bottom:100px;right:24px;width:420px;max-width:calc(100vw - 48px);height:600px;max-height:calc(100vh - 150px);background:var(--color-surface);border-radius:var(--radius-xl);box-shadow:0 20px 60px #0000004d;opacity:0;transform:translateY(20px) scale(.95);pointer-events:none;transition:all .3s cubic-bezier(.16,1,.3,1);display:flex;flex-direction:column;overflow:hidden;border:1px solid var(--color-border)}.chat-modal.open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:all}.chat-modal-close[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:36px;height:36px;border-radius:var(--radius-lg);background:#00000080;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);color:#fff;font-size:1.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-base);padding:0;z-index:100;box-shadow:0 4px 12px #0000004d}.chat-modal-close[_ngcontent-%COMP%]:hover{background:#ef4444cc;transform:rotate(90deg) scale(1.1);box-shadow:0 6px 16px #ef444466}.chat-modal-content[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column}@media (max-width: 768px){.chat-widget[_ngcontent-%COMP%]{bottom:16px;right:16px}.chat-toggle-button[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md)}.chat-label[_ngcontent-%COMP%]{display:none}.chat-modal[_ngcontent-%COMP%]{bottom:80px;right:16px;left:16px;width:auto;max-width:none}}']})}}return n})();mw(rI,gw).catch(n=>console.error(n));

import{a as ge}from"./chunk-KYWWSFPF.js";import{a as pe}from"./chunk-ZEPJE35J.js";import{b as me}from"./chunk-UMH53EYM.js";import"./chunk-TAUYRG24.js";import{d as de}from"./chunk-PUD3YTYV.js";import"./chunk-2OLXG5GB.js";import"./chunk-C4EX7LVF.js";import{a as X,b as Z,c as $,f as ee,h as te,i as ne,j as ie,k as ae,l as re,m as oe,o as le,p as ce}from"./chunk-5SKNZFIP.js";import{a as se}from"./chunk-4ZW4BCJ4.js";import{Ab as k,Ba as l,Ca as P,Cb as E,Ra as y,Ta as u,Ua as D,Va as C,Wa as G,Ya as n,Za as i,_ as B,_a as Y,a as j,ac as J,bb as S,bc as R,cb as v,db as s,ga as d,gc as q,ha as g,ic as H,lb as r,mb as p,n as K,nb as M,ob as T,p as N,pb as Q,qb as x,rb as b,sb as f,ub as U}from"./chunk-BDSATVJ3.js";import{a as V,b as L,g as F}from"./chunk-7QOE2ANW.js";function _e(c,h){if(c&1){let e=S();n(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38),r(4),i(),n(5,"div")(6,"h4",39),r(7),i(),n(8,"p",40),r(9),n(10,"span"),r(11),i()()()(),n(12,"span",41),r(13),i()(),n(14,"div",42)(15,"div",43)(16,"span"),r(17,"Duration"),i(),n(18,"span"),r(19),i()(),n(20,"div",44),Y(21,"div",45),i()(),n(22,"div",46)(23,"button",47),v("click",function(){let t=d(e).$implicit,o=s();return g(o.openEditModal(t))}),r(24,"Edit Details"),i(),n(25,"button",47),v("click",function(){let t=d(e).$implicit,o=s();return g(o.toggleActive(t))}),r(26),i(),n(27,"button",48),v("click",function(){let t=d(e).$implicit,o=s();return g(o.deleteSale(t))}),n(28,"span",7),r(29,"delete"),i()()()()}if(c&2){let e=h.$implicit,a=s();C("active",a.isSaleActive(e)),l(4),p(e.bannerIcon||"\u{1F389}"),l(3),p(e.name),l(2),T(" ",e.discount,"% OFF \u2022 ",e.duration," days \u2022 "),l(),G(a.getSaleClass(e)),l(),M(" ",a.getSaleLabel(e)," "),l(),C("live",a.isSaleActive(e))("scheduled",!a.isSaleActive(e)&&e.isActive)("disabled",!e.isActive),l(),M(" ",a.isSaleActive(e)?"Active":e.isActive?"Scheduled":"Disabled"," "),l(6),T("",a.getDateString(e)," - ",a.getEndDateString(e),""),l(2),D("width",a.isSaleActive(e)?50:0,"%"),l(5),p(e.isActive?"Disable":"Enable")}}function ve(c,h){c&1&&(n(0,"div",49)(1,"p"),r(2,"No campaigns found."),i()())}function xe(c,h){c&1&&(n(0,"span",7),r(1,"inventory_2"),i())}function be(c,h){if(c&1&&(n(0,"tr")(1,"td")(2,"div",53)(3,"div",54),y(4,xe,2,0,"span",55),i(),n(5,"span"),r(6),i()()(),n(7,"td")(8,"span",56),r(9),i()(),n(10,"td",57),r(11),k(12,"currency"),i(),n(13,"td",58),r(14),k(15,"currency"),i(),n(16,"td")(17,"span",59),r(18),i()(),n(19,"td"),r(20),i()()),c&2){let e=h.$implicit;l(3),D("background-image",e.imageUrl?"url("+e.imageUrl+")":""),l(),u("ngIf",!e.imageUrl),l(2),p(e.name),l(3),p(e.category),l(2),p(E(12,9,e.basePrice,"PHP")),l(3),p(E(15,12,e.salePrice,"PHP")),l(4),M("-",e.discountPercent,"%"),l(2),p(e.saleName)}}function fe(c,h){if(c&1&&(n(0,"div",50)(1,"table",51)(2,"thead")(3,"tr")(4,"th"),r(5,"Product Name"),i(),n(6,"th"),r(7,"Category"),i(),n(8,"th"),r(9,"Base Price"),i(),n(10,"th"),r(11,"Sale Price"),i(),n(12,"th"),r(13,"Discount"),i(),n(14,"th"),r(15,"Campaign"),i()()(),n(16,"tbody"),y(17,be,21,15,"tr",52),i()()()),c&2){let e=s();l(17),u("ngForOf",e.paginatedProducts)}}function ye(c,h){c&1&&(n(0,"span",7),r(1,"inventory_2"),i())}function Ce(c,h){if(c&1&&(n(0,"div",62)(1,"div",63)(2,"div",64),y(3,ye,2,0,"span",55),i(),n(4,"div",65),r(5),i()(),n(6,"div",66)(7,"h4",67),r(8),i(),n(9,"span",56),r(10),i(),n(11,"div",68)(12,"span",69),r(13),k(14,"currency"),i(),n(15,"span",70),r(16),k(17,"currency"),i()(),n(18,"p",71),r(19),i()()()),c&2){let e=h.$implicit;l(2),D("background-image",e.imageUrl?"url("+e.imageUrl+")":""),l(),u("ngIf",!e.imageUrl),l(2),M("-",e.discountPercent,"%"),l(3),p(e.name),l(2),p(e.category),l(3),p(E(14,9,e.basePrice,"PHP")),l(3),p(E(17,12,e.salePrice,"PHP")),l(3),p(e.saleName)}}function Me(c,h){if(c&1&&(n(0,"div",60),y(1,Ce,20,15,"div",61),i()),c&2){let e=s();l(),u("ngForOf",e.paginatedProducts)}}function Se(c,h){c&1&&(n(0,"div",72)(1,"p",73),r(2,"No products found for this search."),i()())}function Pe(c,h){c&1&&(n(0,"span",82),r(1,"..."),i())}function we(c,h){if(c&1){let e=S();n(0,"button",83),v("click",function(){d(e);let t=s(2);return g(t.currentPage=t.totalPages)}),r(1),i()}if(c&2){let e=s(2);l(),p(e.totalPages)}}function Oe(c,h){if(c&1){let e=S();n(0,"div",74)(1,"div",75),r(2),i(),n(3,"div",76)(4,"button",77),v("click",function(){d(e);let t=s();return g(t.prevPage())}),n(5,"span",7),r(6,"chevron_left"),i()(),n(7,"div",78)(8,"button",79),r(9),i(),y(10,Pe,2,0,"span",80)(11,we,2,1,"button",81),i(),n(12,"button",77),v("click",function(){d(e);let t=s();return g(t.nextPage())}),n(13,"span",7),r(14,"chevron_right"),i()()()()}if(c&2){let e=s();l(2),Q(" Showing ",e.startRange,"-",e.endRange," of ",e.totalFilteredDiscountedCount," results "),l(2),u("disabled",e.currentPage===1),l(5),p(e.currentPage),l(),u("ngIf",e.totalPages>e.currentPage),l(),u("ngIf",e.totalPages>e.currentPage),l(),u("disabled",e.currentPage===e.totalPages)}}function ke(c,h){if(c&1&&(n(0,"option",124),r(1),i()),c&2){let e=h.$implicit,a=h.index;u("value",a+1),l(),p(e)}}function Ee(c,h){if(c&1){let e=S();n(0,"div",125)(1,"label"),r(2,"Markup %"),i(),n(3,"input",126),f("ngModelChange",function(t){d(e);let o=s(2);return b(o.currentSale.psychologicalDiscount,t)||(o.currentSale.psychologicalDiscount=t),g(t)}),i()()}if(c&2){let e=s(2);l(3),x("ngModel",e.currentSale.psychologicalDiscount)}}function De(c,h){if(c&1){let e=S();n(0,"div",125)(1,"label"),r(2,"Discount %"),i(),n(3,"input",127),f("ngModelChange",function(t){d(e);let o=s(2);return b(o.currentSale.actualDiscount,t)||(o.currentSale.actualDiscount=t),g(t)}),i()()}if(c&2){let e=s(2);l(3),x("ngModel",e.currentSale.actualDiscount)}}function Ie(c,h){if(c&1){let e=S();n(0,"div",84),v("click",function(){d(e);let t=s();return g(t.closeModal())}),n(1,"div",85),v("click",function(t){return d(e),g(t.stopPropagation())}),n(2,"div",86)(3,"h3",87),r(4),i(),n(5,"button",88),v("click",function(){d(e);let t=s();return g(t.closeModal())}),n(6,"span",7),r(7,"close"),i()()(),n(8,"div",89)(9,"div",90)(10,"h4"),r(11,"Basic Information"),i(),n(12,"div",91)(13,"label",92),r(14,"Sale Name *"),i(),n(15,"input",93),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.name,t)||(o.currentSale.name=t),g(t)}),i()(),n(16,"div",94)(17,"div",91)(18,"label",92),r(19,"Month"),i(),n(20,"select",95),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.month,t)||(o.currentSale.month=t),g(t)}),y(21,ke,2,2,"option",96),i()(),n(22,"div",91)(23,"label",92),r(24,"Day"),i(),n(25,"input",97),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.day,t)||(o.currentSale.day=t),g(t)}),i()(),n(26,"div",91)(27,"label",92),r(28,"Duration (days)"),i(),n(29,"input",98),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.duration,t)||(o.currentSale.duration=t),g(t)}),i()()(),n(30,"div",91)(31,"label",92),r(32,"Sale Strategy & Discounts"),i(),n(33,"div",99)(34,"div",100)(35,"div",101)(36,"input",102),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.isPsychologicalSale,t)||(o.currentSale.isPsychologicalSale=t),g(t)}),i(),n(37,"label",103)(38,"span",104),r(39,"Preview Sale"),i(),n(40,"span",105),r(41,"Inflates original price for larger perceived discount."),i()()(),y(42,Ee,4,1,"div",106),i(),n(43,"div",107)(44,"div",101)(45,"input",108),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.isActualSale,t)||(o.currentSale.isActualSale=t),g(t)}),i(),n(46,"label",109)(47,"span",104),r(48,"Actual Sale"),i(),n(49,"span",105),r(50,"Reduces transaction price (Pay Less)."),i()()(),y(51,De,4,1,"div",106),i()()()(),n(52,"div",90)(53,"div",110)(54,"h4"),r(55,"Banner Customization"),i(),n(56,"button",111),v("click",function(){d(e);let t=s();return g(t.generateAiPitch())}),n(57,"span",7),r(58),i(),n(59,"span"),r(60),i()()(),n(61,"div",94)(62,"div",112)(63,"label",92),r(64,"Icon (Emoji)"),i(),n(65,"input",113),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.bannerIcon,t)||(o.currentSale.bannerIcon=t),g(t)}),i()(),n(66,"div",114)(67,"label",92),r(68,"Banner Title"),i(),n(69,"input",115),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.bannerTitle,t)||(o.currentSale.bannerTitle=t),g(t)}),i()()(),n(70,"div",91)(71,"label",92),r(72,"Banner Message"),i(),n(73,"input",116),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.bannerMessage,t)||(o.currentSale.bannerMessage=t),g(t)}),i()()(),n(74,"div",90)(75,"h4"),r(76,"Product Filtering (Optional)"),i(),n(77,"div",91)(78,"label",92),r(79,"Include Keywords (comma-separated)"),i(),n(80,"textarea",117),f("ngModelChange",function(t){d(e);let o=s();return b(o.holidayKeywordsString,t)||(o.holidayKeywordsString=t),g(t)}),i(),n(81,"small"),r(82,"Products containing these keywords will be on sale"),i()(),n(83,"div",91)(84,"label",92),r(85,"Exclude Keywords (comma-separated)"),i(),n(86,"textarea",118),f("ngModelChange",function(t){d(e);let o=s();return b(o.excludeKeywordsString,t)||(o.excludeKeywordsString=t),g(t)}),i(),n(87,"small"),r(88,"Products containing these keywords will NOT be on sale"),i()()(),n(89,"div",90)(90,"label",119)(91,"input",120),f("ngModelChange",function(t){d(e);let o=s();return b(o.currentSale.isActive,t)||(o.currentSale.isActive=t),g(t)}),i(),n(92,"span"),r(93,"Sale is Active"),i()()()(),n(94,"div",121)(95,"button",122),v("click",function(){d(e);let t=s();return g(t.closeModal())}),r(96,"Cancel"),i(),n(97,"button",123),v("click",function(){d(e);let t=s();return g(t.saveSale())}),n(98,"span",7),r(99),i(),r(100),i()()()()}if(c&2){let e=s();l(4),p(e.isEditing?"Edit Sale Event":"Add Sale Event"),l(11),x("ngModel",e.currentSale.name),l(5),x("ngModel",e.currentSale.month),l(),u("ngForOf",e.monthNames),l(4),x("ngModel",e.currentSale.day),l(4),x("ngModel",e.currentSale.duration),l(5),C("active",e.currentSale.isPsychologicalSale),l(2),x("ngModel",e.currentSale.isPsychologicalSale),l(6),u("ngIf",e.currentSale.isPsychologicalSale),l(),C("active",e.currentSale.isActualSale),l(2),x("ngModel",e.currentSale.isActualSale),l(6),u("ngIf",e.currentSale.isActualSale),l(5),u("disabled",e.isGeneratingAi),l(),C("spin",e.isGeneratingAi),l(),M(" ",e.isGeneratingAi?"autorenew":"auto_awesome"," "),l(2),p(e.isGeneratingAi?"Thinking...":"AI Pitch"),l(5),x("ngModel",e.currentSale.bannerIcon),l(4),x("ngModel",e.currentSale.bannerTitle),l(4),x("ngModel",e.currentSale.bannerMessage),l(7),x("ngModel",e.holidayKeywordsString),l(6),x("ngModel",e.excludeKeywordsString),l(5),x("ngModel",e.currentSale.isActive),l(8),p(e.isEditing?"save":"add"),l(),M(" ",e.isEditing?"Save Changes":"Create Sale"," ")}}var Ge=(()=>{class c{constructor(e,a,t,o,m){this.saleService=e,this.inventoryService=a,this.dialogService=t,this.aiService=o,this.deviceService=m,this.sales=[],this.products=[],this.discountedProducts=[],this.subscriptions=new j,this.viewMode="table",this.activeCampaignsCount=0,this.discountedSkusCount=0,this.avgDiscount=0,this.currentPage=1,this.pageSize=10,this.math=Math,this.showModal=!1,this.isEditing=!1,this.currentSale={},this.searchQuery="",this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.isGeneratingAi=!1,this.saleType="psychological"}generateAiPitch(){if(!this.currentSale.name){this.dialogService.alert("Info","Please enter a Sale Name first to give the AI some context.");return}this.isGeneratingAi=!0;let e=this.currentSale.isActualSale?`offering ${((this.currentSale.actualDiscount||0)+(this.currentSale.psychologicalDiscount||0))/2}% real discount`:"with amazing deals",t=`You are a marketing copywriting expert. Write a catchy, exciting, and short sales pitch for a website banner based on this event: "${`Sale Name: ${this.currentSale.name}. ${e}. Duration: ${this.currentSale.duration} days.`}".
    
    Respond with a strictly valid JSON object containing two keys:
    1. "title": A short catchy headline (include an emoji if appropriate, max 5 words, do not use quotes).
    2. "message": A compelling short description (max 12 words).
    
    Example response:
    {
      "title": "\u{1F384} Mega Holiday Sale!",
      "message": "Get up to 50% off on all holiday items today!"
    }
    
    Do not include markdown formatting, code blocks, or explanations. Just the JSON string.`;this.aiService.generateWithGemma(t).subscribe({next:o=>{if(this.isGeneratingAi=!1,o){let m=o;try{m=o.replace(/```json/g,"").replace(/```/g,"").trim();let _=JSON.parse(m);_.title&&(this.currentSale.bannerTitle=_.title),_.message&&(this.currentSale.bannerMessage=_.message)}catch(_){console.error("Failed to parse AI response",_),this.currentSale.bannerMessage=m||o}}},error:o=>{this.isGeneratingAi=!1,console.error("AI Generation Error",o),this.dialogService.alert("Error","Failed to generate pitch. Please try again.")}})}ngOnInit(){this.saleService.startListening(),this.inventoryService.reloadData(),this.subscriptions.add(N([this.saleService.getSales(),this.inventoryService.products$]).subscribe(([e,a])=>{this.sales=e,this.products=a,this.calculateStats(),this.updateDiscountedProducts()})),this.subscriptions.add(this.deviceService.isMobile$.subscribe(e=>{e&&(this.viewMode="grid")}))}calculateStats(){this.activeCampaignsCount=this.sales.filter(e=>this.isSaleActive(e)).length}toggleSaleType(e){this.saleType=e,this.updateDiscountedProducts()}calculateDynamicDiscount(e,a){let t=this.getProductSeed(e.id),o=t%25-15,m=0;e.quantity>20?m=5+t%6:e.quantity<5&&(m=-5-t%6);let _=Math.min(95,Math.max(15,a+o+m));return Math.round(_/5)*5}updateDiscountedProducts(){this.discountedProducts=[];let e=this.sales.filter(t=>this.isSaleActive(t));if(e.length===0){this.discountedSkusCount=0,this.avgDiscount=0;return}let a=0;this.products.forEach(t=>{let o=e.find(m=>this.isProductIncludedInSale(t,m));if(o){let m=o.isActualSale,_=o.isPsychologicalSale,z=o.actualDiscount||0,W=o.psychologicalDiscount||0;m===void 0&&_===void 0&&((o.saleType||"psychological")==="actual"?(m=!0,z=o.discount):(_=!0,W=o.discount));let w=t.price;if(m){let A=this.calculateDynamicDiscount(t,z);w=t.price*(1-A/100)}let O=t.price;if(_){let ue=1-this.calculateDynamicDiscount(t,W)/100,he=w/ue;O=Math.ceil(he/10)*10}let I=0;O>w&&(I=Math.round((O-w)/O*100)),this.discountedProducts.push(L(V({},t),{basePrice:O,salePrice:w,discountPercent:I,saleName:o.name})),a+=I}}),this.discountedSkusCount=this.discountedProducts.length,this.avgDiscount=this.discountedSkusCount>0?Math.round(a/this.discountedSkusCount):0,this.currentPage=1}getProductSeed(e){let a=0;for(let t=0;t<e.length;t++)a=(a<<5)-a+(e.codePointAt(t)||0),a=a&a;return Math.abs(a)}get filteredSales(){if(!this.searchQuery)return this.sales;let e=this.searchQuery.toLowerCase();return this.sales.filter(a=>a.name.toLowerCase().includes(e)||a.bannerTitle?.toLowerCase().includes(e))}get paginatedProducts(){let e=this.discountedProducts;if(this.searchQuery){let t=this.searchQuery.toLowerCase();e=e.filter(o=>o.name.toLowerCase().includes(t)||o.category?.toLowerCase().includes(t)||o.saleName?.toLowerCase().includes(t))}let a=(this.currentPage-1)*this.pageSize;return e.slice(a,a+this.pageSize)}get totalFilteredDiscountedCount(){if(!this.searchQuery)return this.discountedProducts.length;let e=this.searchQuery.toLowerCase();return this.discountedProducts.filter(a=>a.name.toLowerCase().includes(e)||a.category?.toLowerCase().includes(e)||a.saleName?.toLowerCase().includes(e)).length}get totalPages(){return Math.ceil(this.totalFilteredDiscountedCount/this.pageSize)}get startRange(){return this.totalFilteredDiscountedCount===0?0:(this.currentPage-1)*this.pageSize+1}get endRange(){return Math.min(this.currentPage*this.pageSize,this.totalFilteredDiscountedCount)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}isProductIncludedInSale(e,a){if(a.excludeKeywords&&a.excludeKeywords.length>0&&a.excludeKeywords.some(_=>e.name.toLowerCase().includes(_.toLowerCase())||e.category.toLowerCase().includes(_.toLowerCase())))return!1;if(a.holidayKeywords&&a.holidayKeywords.length>0&&a.holidayKeywords.some(_=>e.name.toLowerCase().includes(_.toLowerCase())||e.category.toLowerCase().includes(_.toLowerCase())))return!0;let t=["construction","hardware","building","industrial"],o=(e.category||"").toLowerCase();return!t.some(m=>o.includes(m))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.saleService.stopListening()}isSaleActive(e){if(!e.isActive)return!1;let a=new Date,t=new Date(a.getFullYear(),e.month-1,e.day),o=new Date(t);return o.setDate(o.getDate()+e.duration),a>=t&&a<=o}openAddModal(){this.isEditing=!1,this.currentSale={name:"",month:new Date().getMonth()+1,day:1,duration:7,discount:30,isActive:!0,bannerTitle:"",bannerMessage:"",bannerIcon:"\u{1F389}",holidayKeywords:[],excludeKeywords:[],isActualSale:!1,actualDiscount:10,isPsychologicalSale:!0,psychologicalDiscount:30},this.showModal=!0}openEditModal(e){this.isEditing=!0,this.currentSale=V({},e),this.showModal=!0}closeModal(){this.showModal=!1,this.currentSale={}}saveSale(){if(!this.currentSale.name){this.dialogService.alert("Error","Please enter a sale name.");return}if(this.isEditing&&this.currentSale.id)this.saleService.updateSale(this.currentSale.id,this.currentSale).subscribe({next:()=>{this.closeModal()},error:e=>{this.dialogService.alert("Error","Failed to update sale: "+e.message)}});else{let e=this.currentSale.isPsychologicalSale?this.currentSale.psychologicalDiscount||0:this.currentSale.actualDiscount||0,a=this.currentSale.isActualSale&&!this.currentSale.isPsychologicalSale?"actual":"psychological",t={name:this.currentSale.name||"",month:this.currentSale.month||1,day:this.currentSale.day||1,duration:this.currentSale.duration||7,discount:e,saleType:a,isActive:this.currentSale.isActive??!0,bannerTitle:this.currentSale.bannerTitle||"",bannerMessage:this.currentSale.bannerMessage||"",bannerIcon:this.currentSale.bannerIcon||"",holidayKeywords:this.currentSale.holidayKeywords||[],excludeKeywords:this.currentSale.excludeKeywords||[],isActualSale:this.currentSale.isActualSale??!1,actualDiscount:this.currentSale.actualDiscount||0,isPsychologicalSale:this.currentSale.isPsychologicalSale??!1,psychologicalDiscount:this.currentSale.psychologicalDiscount||0};this.saleService.addSale(t).subscribe({next:()=>{this.closeModal()},error:o=>{this.dialogService.alert("Error","Failed to add sale: "+o.message)}})}}toggleActive(e){e.id&&this.saleService.updateSale(e.id,{isActive:!e.isActive}).subscribe()}deleteSale(e){return F(this,null,function*(){if(!e.id)return;(yield K(this.dialogService.confirm("Delete Sale",`Are you sure you want to delete "${e.name}"?`)))&&this.saleService.deleteSale(e.id).subscribe()})}get holidayKeywordsString(){return(this.currentSale.holidayKeywords||[]).join(", ")}set holidayKeywordsString(e){this.currentSale.holidayKeywords=e.split(",").map(a=>a.trim().toLowerCase()).filter(a=>a.length>0)}get excludeKeywordsString(){return(this.currentSale.excludeKeywords||[]).join(", ")}set excludeKeywordsString(e){this.currentSale.excludeKeywords=e.split(",").map(a=>a.trim().toLowerCase()).filter(a=>a.length>0)}getDateString(e){return`${this.monthNames[e.month-1]} ${e.day}`}getEndDateString(e){let a=new Date(new Date().getFullYear(),e.month-1,e.day),t=new Date(a);return t.setDate(t.getDate()+e.duration),`${this.monthNames[t.getMonth()]} ${t.getDate()}`}getSaleLabel(e){return e.isActualSale&&e.isPsychologicalSale?"Hybrid Deal":e.isActualSale?"Actual Deal":e.isPsychologicalSale?"Preview Sale":e.saleType==="actual"?"Actual Deal":"Preview Sale"}getSaleClass(e){return e.isActualSale&&e.isPsychologicalSale?"text-primary":e.isActualSale?"text-act":"text-psy"}static{this.\u0275fac=function(a){return new(a||c)(P(ge),P(de),P(se),P(me),P(pe))}}static{this.\u0275cmp=B({type:c,selectors:[["app-sales-management"]],standalone:!0,features:[U],decls:80,vars:15,consts:[[1,"sales-management"],[1,"page-header"],[1,"header-content"],[1,"header-text"],[1,"page-title"],[1,"page-subtitle"],[1,"add-btn",3,"click"],[1,"material-symbols-outlined"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon-bg"],[1,"material-symbols-outlined","text-primary"],[1,"stat-label"],[1,"stat-value-row"],[1,"stat-value"],[1,"stat-trend","positive"],[1,"section-container"],[1,"section-header"],[1,"section-title"],[1,"campaigns-grid"],["class","campaign-card",3,"active",4,"ngFor","ngForOf"],["class","empty-campaigns",4,"ngIf"],[1,"table-section"],[1,"table-header"],[1,"table-actions"],[1,"view-controls"],["title","List View",1,"view-btn",3,"click"],["title","Grid View",1,"view-btn",3,"click"],[1,"search-box"],["type","text","placeholder","Search...",3,"ngModelChange","ngModel"],["class","table-container",4,"ngIf"],["class","discounted-grid",4,"ngIf"],["class","empty-state-card",4,"ngIf"],["class","pagination",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"campaign-card"],[1,"card-header"],[1,"campaign-info"],[1,"campaign-icon"],[1,"campaign-name"],[1,"campaign-sub"],[1,"status-badge"],[1,"progress-section"],[1,"progress-labels"],[1,"progress-bar-bg"],[1,"progress-bar"],[1,"card-actions"],[1,"action-btn",3,"click"],[1,"action-btn","delete-btn",3,"click"],[1,"empty-campaigns"],[1,"table-container"],[1,"inventory-table"],[4,"ngFor","ngForOf"],[1,"product-cell"],[1,"product-img"],["class","material-symbols-outlined",4,"ngIf"],[1,"category-badge"],[1,"original-price"],[1,"sale-price"],[1,"discount-badge"],[1,"discounted-grid"],["class","discounted-card",4,"ngFor","ngForOf"],[1,"discounted-card"],[1,"discounted-card-header"],[1,"product-img-large"],[1,"discount-badge-large"],[1,"discounted-card-body"],[1,"product-name"],[1,"price-row"],[1,"original-price","strikethrough"],[1,"sale-price-value"],[1,"campaign-label"],[1,"empty-state-card"],[1,"text-center","text-muted"],[1,"pagination"],[1,"pagination-size"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-pages"],[1,"pagination-page","active"],["class","text-muted",4,"ngIf"],["class","pagination-page",3,"click",4,"ngIf"],[1,"text-muted"],[1,"pagination-page",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"form-section"],[1,"form-group"],[1,"form-label"],["type","text","placeholder","e.g., Christmas Sale",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","min","1","max","31",1,"form-input",3,"ngModelChange","ngModel"],["type","number","min","1","max","365",1,"form-input",3,"ngModelChange","ngModel"],[1,"strategy-group"],[1,"strategy-option"],[1,"strategy-check"],["type","checkbox","id","check-psych",3,"ngModelChange","ngModel"],["for","check-psych"],[1,"strategy-title"],[1,"strategy-desc"],["class","strategy-input",4,"ngIf"],[1,"strategy-option","border-t"],["type","checkbox","id","check-actual",3,"ngModelChange","ngModel"],["for","check-actual"],[1,"section-top-row"],["type","button","title","Generate with Gemma AI",1,"ai-btn",3,"click","disabled"],[1,"form-group","icon-group"],["type","text","maxlength","2",1,"form-input","icon-input",3,"ngModelChange","ngModel"],[1,"form-group","flex-1"],["type","text","placeholder","e.g., \u{1F381} Christmas Sale!",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Celebrate Christmas with amazing discounts!",1,"form-input",3,"ngModelChange","ngModel"],["placeholder","e.g., lechon, food, party, gift, cake","rows","2",1,"form-textarea",3,"ngModelChange","ngModel"],["placeholder","e.g., sand, cement, holloblock, construction","rows","2",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-submit",3,"click"],[3,"value"],[1,"strategy-input"],["type","number","min","5","max","95","step","5",3,"ngModelChange","ngModel"],["type","number","min","5","max","80","step","5",3,"ngModelChange","ngModel"]],template:function(a,t){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),r(5,"Sales & Promotions"),i(),n(6,"p",5),r(7,"Manage your active campaigns and discounted inventory."),i()(),n(8,"button",6),v("click",function(){return t.openAddModal()}),n(9,"span",7),r(10,"add"),i(),r(11," New Campaign "),i()()(),n(12,"div",8)(13,"div",9)(14,"div",10)(15,"span",11),r(16,"campaign"),i()(),n(17,"p",12),r(18,"Active Campaigns"),i(),n(19,"div",13)(20,"p",14),r(21),i(),n(22,"span",15)(23,"span",7),r(24,"trending_up"),i(),r(25," Active "),i()()(),n(26,"div",9)(27,"div",10)(28,"span",11),r(29,"shopping_bag"),i()(),n(30,"p",12),r(31,"Discounted SKUs"),i(),n(32,"div",13)(33,"p",14),r(34),i(),n(35,"span",15)(36,"span",7),r(37,"add"),i(),r(38," Items on sale "),i()()(),n(39,"div",9)(40,"div",10)(41,"span",11),r(42,"percent"),i()(),n(43,"p",12),r(44,"Avg. Discount"),i(),n(45,"div",13)(46,"p",14),r(47),i(),n(48,"span",15)(49,"span",7),r(50,"trending_up"),i(),r(51," Average "),i()()()(),n(52,"div",16)(53,"div",17)(54,"h3",18),r(55,"All Campaigns"),i()(),n(56,"div",19),y(57,_e,30,21,"div",20)(58,ve,3,0,"div",21),i()(),n(59,"div",22)(60,"div",23)(61,"h3",18),r(62,"Discounted Inventory"),i(),n(63,"div",24)(64,"div",25)(65,"button",26),v("click",function(){return t.viewMode="table"}),n(66,"span",7),r(67,"view_list"),i()(),n(68,"button",27),v("click",function(){return t.viewMode="grid"}),n(69,"span",7),r(70,"grid_view"),i()()(),n(71,"div",28)(72,"span",7),r(73,"search"),i(),n(74,"input",29),f("ngModelChange",function(m){return b(t.searchQuery,m)||(t.searchQuery=m),m}),v("ngModelChange",function(){return t.currentPage=1}),i()()()(),y(75,fe,18,1,"div",30)(76,Me,2,1,"div",31)(77,Se,3,0,"div",32)(78,Oe,15,8,"div",33),i(),y(79,Ie,101,27,"div",34),i()),a&2&&(l(21),p(t.activeCampaignsCount),l(13),p(t.discountedSkusCount),l(13),M("",t.avgDiscount,"%"),l(10),u("ngForOf",t.filteredSales),l(),u("ngIf",t.filteredSales.length===0),l(7),C("active",t.viewMode==="table"),l(3),C("active",t.viewMode==="grid"),l(6),x("ngModel",t.searchQuery),l(),u("ngIf",t.viewMode==="table"),l(),u("ngIf",t.viewMode==="grid"),l(),u("ngIf",t.totalFilteredDiscountedCount===0),l(),u("ngIf",t.totalFilteredDiscountedCount>0),l(),u("ngIf",t.showModal))},dependencies:[H,J,R,q,ce,ie,ae,Z,te,X,ne,$,le,oe,re,ee],styles:[".sales-management[_ngcontent-%COMP%]{padding:var(--space-lg);max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:var(--space-xl);animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.page-header[_ngcontent-%COMP%]{margin-bottom:.5rem}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;padding-bottom:var(--space-lg);border-bottom:1px solid var(--color-border)}.header-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;line-height:1.1;color:var(--color-text);margin:0}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-text-muted);margin:0}.add-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;background:var(--color-primary);color:#fff;border:none;border-radius:var(--radius-md);font-weight:700;font-size:.875rem;cursor:pointer;transition:all .2s;box-shadow:var(--shadow-md)}.add-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary-dark);transform:translateY(-1px);box-shadow:var(--shadow-lg)}.add-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:var(--space-md)}@media (min-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.stat-card[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:1.25rem;position:relative;overflow:hidden;transition:border-color .2s;box-shadow:var(--shadow-sm)}.stat-card[_ngcontent-%COMP%]:hover{border-color:var(--color-primary)}.stat-icon-bg[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:1rem;opacity:.1;transition:opacity .2s}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon-bg[_ngcontent-%COMP%]{opacity:.2}.stat-icon-bg[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--color-primary)}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:var(--color-text-muted);margin:0 0 .5rem}.stat-value-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.75rem}.stat-value[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;line-height:1;color:var(--color-text);margin:0}.stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.125rem;font-size:.75rem;font-weight:500;padding:.125rem .375rem;border-radius:.25rem;margin-bottom:.25rem}.stat-trend.positive[_ngcontent-%COMP%]{background:#10b9811a;color:var(--color-success)}.section-container[_ngcontent-%COMP%]{margin-bottom:var(--space-lg)}.section-header[_ngcontent-%COMP%]{margin-bottom:var(--space-md)}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:var(--color-text);margin:0}.campaigns-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:var(--space-lg)}@media (min-width: 1024px){.campaigns-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1280px){.campaigns-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.campaign-card[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-md);transition:all .2s;box-shadow:var(--shadow-sm)}.campaign-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-lg);border-color:var(--color-border)}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.campaign-info[_ngcontent-%COMP%]{display:flex;gap:var(--space-md)}.campaign-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;background:var(--color-bg);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:1.5rem}.campaign-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--color-text);margin:0}.campaign-sub[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted);margin:.25rem 0 0}.status-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;border:1px solid transparent}.status-badge.live[_ngcontent-%COMP%]{background:#10b9811a;color:var(--color-success);border-color:#10b98133}.status-badge.scheduled[_ngcontent-%COMP%]{background:#eab3081a;color:var(--color-warning);border-color:#eab30833}.status-badge.disabled[_ngcontent-%COMP%]{background:var(--color-bg);color:var(--color-text-muted)}.progress-section[_ngcontent-%COMP%]{margin-top:.5rem}.progress-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.75rem;color:var(--color-text-muted);margin-bottom:.5rem}.progress-bar-bg[_ngcontent-%COMP%]{width:100%;height:.5rem;background:var(--color-border);border-radius:9999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:var(--color-primary);border-radius:9999px}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding-top:var(--space-md);margin-top:auto;border-top:1px solid var(--color-border)}.action-btn[_ngcontent-%COMP%]{flex:1;padding:.5rem;background:var(--color-bg);border:none;border-radius:.25rem;color:var(--color-text-muted);font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s}.action-btn[_ngcontent-%COMP%]:hover{background:var(--color-border);color:var(--color-text)}.delete-btn[_ngcontent-%COMP%]{flex:0 0 auto;width:2.5rem;display:flex;align-items:center;justify-content:center}.delete-btn[_ngcontent-%COMP%]:hover{background:#ef44441a;color:var(--color-danger)}.delete-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:1.25rem}.table-section[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden;margin-bottom:2.5rem;box-shadow:var(--shadow-sm)}.table-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:1px solid var(--color-border);display:flex;flex-direction:column;gap:1rem}@media (min-width: 768px){.table-header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.inventory-table[_ngcontent-%COMP%]{width:100%;text-align:left;border-collapse:collapse}.inventory-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:.75rem;text-transform:uppercase;font-weight:500;color:var(--color-text-muted);background:var(--color-bg)}.inventory-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-top:1px solid var(--color-border);vertical-align:middle;font-size:.875rem;color:var(--color-text)}.inventory-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--color-bg)}.product-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-weight:500}.product-img[_ngcontent-%COMP%]{width:2rem;height:2rem;background:var(--color-bg);border-radius:.25rem;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center}.product-img[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-text-muted)}.category-badge[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:.875rem}.original-price[_ngcontent-%COMP%]{color:var(--color-text-muted);text-decoration:line-through}.sale-price[_ngcontent-%COMP%]{color:var(--color-success);font-weight:700}.discount-badge[_ngcontent-%COMP%]{background:#3b82f61a;color:var(--color-primary-light);font-size:.75rem;padding:.25rem .5rem;border-radius:.25rem}.text-muted[_ngcontent-%COMP%]{color:var(--color-text-muted)}.text-center[_ngcontent-%COMP%]{text-align:center}.py-4[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease;padding:var(--space-md)}.modal-content[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:var(--radius-xl);width:100%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:var(--shadow-xl);animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-lg);border-bottom:1px solid var(--color-border)}.modal-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--color-text);margin:0}.modal-close[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background:transparent;border-radius:var(--radius-md);color:var(--color-text-muted);cursor:pointer;padding:0;transition:all .2s}.modal-close[_ngcontent-%COMP%]:hover{background:var(--color-bg);color:var(--color-text)}.modal-body[_ngcontent-%COMP%]{padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-lg)}.form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:var(--color-primary);margin:0 0 .5rem;text-transform:uppercase;letter-spacing:.5px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text)}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{padding:10px 14px;border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);font-size:.875rem;transition:all .2s;width:100%}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #137fec26}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--color-text-muted);margin-top:.25rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.icon-group[_ngcontent-%COMP%]{flex:0 0 80px}.icon-input[_ngcontent-%COMP%]{font-size:1.5rem!important;text-align:center}.flex-1[_ngcontent-%COMP%]{flex:1}.discount-input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.discount-input[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1;padding:0}.discount-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--color-danger);min-width:60px;text-align:center}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:var(--color-text)}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:var(--space-lg);border-top:1px solid var(--color-border);background:var(--color-surface)}.btn-cancel[_ngcontent-%COMP%]{padding:10px 20px;background:transparent;border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text);font-weight:500;cursor:pointer;transition:all .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background:var(--color-bg)}.btn-submit[_ngcontent-%COMP%]{padding:10px 24px;background:var(--color-primary);border:none;border-radius:var(--radius-md);color:#fff;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:8px}.btn-submit[_ngcontent-%COMP%]:hover{background:var(--color-primary-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.search-box[_ngcontent-%COMP%]{position:relative;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem .5rem .5rem 2.25rem;border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg);cursor:text}.search-box[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);font-size:1.25rem;color:var(--color-text-muted)}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:var(--space-md);margin-top:var(--space-lg);padding:var(--space-lg);border-top:1px solid var(--color-border)}.pagination-size[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);font-size:.875rem;color:var(--color-text)}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.pagination-pages[_ngcontent-%COMP%]{display:flex;gap:4px}.pagination-btn[_ngcontent-%COMP%], .pagination-page[_ngcontent-%COMP%]{padding:4px 10px;border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);cursor:pointer;min-width:32px;height:32px;display:flex;align-items:center;justify-content:center;font-size:.875rem;font-weight:500;transition:all .2s}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled), .pagination-page[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);color:var(--color-primary);background:var(--color-bg)}.pagination-page.active[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.sale-type-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-right:1.5rem}.toggle-text[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);font-weight:500}.toggle-pill[_ngcontent-%COMP%]{display:flex;background-color:var(--color-surface);border:1px solid var(--color-border);border-radius:9999px;padding:.25rem;gap:.25rem}.type-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:.75rem;font-weight:600;color:var(--color-text-muted);padding:.25rem .75rem;border-radius:9999px;cursor:pointer;transition:all .2s ease}.type-btn[_ngcontent-%COMP%]:hover{color:var(--color-text);background-color:#0000000d}.type-btn.active[_ngcontent-%COMP%]{background-color:var(--color-primary);color:#fff;box-shadow:0 1px 2px #0000001a}body.dark-theme[_ngcontent-%COMP%]   .type-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.strategy-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);border-radius:var(--radius-md);overflow:hidden;background-color:var(--color-surface)}.strategy-option[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;transition:background-color .2s}.strategy-option.active[_ngcontent-%COMP%]{background-color:#3b82f60d}body.dark-theme[_ngcontent-%COMP%]   .strategy-option.active[_ngcontent-%COMP%]{background-color:#4388ff1a}.strategy-option.border-t[_ngcontent-%COMP%]{border-top:1px solid var(--color-border)}.strategy-check[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;flex:1}.strategy-check[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-top:3px;min-width:18px;min-height:18px;accent-color:var(--color-primary);cursor:pointer}.strategy-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;cursor:pointer}.strategy-title[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text);font-size:.9rem}.strategy-desc[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted);margin-top:2px;line-height:1.3}.strategy-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:4px;margin-left:16px;min-width:85px}.strategy-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.65rem;font-weight:700;text-transform:uppercase;color:var(--color-text-muted);letter-spacing:.02em}.strategy-input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:6px;border:1px solid var(--color-border);border-radius:var(--radius-sm);font-size:.9rem;text-align:center;background:var(--color-surface);color:var(--color-text);font-weight:600}.strategy-input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{border-color:var(--color-primary);outline:none;box-shadow:0 0 0 2px #3b82f61a}.text-psy[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600}.text-act[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.text-primary[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}.section-top-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.section-top-row[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.ai-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .8rem;background:linear-gradient(135deg,#6366f1,#a855f7);color:#fff;border:none;border-radius:var(--radius-md);font-size:.75rem;font-weight:600;cursor:pointer;transition:all .2s;box-shadow:0 2px 4px #a855f733}.ai-btn[_ngcontent-%COMP%]:hover{filter:brightness(1.1);transform:translateY(-1px);box-shadow:0 4px 8px #a855f74d}.ai-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.ai-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:1rem}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.table-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md)}.view-controls[_ngcontent-%COMP%]{display:flex;background:var(--color-bg);padding:4px;border-radius:var(--radius-lg);border:1px solid var(--color-border)}.view-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:none;background:transparent;color:var(--color-text-muted);border-radius:var(--radius-md);cursor:pointer;transition:all .2s}.view-btn.active[_ngcontent-%COMP%]{background:var(--color-surface);color:var(--color-primary);box-shadow:var(--shadow-sm)}.view-btn[_ngcontent-%COMP%]:hover:not(.active){background:#0000000d}.view-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}.discounted-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--space-lg);padding:var(--space-lg)}.discounted-card[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-xl);overflow:hidden;transition:all .2s;box-shadow:var(--shadow-sm)}.discounted-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--color-primary)}.discounted-card-header[_ngcontent-%COMP%]{position:relative;padding:var(--space-lg);background:var(--color-bg);display:flex;align-items:center;justify-content:center}.product-img-large[_ngcontent-%COMP%]{width:80px;height:80px;background:var(--color-surface);border-radius:var(--radius-lg);background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;border:1px solid var(--color-border)}.product-img-large[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--color-text-muted)}.discount-badge-large[_ngcontent-%COMP%]{position:absolute;top:var(--space-md);right:var(--space-md);background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;padding:4px 12px;border-radius:9999px;font-size:.875rem;font-weight:800;box-shadow:0 2px 8px #ef44444d}.discounted-card-body[_ngcontent-%COMP%]{padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-sm)}.discounted-card-body[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--color-text);margin:0;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.price-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);margin-top:var(--space-sm)}.strikethrough[_ngcontent-%COMP%]{text-decoration:line-through;font-size:.875rem}.sale-price-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:var(--color-success)}.campaign-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted);margin:0;padding-top:var(--space-sm);border-top:1px dashed var(--color-border)}.empty-state-card[_ngcontent-%COMP%]{padding:var(--space-2xl);text-align:center;background:var(--color-surface);margin:var(--space-lg);border-radius:var(--radius-xl);border:1px dashed var(--color-border)}body.dark-theme[_nghost-%COMP%]   .discounted-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .discounted-card[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .empty-state-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .empty-state-card[_ngcontent-%COMP%]{background:#1e293b}body.dark-theme[_nghost-%COMP%]   .discounted-card-header[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .discounted-card-header[_ngcontent-%COMP%]{background:#101922}body.dark-theme[_nghost-%COMP%]   .product-img-large[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .product-img-large[_ngcontent-%COMP%]{background:#1e293b}body.dark-theme[_nghost-%COMP%]   .view-btn[_ngcontent-%COMP%]:hover:not(.active), body.dark-theme   [_nghost-%COMP%]   .view-btn[_ngcontent-%COMP%]:hover:not(.active){background:#ffffff0d}body.dark-theme[_nghost-%COMP%]   .view-controls[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .view-controls[_ngcontent-%COMP%]{background:#101922}body.dark-theme[_nghost-%COMP%]   .stat-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .stat-card[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .campaign-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .campaign-card[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .table-section[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .table-section[_ngcontent-%COMP%], body.dark-theme[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b}"]})}}return c})();export{Ge as SalesManagementComponent};

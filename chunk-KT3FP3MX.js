import{a as D}from"./chunk-UO3WJVEX.js";import{a as I,b as z,c as Y,d as j,e as F,f as B,m as N,n as T}from"./chunk-ZPQL42FH.js";import{$a as S,Ca as p,Ea as l,Fa as O,Ia as r,Ja as i,Ka as _,Ma as h,Na as P,Sa as a,Ua as w,X as x,Xa as v,Ya as M,Za as C,sa as s,ta as y,tb as L,ub as k,zb as E}from"./chunk-K7VUYT6X.js";function A(t,c){if(t&1&&_(0,"div",18),t&2){let e=c.$implicit;O("left",e.x,"%")("top",e.y,"%")("width",e.size,"px")("height",e.size,"px")("animation-delay",e.delay,"s")}}function V(t,c){if(t&1&&(r(0,"div",19)(1,"span",20),a(2,"\u26A0\uFE0F"),i(),a(3),i()),t&2){let e=P();s(3),w(" ",e.errorMessage," ")}}function J(t,c){t&1&&(r(0,"span"),a(1,"Sign In"),i())}function R(t,c){t&1&&(r(0,"span",21),_(1,"span",22),a(2," Signing in... "),i())}var ee=(()=>{class t{constructor(e){this.userService=e,this.username="",this.password="",this.errorMessage="",this.isLoading=!1,this.bubbles=[]}ngOnInit(){this.generateBubbles()}ngOnDestroy(){}onMouseMove(e){document.querySelectorAll(".bubble").forEach(n=>{let g=n,o=g.getBoundingClientRect(),W=o.left+o.width/2,q=o.top+o.height/2,u=e.clientX-W,f=e.clientY-q,m=Math.sqrt(u*u+f*f);if(m<250){let b=(250-m)/250,H=u/m*b*50,X=f/m*b*50;g.style.transform=`translate(${H}px, ${X}px) scale(${1+b*.3})`}else g.style.transform="translate(0, 0) scale(1)"})}generateBubbles(){for(let e=0;e<15;e++)this.bubbles.push({x:Math.random()*100,y:Math.random()*100,size:Math.random()*100+50,delay:Math.random()*5})}onLogin(){if(this.errorMessage="",!this.username||!this.password){this.errorMessage="Please enter both username and password";return}this.isLoading=!0,setTimeout(()=>{this.userService.validateCredentials(this.username,this.password).subscribe(e=>{e?(localStorage.setItem("jjm_logged_in","true"),localStorage.setItem("jjm_username",this.username),localStorage.setItem("jjm_user_id",e.id),localStorage.setItem("jjm_role",e.role),window.location.reload()):(this.errorMessage="Invalid username or password",this.isLoading=!1)})},800)}static{this.\u0275fac=function(d){return new(d||t)(y(D))}}static{this.\u0275cmp=x({type:t,selectors:[["app-login"]],hostBindings:function(d,n){d&1&&h("mousemove",function(o){return n.onMouseMove(o)})},standalone:!0,features:[S],decls:24,vars:9,consts:[[1,"login-container"],[1,"bubbles-container"],["class","bubble",3,"left","top","width","height","animation-delay",4,"ngFor","ngForOf"],[1,"login-card"],[1,"login-header"],[1,"logo-icon"],[1,"login-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","placeholder","Enter your username","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","Enter your password","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"bubble"],[1,"error-message"],[1,"error-icon"],[1,"loading-spinner"],[1,"spinner"]],template:function(d,n){d&1&&(r(0,"div",0)(1,"div",1),p(2,A,1,10,"div",2),i(),r(3,"div",3)(4,"div",4)(5,"div",5),a(6,"\u{1F4E6}"),i(),r(7,"h1",6),a(8,"JJM Inventory"),i(),r(9,"p",7),a(10,"Sign in to your account"),i()(),r(11,"form",8),h("ngSubmit",function(){return n.onLogin()}),r(12,"div",9)(13,"label",10),a(14,"Username"),i(),r(15,"input",11),C("ngModelChange",function(o){return M(n.username,o)||(n.username=o),o}),i()(),r(16,"div",9)(17,"label",12),a(18,"Password"),i(),r(19,"input",13),C("ngModelChange",function(o){return M(n.password,o)||(n.password=o),o}),i()(),p(20,V,4,1,"div",14),r(21,"button",15),p(22,J,2,0,"span",16)(23,R,3,0,"span",17),i()()()()),d&2&&(s(2),l("ngForOf",n.bubbles),s(13),v("ngModel",n.username),l("disabled",n.isLoading),s(4),v("ngModel",n.password),l("disabled",n.isLoading),s(),l("ngIf",n.errorMessage),s(),l("disabled",n.isLoading),s(),l("ngIf",!n.isLoading),s(),l("ngIf",n.isLoading))},dependencies:[E,L,k,T,B,I,z,Y,N,F,j],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--color-bg);padding:var(--space-lg);position:relative;overflow:hidden}.bubbles-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:0}.bubble[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:radial-gradient(circle at 30% 30%,#3b82f64d,#9333ea33);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:_ngcontent-%COMP%_float 8s ease-in-out infinite;transition:transform .15s ease-out;box-shadow:inset 0 0 20px #fff3,0 8px 32px #3b82f633;border:1px solid rgba(255,255,255,.1)}.bubble[_ngcontent-%COMP%]:before{content:"";position:absolute;top:10%;left:10%;width:40%;height:40%;background:radial-gradient(circle,rgba(255,255,255,.4),transparent);border-radius:50%}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}25%{transform:translateY(-20px) rotate(90deg)}50%{transform:translateY(0) rotate(180deg)}75%{transform:translateY(20px) rotate(270deg)}}.login-card[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:var(--radius-xl);box-shadow:0 20px 60px #0000004d;padding:var(--space-2xl);width:100%;max-width:420px;animation:_ngcontent-%COMP%_slideIn .5s cubic-bezier(.16,1,.3,1);position:relative;z-index:1}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--space-2xl)}.logo-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:var(--space-md);animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.login-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--color-text);margin-bottom:var(--space-xs);background:linear-gradient(135deg,var(--color-primary),var(--color-primary-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.login-subtitle[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:.9375rem;margin:0}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-text)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--space-md);font-size:1rem;border:2px solid var(--color-border);border-radius:var(--radius-md);transition:all var(--transition-base);background:var(--color-surface)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 4px #3b82f61a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#fee;color:var(--color-danger);padding:var(--space-md);border-radius:var(--radius-md);font-size:.875rem;border:1px solid rgba(239,68,68,.2);display:flex;align-items:center;gap:var(--space-sm);animation:_ngcontent-%COMP%_shake .4s ease}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.error-icon[_ngcontent-%COMP%]{font-size:1.25rem}.login-button[_ngcontent-%COMP%]{padding:var(--space-md) var(--space-xl);font-size:1rem;font-weight:600;background:linear-gradient(135deg,var(--color-primary),var(--color-primary-light));color:#fff;border:none;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-base);box-shadow:0 4px 12px #3b82f64d}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #3b82f666}.login-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm)}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:var(--space-2xl);padding-top:var(--space-lg);border-top:1px solid var(--color-border);text-align:center}.demo-credentials[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);line-height:1.6;margin:0}.demo-credentials[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--color-text)}.demo-credentials[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:var(--color-bg);padding:2px 6px;border-radius:var(--radius-sm);font-family:Courier New,monospace;color:var(--color-primary);font-weight:600}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:var(--space-xl)}.login-title[_ngcontent-%COMP%]{font-size:1.5rem}.logo-icon[_ngcontent-%COMP%]{font-size:3rem}}']})}}return t})();export{ee as a};

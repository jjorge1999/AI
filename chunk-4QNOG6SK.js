import{e as te}from"./chunk-VGBKJSWZ.js";import{a as ce}from"./chunk-X5HNFW2O.js";import{a as ie,b as ne,e as re,h as oe,i as ae,j as se,m as le}from"./chunk-ZXGV5G56.js";import{a as pe}from"./chunk-DXHQ47LD.js";import"./chunk-ZEQPFH6I.js";import"./chunk-3HXVVDW4.js";import{a as me}from"./chunk-WCUTMOK5.js";import{$a as z,L as j,Na as f,Pa as m,Q as F,Qa as U,Qb as G,Rb as H,Sa as V,Sb as Z,Ta as e,Ua as i,Ub as $,Va as w,Vb as K,W as A,Xb as X,Ya as Q,Za as u,_a as C,a as R,ac as ee,ca as I,da as D,dc as de,ea as W,eb as r,fa as q,fb as v,gb as b,hb as P,jb as g,kb as h,lb as x,m as S,n as N,nb as J,qb as Y,rb as _,ta as B,tb as M,xa as l,y as L,ya as y}from"./chunk-QBSKKDC2.js";import{a as T,g as E}from"./chunk-7QOE2ANW.js";var ue=(()=>{class s{constructor(n){this.http=n,this.apiUrl=de.apiUrl}addReservation(n){return this.http.post(`${this.apiUrl}/reservations`,n).pipe(N(()=>"reservation-submitted"))}static{this.\u0275fac=function(a){return new(a||s)(F(ee))}}static{this.\u0275prov=j({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var xe=(s,p,n)=>({"text-gray-300 dark:text-[#324867]":s,"text-gray-900 dark:text-white":p,"bg-blue-600 dark:bg-[#1269e2] text-white":n});function fe(s,p){if(s&1){let n=Q();e(0,"div",96)(1,"div",97),w(2,"img",98)(3,"div",99),i(),e(4,"div",100)(5,"div",101)(6,"p",102),r(7),i(),e(8,"span",103),r(9),i()(),e(10,"p",104),r(11),i()(),e(12,"div",105)(13,"button",106),u("click",function(){let t=I(n).$implicit,d=C();return D(d.decreaseCart(t))}),e(14,"span",107),r(15,"remove"),i()(),e(16,"span",108),r(17),i(),e(18,"button",106),u("click",function(){let t=I(n).$implicit,d=C();return D(d.increaseCart(t))}),e(19,"span",107),r(20,"add"),i()()()()}if(s&2){let n=p.$implicit,a=C();l(2),z("alt",n.name),m("src",n.imageUrl||"assets/placeholder.jpg",B),l(5),v(n.name),l(),V(n.quantity>0?"text-emerald-600 dark:text-emerald-400 bg-emerald-100 dark:bg-emerald-400/10":"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-400/10"),l(),b(" ",n.quantity>0?"In Stock":"Out of Stock"," "),l(2),P("Available: ",n.quantity," units \u2022 ",n.category,""),l(6),v(a.getCartQty(n))}}function be(s,p){s&1&&(e(0,"div",109),r(1," No products found. "),i())}function ye(s,p){if(s&1&&(e(0,"div",110),r(1),i()),s&2){let n=p.$implicit;m("ngClass",Y(2,xe,!n.isCurrentMonth,n.isCurrentMonth&&!n.isSelected,n.isSelected)),l(),b(" ",n.day," ")}}function ve(s,p){s&1&&(e(0,"span",111),r(1,"refresh"),i())}function ke(s,p){s&1&&(e(0,"span",107),r(1,"my_location"),i())}function we(s,p){if(s&1&&(e(0,"option",112),r(1),i()),s&2){let n=p.$implicit;m("value",n),l(),v(n)}}function Ce(s,p){s&1&&(e(0,"div",113),r(1,"No items selected"),i())}function Se(s,p){if(s&1&&(e(0,"div",114)(1,"div",115)(2,"span",51),r(3),i(),e(4,"span",116),r(5),i()(),e(6,"span",51),r(7),_(8,"number"),i()()),s&2){let n=p.$implicit;l(3),v(n.product.name),l(2),b("x",n.quantity," Unit"),l(2),b("\u20B1",M(8,3,n.product.price*n.quantity,"1.2-2"),"")}}function _e(s,p){if(s&1&&(e(0,"div",117)(1,"span",118),r(2,"Total"),i(),e(3,"span",118),r(4),_(5,"number"),i()()),s&2){let n=C();l(4),b("\u20B1",M(5,1,n.totalAmount,"1.2-2"),"")}}function Me(s,p){s&1&&(e(0,"span"),r(1,"Confirm Reservation"),i())}function Ee(s,p){s&1&&(e(0,"span"),r(1,"Processing..."),i())}function Ie(s,p){s&1&&(e(0,"span",107),r(1,"arrow_forward"),i())}var Ue=(()=>{class s{constructor(n,a,t,d,o){this.inventoryService=n,this.reservationService=a,this.customerService=t,this.dialogService=d,this.router=o,this.products=[],this.subscriptions=new R,this.customerName="",this.customerContact="",this.customerAddress="",this.notes="",this.paymentOption="",this.searchQuery="",this.paymentOptions=["Cash on Delivery","Gcash","Bank Transfer"],this.pickupDate="",this.pickupTime="",this.orderItems=[],this.selectedProduct=null,this.selectedQuantity=1,this.isSubmitting=!1,this.successMessage="",this.isSummarySticky=!1,this.scrollContainer=null,this.gpsCoordinates="",this.isLocationLoading=!1,this.calendarDate=new Date,this.calendarDays=[]}ngOnInit(){let n=new Date;n.setDate(n.getDate()+1),this.pickupDate=n.toISOString().split("T")[0],this.pickupTime="10:00";let a=localStorage.getItem("chatCustomerInfo");if(a)try{let t=JSON.parse(a);console.log("Reservation autofill from chatCustomerInfo:",t),this.customerName=t.name||"",this.customerContact=t.phoneNumber||t.phone||t.contact||"",this.customerAddress=t.deliveryAddress||t.address||""}catch(t){console.error("Error parsing chatCustomerInfo",t)}this.generateCalendar(),this.loadProducts(),setTimeout(()=>this.setupScrollListener(),100)}setupScrollListener(){this.scrollContainer=document.querySelector(".public-container"),this.scrollContainer&&this.scrollContainer.addEventListener("scroll",this.onScroll.bind(this))}onScroll(){this.scrollContainer&&(this.isSummarySticky=this.scrollContainer.scrollTop>80)}ngOnDestroy(){this.subscriptions.unsubscribe(),this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.onScroll.bind(this))}openChat(){window.dispatchEvent(new CustomEvent("openChatBubble"))}loadProducts(){this.inventoryService.loadProductsForUser("admin-1"),this.subscriptions.add(this.inventoryService.getProducts().subscribe(n=>{this.products=n.filter(a=>a.quantity>0)}))}get filteredProducts(){let n=this.products;if(this.searchQuery){let a=this.searchQuery.toLowerCase();n=this.products.filter(t=>t.name.toLowerCase().includes(a)||t.category&&t.category.toLowerCase().includes(a))}return n}get isStep1Complete(){return this.orderItems.length>0}get isStep2Complete(){return!!(this.pickupDate&&this.pickupTime&&this.customerAddress)}get isStep3Complete(){return!!(this.customerName&&this.customerContact)}get currentStep(){return this.isStep1Complete?this.isStep2Complete?(this.isStep3Complete,3):2:1}get progressPercentage(){let n=0;return this.isStep1Complete&&n++,this.isStep2Complete&&n++,this.isStep3Complete&&n++,Math.round(n/3*100)}getCartQty(n){let a=this.orderItems.find(t=>t.product.id===n.id);return a?a.quantity:0}increaseCart(n){let a=this.orderItems.find(t=>t.product.id===n.id);a?a.quantity<n.quantity&&a.quantity++:this.orderItems.push({product:n,quantity:1})}decreaseCart(n){let a=this.orderItems.findIndex(t=>t.product.id===n.id);a>-1&&(this.orderItems[a].quantity>1?this.orderItems[a].quantity--:this.orderItems.splice(a,1))}get totalAmount(){return this.orderItems.reduce((n,a)=>n+a.product.price*a.quantity,0)}get subTotal(){return this.totalAmount/1.12}get taxAmount(){return this.totalAmount-this.subTotal}getLocation(){return E(this,null,function*(){if(!navigator.geolocation){this.dialogService.warning("Geolocation is not supported by your browser","Location Error");return}this.isLocationLoading=!0;try{let n=yield new Promise((d,o)=>{navigator.geolocation.getCurrentPosition(d,o)}),a=n.coords.latitude,t=n.coords.longitude;this.gpsCoordinates=`${a},${t}`;try{let o=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${t}`)).json();o&&o.display_name&&(this.customerAddress=o.display_name)}catch(d){console.warn("Reverse geocoding failed",d)}}catch(n){console.error("Error getting location",n),this.dialogService.error("Unable to retrieve your location","Location Error")}finally{this.isLocationLoading=!1}})}submitReservation(){return E(this,null,function*(){if(this.orderItems.length===0||!this.customerName||!this.customerContact||!this.pickupDate||!this.customerAddress){this.dialogService.warning("Please fill in all required fields and add items to your reservation.","Missing Information");return}this.isSubmitting=!0;try{let n=new Date(this.pickupDate+(this.pickupTime?"T"+this.pickupTime:"T00:00:00")),a=`Payment: ${this.paymentOption||"Not Specified"}

${this.notes}`;if(!(yield S(this.customerService.getCustomers().pipe(L(1)))).find(c=>c.phoneNumber===this.customerContact)){let c=this.orderItems[0]?.product?.userId;yield S(this.customerService.addCustomer(T({name:this.customerName,phoneNumber:this.customerContact,deliveryAddress:this.customerAddress,gpsCoordinates:this.gpsCoordinates},c?{userId:c}:{})))}yield S(this.reservationService.addReservation({customerName:this.customerName,customerContact:this.customerContact,customerAddress:this.customerAddress,reservationDate:new Date,pickupDate:n,status:"pending",items:this.orderItems.map(c=>({productId:c.product.id,productName:c.product.name,quantity:c.quantity,price:c.product.price})),totalAmount:this.totalAmount,notes:a}));let o={name:this.customerName,phoneNumber:this.customerContact,address:this.customerAddress,gpsCoordinates:this.gpsCoordinates};localStorage.setItem("chatCustomerInfo",JSON.stringify(o)),localStorage.setItem("chatUserName",this.customerName);let k={customerName:this.customerName,deliveryDate:`${this.pickupDate} ${this.pickupTime}`,deliveryAddress:this.customerAddress,items:this.orderItems.map(c=>({name:c.product.name,quantity:c.quantity,price:c.product.price})),totalAmount:this.totalAmount,paymentMethod:this.paymentOption||"Not Specified"};localStorage.setItem("pendingReservationForChat",JSON.stringify(k)),this.dialogService.success("Reservation submitted successfully! We will contact you shortly. You can now chat with us!","Reservation Confirmed").subscribe(()=>{this.resetForm()})}catch(n){console.error("Error submitting reservation",n),this.dialogService.error("Failed to submit reservation. Please try again.","Reservation Failed")}finally{this.isSubmitting=!1}})}resetForm(){this.orderItems=[],this.customerName="",this.customerContact="",this.customerAddress="",this.paymentOption="",this.notes="",this.selectedProduct=null,this.pickupTime=""}makeNewReservation(){this.successMessage="",this.resetForm()}goBack(){this.router.navigate(["/"]),window.location.hash.includes("reservation")&&history.pushState("",document.title,window.location.pathname+window.location.search)}generateCalendar(){let n=this.calendarDate.getFullYear(),a=this.calendarDate.getMonth(),t=new Date(n,a,1),d=new Date(t);d.setDate(t.getDate()-t.getDay()),this.calendarDays=[];let o=this.pickupDate?new Date(this.pickupDate):null;o&&o.setHours(0,0,0,0);for(let k=0;k<42;k++){let c=new Date(d);c.setDate(d.getDate()+k);let O=!1;o&&(O=c.getFullYear()===o.getFullYear()&&c.getMonth()===o.getMonth()&&c.getDate()===o.getDate()),this.calendarDays.push({day:c.getDate(),date:c,isCurrentMonth:c.getMonth()===a,isSelected:O})}}changeMonth(n){this.calendarDate.setMonth(this.calendarDate.getMonth()+n),this.generateCalendar()}onDateChange(){this.pickupDate&&(this.calendarDate=new Date(this.pickupDate),this.generateCalendar())}static{this.\u0275fac=function(a){return new(a||s)(y(pe),y(ue),y(me),y(ce),y(te))}}static{this.\u0275cmp=A({type:s,selectors:[["app-reservation"]],standalone:!0,features:[J],decls:177,vars:30,consts:[[1,"relative","flex","w-full","flex-col","bg-gray-50","dark:bg-[#101822]","text-gray-900","dark:text-white","font-display","transition-colors","duration-200"],[1,"flex","items-center","justify-between","whitespace-nowrap","border-b","border-gray-200","dark:border-gray-700","px-6","lg:px-10","py-4","bg-white","dark:bg-[#101822]","z-20","sticky","top-0","transition-colors","duration-200"],[1,"flex","items-center","gap-4","text-blue-600","dark:text-[#1269e2]"],[1,"size-6","text-current"],["fill","none","viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg"],["clip-rule","evenodd","d","M24 0.757355L47.2426 24L24 47.2426L0.757355 24L24 0.757355ZM21 35.7574V12.2426L9.24264 24L21 35.7574Z","fill","currentColor","fill-rule","evenodd"],[1,"text-gray-900","dark:text-white","text-lg","font-bold","leading-tight","tracking-[-0.015em]"],[1,"flex","flex-1","justify-end","gap-8"],[1,"flex","items-center","gap-2","group","cursor-pointer","text-gray-500","dark:text-[#92a9c9]","hover:text-blue-600","dark:hover:text-white","transition-colors",3,"click"],[1,"material-symbols-outlined","text-xl"],[1,"text-sm","font-medium","leading-normal"],[1,"layout-container","flex","h-full","grow","flex-col"],[1,"flex","flex-1","justify-center","py-5","px-4","lg:px-8"],[1,"layout-content-container","flex","flex-col","max-w-[1200px]","flex-1","w-full"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"flex-1","flex","flex-col","gap-8","min-w-0"],[1,"flex","flex-col","gap-2"],[1,"text-gray-900","dark:text-white","text-3xl","md:text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"text-gray-500","dark:text-[#92a9c9]","text-base","font-normal","leading-normal"],[1,"flex","flex-col","gap-3"],[1,"flex","gap-6","justify-between","items-center"],[1,"text-gray-900","dark:text-white","text-base","font-medium","leading-normal"],[1,"text-gray-500","dark:text-[#92a9c9]","text-sm","bg-gray-200","dark:bg-[#233348]","px-2","py-1","rounded"],[1,"rounded-full","bg-gray-200","dark:bg-[#324867]","h-2","overflow-hidden"],[1,"h-full","bg-blue-600","dark:bg-[#1269e2]","rounded-full","transition-all","duration-300"],[1,"flex","flex-col","gap-6","pb-8","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","flex","items-center","gap-2"],[1,"flex","items-center","justify-center","w-6","h-6","rounded-full","bg-blue-600","dark:bg-[#1269e2]","text-xs","text-white"],[1,"w-full"],[1,"flex","flex-col","h-12","w-full"],[1,"flex","w-full","flex-1","items-stretch","rounded-lg","h-full","border","border-gray-300","dark:border-gray-600","focus-within:border-blue-600","dark:focus-within:border-[#1269e2]/50","transition-colors","bg-white","dark:bg-[#233348]"],[1,"text-gray-400","dark:text-[#92a9c9]","flex","items-center","justify-center","pl-4"],[1,"material-symbols-outlined"],["placeholder","Search products by name or category...",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-900","dark:text-white","focus:outline-0","focus:ring-0","border-none","bg-transparent","h-full","placeholder:text-gray-400","dark:placeholder:text-[#92a9c9]","px-4","pl-2","text-base","font-normal","leading-normal","transition-all",3,"ngModelChange","ngModel"],[1,"flex","flex-col","gap-3","max-h-[500px]","overflow-y-auto","pr-2"],["class","flex items-center gap-4 bg-white dark:bg-[#1a2432] px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 hover:border-blue-600 dark:hover:border-[#1269e2]/30 transition-all shadow-sm",4,"ngFor","ngForOf"],["class","text-center p-4 text-gray-500 dark:text-[#92a9c9]",4,"ngIf"],[1,"flex","flex-col","gap-6","pt-8","border-t","border-gray-300","dark:border-gray-700","pb-8","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","flex-col","gap-6"],[1,"flex","gap-4"],[1,"flex","flex-col","gap-1.5","flex-1"],[1,"text-sm","font-medium","text-gray-500","dark:text-[#92a9c9]"],[1,"flex","items-center","bg-white","dark:bg-[#233348]","rounded-lg","px-3","h-12","border","border-gray-300","dark:border-gray-600","focus-within:border-blue-600","dark:focus-within:border-[#1269e2]/50","transition-colors"],[1,"material-symbols-outlined","text-gray-400","dark:text-[#92a9c9]","mr-3"],["type","date",1,"bg-transparent","border-none","text-gray-900","dark:text-white","w-full","focus:ring-0","p-0","text-sm",3,"ngModelChange","ngModel"],[1,"flex","flex-col","gap-1.5","w-36"],[1,"material-symbols-outlined","text-gray-400","dark:text-[#92a9c9]","mr-2"],["type","time",1,"bg-transparent","border-none","text-gray-900","dark:text-white","w-full","focus:ring-0","p-0","text-sm",3,"ngModelChange","ngModel"],[1,"bg-white","dark:bg-[#1a2432]","rounded-xl","p-4","border","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-gray-900","dark:text-white","font-medium"],[1,"flex","gap-1"],[1,"p-1","hover:bg-gray-100","dark:hover:bg-[#324867]","rounded",3,"click"],[1,"material-symbols-outlined","text-sm","text-gray-500","dark:text-[#92a9c9]"],[1,"grid","grid-cols-7","gap-1","text-center","text-xs","mb-2","text-gray-400","dark:text-[#92a9c9]"],[1,"grid","grid-cols-7","gap-1","text-center","text-sm"],["class","p-1 rounded cursor-default",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-1.5","w-full"],[1,"flex","gap-2"],[1,"flex","flex-1","items-center","bg-white","dark:bg-[#233348]","rounded-lg","px-3","h-12","border","border-gray-300","dark:border-gray-600","focus-within:border-blue-600","dark:focus-within:border-[#1269e2]/50","transition-colors"],["placeholder","Enter delivery address","type","text",1,"bg-transparent","border-none","text-gray-900","dark:text-white","w-full","focus:ring-0","p-0","text-sm",3,"ngModelChange","ngModel"],[1,"h-12","px-4","bg-blue-600","dark:bg-[#1269e2]","hover:bg-blue-700","text-white","rounded-lg","flex","items-center","justify-center","gap-2","transition-colors","whitespace-nowrap",3,"click","disabled"],["class","material-symbols-outlined animate-spin text-sm",4,"ngIf"],["class","material-symbols-outlined text-sm",4,"ngIf"],[1,"hidden","sm:inline"],[1,"themed-select","bg-white","dark:bg-[#233348]","border-none","text-gray-900","dark:text-white","w-full","focus:ring-0","p-0","text-sm","cursor-pointer",3,"ngModelChange","ngModel"],["value","","disabled","","selected","",1,"bg-white","dark:bg-[#233348]","text-gray-900","dark:text-white"],["class","bg-white dark:bg-[#233348] text-gray-900 dark:text-white",3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","flex-col","gap-1.5"],["placeholder","e.g. Jane Doe","type","text",1,"bg-white","dark:bg-[#233348]","border","border-gray-300","dark:border-gray-600","focus:border-blue-600","dark:focus:border-[#1269e2]/50","rounded-lg","px-4","h-12","text-gray-900","dark:text-white","placeholder:text-gray-400","dark:placeholder:text-[#92a9c9]/50","focus:ring-0","transition-colors",3,"ngModelChange","ngModel"],["placeholder","+1 (555) 000-0000","type","tel",1,"bg-white","dark:bg-[#233348]","border","border-gray-300","dark:border-gray-600","focus:border-blue-600","dark:focus:border-[#1269e2]/50","rounded-lg","px-4","h-12","text-gray-900","dark:text-white","placeholder:text-gray-400","dark:placeholder:text-[#92a9c9]/50","focus:ring-0","transition-colors",3,"ngModelChange","ngModel"],[1,"summary-placeholder"],[1,"summary-container"],[1,"bg-white","dark:bg-[#1a2432]","border","border-gray-200","dark:border-gray-600","rounded-xl","p-6","shadow-xl","flex","flex-col","gap-6"],[1,"flex","justify-between","items-center","border-b","border-dashed","remove-top","border-gray-200","dark:border-gray-600","pb-4"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],[1,"text-xs","font-medium","text-gray-500","dark:text-[#92a9c9]","bg-gray-100","dark:bg-[#233348]","px-2","py-1","rounded"],[1,"flex","flex-col","gap-4"],["class","text-sm text-gray-500 dark:text-[#92a9c9] text-center",4,"ngIf"],["class","flex justify-between items-start text-sm",4,"ngFor","ngForOf"],["class","flex justify-between items-start text-sm font-bold pt-2 border-b border-dashed remove-bottom border-gray-200 dark:border-gray-600",4,"ngIf"],[1,"border-t","border-dashed","remove-bottom","border-gray-200","dark:border-gray-600","py-4","flex","flex-col","gap-3"],[1,"flex","items-center","gap-3"],[1,"material-symbols-outlined","text-blue-600","dark:text-[#1269e2]","text-xl"],[1,"flex","flex-col"],[1,"text-xs","text-gray-500","dark:text-[#92a9c9]"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"w-full","h-12","bg-blue-600","dark:bg-[#1269e2]","hover:bg-blue-700","dark:hover:bg-[#1269e2]/90","text-white","font-bold","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],[1,"text-xs","text-center","text-gray-500","dark:text-[#92a9c9]"],[1,"bg-[#151f2b]","border","border-gray-200","dark:border-gray-600","rounded-xl","p-4","flex","items-start","gap-3"],[1,"bg-[#233348]","p-2","rounded-lg","text-[#92a9c9]","shrink-0"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","text-blue-500","dark:text-[#1269e2]","hover:underline","mt-1","inline-block","cursor-pointer",3,"click"],[1,"flex","items-center","gap-4","bg-white","dark:bg-[#1a2432]","px-4","py-3","rounded-xl","border","border-gray-200","dark:border-gray-600","hover:border-blue-600","dark:hover:border-[#1269e2]/30","transition-all","shadow-sm"],[1,"bg-center","bg-no-repeat","bg-cover","rounded-lg","size-16","shrink-0","relative","overflow-hidden","bg-gray-100","dark:bg-gray-800"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","bg-black/5","dark:bg-black/10"],[1,"flex","flex-col","justify-center","flex-1","min-w-0"],[1,"flex","justify-between","items-start"],[1,"text-gray-900","dark:text-white","text-base","font-medium","leading-normal","line-clamp-1"],[1,"text-xs","font-medium","px-2","py-0.5","rounded-full","whitespace-nowrap"],[1,"text-gray-500","dark:text-[#92a9c9]","text-sm","font-normal","leading-normal","line-clamp-1"],[1,"shrink-0","flex","items-center","gap-3"],[1,"size-8","flex","items-center","justify-center","rounded-lg","bg-gray-100","dark:bg-[#233348]","text-gray-900","dark:text-white","hover:bg-gray-200","dark:hover:bg-[#324867]","transition-colors",3,"click"],[1,"material-symbols-outlined","text-sm"],[1,"text-gray-900","dark:text-white","font-medium","w-4","text-center"],[1,"text-center","p-4","text-gray-500","dark:text-[#92a9c9]"],[1,"p-1","rounded","cursor-default",3,"ngClass"],[1,"material-symbols-outlined","animate-spin","text-sm"],[1,"bg-white","dark:bg-[#233348]","text-gray-900","dark:text-white",3,"value"],[1,"text-sm","text-gray-500","dark:text-[#92a9c9]","text-center"],[1,"flex","justify-between","items-start","text-sm"],[1,"flex","flex-col","gap-1"],[1,"text-gray-500","dark:text-[#92a9c9]","text-xs"],[1,"flex","justify-between","items-start","text-sm","font-bold","pt-2","border-b","border-dashed","remove-bottom","border-gray-200","dark:border-gray-600"],[1,"text-gray-900","dark:text-white"]],template:function(a,t){a&1&&(e(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),W(),e(4,"svg",4),w(5,"path",5),i()(),q(),e(6,"h2",6),r(7,"JJM Inventory"),i()(),e(8,"div",7)(9,"div",8),u("click",function(){return t.goBack()}),e(10,"span",9),r(11,"arrow_back"),i(),e(12,"span",10),r(13,"Back to Login"),i()()()(),e(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"h1",17),r(21,"New Reservation"),i(),e(22,"p",18),r(23,"Select items and schedule your pickup in 3 simple steps."),i()(),e(24,"div",19)(25,"div",20)(26,"p",21),r(27,"Current Progress"),i(),e(28,"span",22),r(29),i()(),e(30,"div",23),w(31,"div",24),i()(),e(32,"section",25)(33,"div",26)(34,"h3",27)(35,"span",28),r(36,"1"),i(),r(37," Select Product "),i()(),e(38,"div",29)(39,"label",30)(40,"div",31)(41,"div",32)(42,"span",33),r(43,"search"),i()(),e(44,"input",34),x("ngModelChange",function(o){return h(t.searchQuery,o)||(t.searchQuery=o),o}),i()()()(),e(45,"div",35),f(46,fe,21,9,"div",36)(47,be,2,0,"div",37),i()(),e(48,"section",38)(49,"div",26)(50,"h3",27)(51,"span",28),r(52,"2"),i(),r(53," Schedule Delivery "),i()(),e(54,"div",39)(55,"div",39)(56,"div",40)(57,"label",41)(58,"span",42),r(59,"Delivery Date"),i(),e(60,"div",43)(61,"span",44),r(62,"calendar_today"),i(),e(63,"input",45),x("ngModelChange",function(o){return h(t.pickupDate,o)||(t.pickupDate=o),o}),u("ngModelChange",function(){return t.onDateChange()}),i()()(),e(64,"label",46)(65,"span",42),r(66,"Time"),i(),e(67,"div",43)(68,"span",47),r(69,"schedule"),i(),e(70,"input",48),x("ngModelChange",function(o){return h(t.pickupTime,o)||(t.pickupTime=o),o}),i()()()()(),e(71,"div",49)(72,"div",50)(73,"span",51),r(74),_(75,"date"),i(),e(76,"div",52)(77,"button",53),u("click",function(){return t.changeMonth(-1)}),e(78,"span",54),r(79,"chevron_left"),i()(),e(80,"button",53),u("click",function(){return t.changeMonth(1)}),e(81,"span",54),r(82,"chevron_right"),i()()()(),e(83,"div",55)(84,"div"),r(85,"Su"),i(),e(86,"div"),r(87,"Mo"),i(),e(88,"div"),r(89,"Tu"),i(),e(90,"div"),r(91,"We"),i(),e(92,"div"),r(93,"Th"),i(),e(94,"div"),r(95,"Fr"),i(),e(96,"div"),r(97,"Sa"),i()(),e(98,"div",56),f(99,ye,2,6,"div",57),i()()(),e(100,"div",39)(101,"label",58)(102,"span",42),r(103,"Delivery Address"),i(),e(104,"div",59)(105,"div",60)(106,"span",44),r(107,"location_on"),i(),e(108,"input",61),x("ngModelChange",function(o){return h(t.customerAddress,o)||(t.customerAddress=o),o}),i()(),e(109,"button",62),u("click",function(){return t.getLocation()}),f(110,ve,2,0,"span",63)(111,ke,2,0,"span",64),e(112,"span",65),r(113,"Use My Location"),i()()()(),e(114,"label",58)(115,"span",42),r(116,"Payment Option (Optional)"),i(),e(117,"div",43)(118,"span",44),r(119,"payments"),i(),e(120,"select",66),x("ngModelChange",function(o){return h(t.paymentOption,o)||(t.paymentOption=o),o}),e(121,"option",67),r(122,"Select Payment Method"),i(),f(123,we,2,2,"option",68),i()()()()(),e(124,"section",39)(125,"div",26)(126,"h3",27)(127,"span",28),r(128,"3"),i(),r(129," Your Details "),i()(),e(130,"div",69)(131,"label",70)(132,"span",42),r(133,"Full Name"),i(),e(134,"input",71),x("ngModelChange",function(o){return h(t.customerName,o)||(t.customerName=o),o}),i()(),e(135,"label",70)(136,"span",42),r(137,"Phone Number"),i(),e(138,"input",72),x("ngModelChange",function(o){return h(t.customerContact,o)||(t.customerContact=o),o}),i()()()()(),w(139,"div",73),e(140,"div",74)(141,"div",39)(142,"div",75)(143,"div",76)(144,"h3",77),r(145,"Summary"),i(),e(146,"span",78),r(147,"ID: #RES-8921"),i()(),e(148,"div",79),f(149,Ce,2,0,"div",80)(150,Se,9,6,"div",81)(151,_e,6,4,"div",82),i(),e(152,"div",83)(153,"div",84)(154,"span",85),r(155,"event"),i(),e(156,"div",86)(157,"span",87),r(158,"Delivery"),i(),e(159,"span",88),r(160),i()()()(),e(161,"div",19)(162,"button",89),u("click",function(){return t.submitReservation()}),f(163,Me,2,0,"span",90)(164,Ee,2,0,"span",90)(165,Ie,2,0,"span",64),i(),e(166,"p",91),r(167,"By confirming, you agree to the product usage policy."),i()()(),e(168,"div",92)(169,"div",93)(170,"span",33),r(171,"support_agent"),i()(),e(172,"div")(173,"p",94),r(174,"Need special product?"),i(),e(175,"a",95),u("click",function(){return t.openChat()}),r(176,"Open Chat"),i()()()()()()()()()()),a&2&&(l(29),b("Step ",t.currentStep," of 3"),l(2),U("width",t.progressPercentage,"%"),l(13),g("ngModel",t.searchQuery),l(2),m("ngForOf",t.filteredProducts),l(),m("ngIf",t.filteredProducts.length===0),l(16),g("ngModel",t.pickupDate),l(7),g("ngModel",t.pickupTime),l(4),v(M(75,27,t.calendarDate,"MMMM yyyy")),l(25),m("ngForOf",t.calendarDays),l(9),g("ngModel",t.customerAddress),l(),m("disabled",t.isLocationLoading),l(),m("ngIf",t.isLocationLoading),l(),m("ngIf",!t.isLocationLoading),l(9),g("ngModel",t.paymentOption),l(3),m("ngForOf",t.paymentOptions),l(11),g("ngModel",t.customerName),l(4),g("ngModel",t.customerContact),l(11),m("ngIf",t.orderItems.length===0),l(),m("ngForOf",t.orderItems),l(),m("ngIf",t.orderItems.length>0),l(9),P("",t.pickupDate||"Select Date"," ",t.pickupTime,""),l(2),m("disabled",t.isSubmitting||t.orderItems.length===0),l(),m("ngIf",!t.isSubmitting),l(),m("ngIf",t.isSubmitting),l(),m("ngIf",!t.isSubmitting))},dependencies:[X,G,H,Z,K,$,le,ae,se,ie,oe,ne,re],styles:[`[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#111822}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#233348;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#324867}.border-dashed[_ngcontent-%COMP%]{border-left:unset!important;border-right:unset!important}.remove-top[_ngcontent-%COMP%]{border-top:unset!important}.remove-bottom[_ngcontent-%COMP%]{border-bottom:unset!important}.themed-select[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");background-position:right 0 center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2rem}.themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px 12px}.dark[_nghost-%COMP%]   .themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#233348;color:#fff}.themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#111827}.layout-container[_ngcontent-%COMP%], .layout-content-container[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{display:block;min-height:100%;width:100%}.summary-placeholder[_ngcontent-%COMP%]{width:360px;flex-shrink:0;display:none}.summary-container[_ngcontent-%COMP%]{width:360px;flex-shrink:0}@media (min-width: 1024px){.summary-placeholder[_ngcontent-%COMP%]{display:block}.summary-container[_ngcontent-%COMP%]{position:fixed;top:80px;right:max(32px,calc((100vw - 1200px)/2));width:360px;max-height:calc(100vh - 100px);overflow-y:auto;z-index:100}}@media (max-width: 1023px){.summary-container[_ngcontent-%COMP%]{position:relative;width:100%;top:auto;right:auto;max-height:none}}`]})}}return s})();export{Ue as ReservationComponent};

import{a as be}from"./chunk-WWUA5KPB.js";import{e as oe}from"./chunk-G2CAJHIP.js";import{a as xe}from"./chunk-GOPNFNGY.js";import{b as se,c as le,f as de,i as ce,j as me,k as pe,p as ue}from"./chunk-5346MN6B.js";import{a as fe}from"./chunk-3RMIRVNC.js";import"./chunk-BP5JA2GI.js";import"./chunk-O7B4BK4X.js";import{a as he}from"./chunk-PEKC65LK.js";import{$a as $,L as q,Na as h,Pa as m,Q as W,Qa as R,Sb as X,Ta as t,Tb as ee,Ua as n,Ub as te,Va as M,W as z,Wa as Y,Wb as ie,Xa as Q,Xb as ne,Ya as I,Za as f,_a as p,_b as re,a as N,ca as v,da as w,dc as ae,ea as U,eb as a,fa as H,fb as b,gb as x,gc as ge,hb as F,jb as _,kb as k,lb as S,m as T,n as V,nb as J,pb as D,qb as G,rb as L,sb as Z,ta as K,tb as y,ub as A,vb as C,xa as s,y as B,ya as E}from"./chunk-VOZMRJF4.js";import{a as j,g as O}from"./chunk-7QOE2ANW.js";var ye=(()=>{class o{constructor(e){this.http=e,this.apiUrl=ge.apiUrl}addReservation(e){return this.http.post(`${this.apiUrl}/reservations`,e).pipe(V(()=>"reservation-submitted"))}static{this.\u0275fac=function(r){return new(r||o)(W(ae))}}static{this.\u0275prov=q({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var ke=o=>({val:o,label:"DAYS"}),Se=o=>({val:o,label:"HRS"}),Ce=o=>({val:o,label:"MIN"}),Ee=o=>({val:o,label:"SEC"}),Ie=(o,c,e,r)=>[o,c,e,r],Pe=(o,c,e)=>({"bg-red-600/90 text-white animate-pulse ring-2 ring-red-400":o,"bg-orange-500/90 text-white ring-1 ring-orange-300":c,"bg-white/20 text-white hover:bg-white/30":e}),Me=(o,c)=>({"bg-blue-600 dark:bg-[#1269e2] text-white shadow-md":o,"bg-gray-100 dark:bg-[#233348] text-gray-600 dark:text-[#92a9c9] hover:bg-gray-200 dark:hover:bg-[#324867]":c}),De=(o,c,e)=>({"text-gray-300 dark:text-[#324867]":o,"text-gray-900 dark:text-white":c,"bg-blue-600 dark:bg-[#1269e2] text-white":e});function Te(o,c){if(o&1&&(t(0,"div",119)(1,"span",120),a(2),y(3,"number"),n(),t(4,"span",121),a(5),n()()),o&2){let e=c.$implicit,r=p(2);m("ngClass",L(6,Pe,r.urgencyLevel==="critical",r.urgencyLevel==="warning",r.urgencyLevel==="normal")),s(2),b(C(3,3,e.val,"2.0-0")),s(3),b(e.label)}}function Oe(o,c){if(o&1){let e=I();t(0,"div",100),f("click",function(){v(e);let i=p();return w(i.scrollToFeaturedDeals())}),M(1,"div",101)(2,"div",102),t(3,"div",103)(4,"div",104)(5,"div",105)(6,"span",106),a(7),n()(),t(8,"div",107)(9,"h3",108),a(10),n(),t(11,"div",109)(12,"span",110),a(13,"SALE"),n(),t(14,"p",111),a(15),n()()()(),t(16,"div",112)(17,"span",113),a(18),n(),t(19,"div",114),h(20,Te,6,10,"div",115),n()()(),t(21,"div",116)(22,"span",117),a(23," View Deals "),t(24,"span",118),a(25,"arrow_downward"),n()()()()}if(o&2){let e=p();s(7),b(e.currentSale.bannerIcon||"\u{1F389}"),s(3),x(" ",e.currentSale.bannerTitle||e.currentSale.name," "),s(5),x(" ",e.currentSale.bannerMessage||"Tap to view exclusive deals!"," "),s(3),x(" ",e.urgencyText," "),s(2),m("ngForOf",Z(13,Ie,D(5,ke,e.countdown.days),D(7,Se,e.countdown.hours),D(9,Ce,e.countdown.minutes),D(11,Ee,e.countdown.seconds)))}}function Re(o,c){o&1&&(t(0,"span",154),a(1,"inventory_2"),n())}function Fe(o,c){if(o&1){let e=I();t(0,"tr",137)(1,"td",138)(2,"div",88)(3,"div",139),h(4,Re,2,0,"span",140),n(),t(5,"div",90)(6,"span",141),a(7),n(),t(8,"span",142),a(9),n()()()(),t(10,"td",143)(11,"span",144),a(12),n()(),t(13,"td",145)(14,"span",146),a(15),n()(),t(16,"td",147)(17,"div",148)(18,"span",149),a(19),y(20,"number"),n(),t(21,"span",150),a(22),y(23,"number"),n()()(),t(24,"td",151)(25,"button",152),f("click",function(){let i=v(e).$implicit,l=p(2);return w(l.increaseCart(i))}),t(26,"span",153),a(27,"add_shopping_cart"),n()()()()}if(o&2){let e=c.$implicit,r=p(2);s(3),R("background-image",e.imageUrl?"url("+e.imageUrl+")":""),s(),m("ngIf",!e.imageUrl),s(3),b(e.name),s(2),x("-",r.getProductDiscount(e),"% OFF"),s(3),b(e.category),s(3),x(" -",r.getProductDiscount(e),"% "),s(4),x("\u20B1",A(20,9,r.getFinalPrice(e)),""),s(3),x("\u20B1",A(23,11,r.getOriginalPrice(e)),"")}}function Le(o,c){if(o&1){let e=I();t(0,"div",155)(1,"span",91),a(2),n(),t(3,"div",56)(4,"button",156),f("click",function(){v(e);let i=p(2);return w(i.prevSalePage())}),t(5,"span",153),a(6,"chevron_left"),n()(),t(7,"button",156),f("click",function(){v(e);let i=p(2);return w(i.nextSalePage())}),t(8,"span",153),a(9,"chevron_right"),n()()()()}if(o&2){let e=p(2);s(2),F("Page ",e.salePage," of ",e.saleTotalPages,""),s(2),m("disabled",e.salePage===1),s(3),m("disabled",e.salePage===e.saleTotalPages)}}function Ae(o,c){if(o&1&&(t(0,"div",122)(1,"div",123)(2,"span",124),a(3,"local_fire_department"),n(),t(4,"h3",81),a(5,"Featured Deals"),n()(),t(6,"div",125)(7,"div",126)(8,"table",127)(9,"thead",128)(10,"tr")(11,"th",129),a(12,"Product"),n(),t(13,"th",130),a(14,"Category"),n(),t(15,"th",131),a(16,"Discount"),n(),t(17,"th",132),a(18,"Price"),n(),t(19,"th",133),a(20,"Action"),n()()(),t(21,"tbody",134),h(22,Fe,28,13,"tr",135),n()()(),h(23,Le,10,4,"div",136),n()()),o&2){let e=p();s(22),m("ngForOf",e.paginatedSaleProducts),s(),m("ngIf",e.discountedProducts.length>e.salePageSize)}}function je(o,c){if(o&1){let e=I();t(0,"button",157),f("click",function(){let i=v(e).$implicit,l=p();return w(l.selectedCategory=i)}),a(1),n()}if(o&2){let e=c.$implicit,r=p();m("ngClass",G(2,Me,r.selectedCategory===e,r.selectedCategory!==e)),s(),x(" ",e," ")}}function Ne(o,c){o&1&&(t(0,"span",176),a(1," Few Left! "),n())}function Ve(o,c){o&1&&(t(0,"span",177),a(1," Selling Fast "),n())}function Be(o,c){if(o&1&&(Y(0),t(1,"span",178),a(2),y(3,"number"),n(),t(4,"span",179),a(5),y(6,"number"),n(),t(7,"span",180),a(8),n(),Q()),o&2){let e=p().$implicit,r=p();s(2),x("\u20B1",C(3,3,r.getOriginalPrice(e),"1.0-0"),""),s(3),x("\u20B1",C(6,6,r.getFinalPrice(e),"1.2-2"),""),s(3),x("-",r.getProductDiscount(e),"%")}}function qe(o,c){if(o&1&&(t(0,"span",181),a(1),y(2,"number"),n()),o&2){let e=p().$implicit,r=p();s(),x("\u20B1",C(2,1,r.getFinalPrice(e),"1.2-2"),"")}}function We(o,c){if(o&1){let e=I();t(0,"button",182),f("click",function(){v(e);let i=p().$implicit,l=p();return w(l.increaseCart(i))}),t(1,"span",153),a(2,"add_shopping_cart"),n(),t(3,"span"),a(4,"Add"),n()()}}function ze(o,c){if(o&1){let e=I();t(0,"div",183)(1,"button",184),f("click",function(){v(e);let i=p().$implicit,l=p();return w(l.decreaseCart(i))}),t(2,"span",153),a(3,"remove"),n()(),t(4,"span",185),a(5),n(),t(6,"button",184),f("click",function(){v(e);let i=p().$implicit,l=p();return w(l.increaseCart(i))}),t(7,"span",153),a(8,"add"),n()()()}if(o&2){let e=p().$implicit,r=p();s(5),b(r.getCartQty(e))}}function Ue(o,c){if(o&1&&(t(0,"div",158)(1,"div",159),M(2,"img",160)(3,"div",161),n(),t(4,"div",162)(5,"div",163)(6,"p",164),a(7),n(),t(8,"div",165),h(9,Ne,2,0,"span",166)(10,Ve,2,0,"span",167),t(11,"span",168),a(12," Available "),n()()(),t(13,"div",169),h(14,Be,9,9,"ng-container",94)(15,qe,3,4,"span",170),t(16,"span",171),a(17,"\u2022"),n(),t(18,"span",172),a(19),n()()(),t(20,"div",173),h(21,We,5,0,"button",174)(22,ze,9,1,"div",175),n()()),o&2){let e=c.$implicit,r=p();s(2),$("alt",e.name),m("src",e.imageUrl||"assets/placeholder.jpg",K),s(5),b(e.name),s(2),m("ngIf",r.isVeryLowStock(e)),s(),m("ngIf",r.isLowStock(e)&&!r.isVeryLowStock(e)),s(4),m("ngIf",r.isProductOnSale(e)),s(),m("ngIf",!r.isProductOnSale(e)),s(4),b(e.category),s(2),m("ngIf",r.getCartQty(e)===0),s(),m("ngIf",r.getCartQty(e)>0)}}function He(o,c){o&1&&(t(0,"div",186),a(1," No products found. "),n())}function Ke(o,c){if(o&1&&(t(0,"div",187),a(1),n()),o&2){let e=c.$implicit;m("ngClass",L(2,De,!e.isCurrentMonth,e.isCurrentMonth&&!e.isSelected,e.isSelected)),s(),x(" ",e.day," ")}}function Ye(o,c){o&1&&(t(0,"span",188),a(1,"refresh"),n())}function Qe(o,c){o&1&&(t(0,"span",153),a(1,"my_location"),n())}function $e(o,c){if(o&1&&(t(0,"option",189),a(1),n()),o&2){let e=c.$implicit;m("value",e),s(),b(e)}}function Je(o,c){o&1&&(t(0,"div",190),a(1,"No items selected"),n())}function Ge(o,c){if(o&1&&(t(0,"div",191)(1,"div",192)(2,"span",55),a(3),n(),t(4,"span",172),a(5),n()(),t(6,"span",55),a(7),y(8,"number"),n()()),o&2){let e=c.$implicit,r=p();s(3),b(e.product.name),s(2),x("x",e.quantity," Unit"),s(2),x("\u20B1",C(8,3,r.getFinalPrice(e.product)*e.quantity,"1.2-2"),"")}}function Ze(o,c){if(o&1&&(t(0,"div",193)(1,"span",194),a(2,"Total"),n(),t(3,"span",194),a(4),y(5,"number"),n()()),o&2){let e=p();s(4),x("\u20B1",C(5,1,e.totalAmount,"1.2-2"),"")}}function Xe(o,c){o&1&&(t(0,"span"),a(1,"Confirm Reservation"),n())}function et(o,c){o&1&&(t(0,"span"),a(1,"Processing..."),n())}function tt(o,c){o&1&&(t(0,"span",153),a(1,"arrow_forward"),n())}var ht=(()=>{class o{constructor(e,r,i,l,d,u){this.inventoryService=e,this.reservationService=r,this.customerService=i,this.dialogService=l,this.saleService=d,this.router=u,this.products=[],this.subscriptions=new N,this.customerName="",this.customerContact="",this.customerAddress="",this.notes="",this.paymentOption="",this.searchQuery="",this.selectedCategory="All",this.paymentOptions=["Cash on Delivery","Gcash","Bank Transfer"],this.pickupDate="",this.pickupTime="",this.currentSale=null,this.countdown={days:0,hours:0,minutes:0,seconds:0},this.countdownInterval=null,this.orderItems=[],this.selectedProduct=null,this.selectedQuantity=1,this.isSubmitting=!1,this.successMessage="",this.isSummarySticky=!1,this.scrollContainer=null,this.defaultHolidayKeywords=["lechon","food","party","cake","drink","beverage","wine","ham","fruit","meat","chicken","pork","beef","seafood","fish","dessert","candy","chocolate","gift","decoration","light","ornament","toy","clothing","dress","shirt","shoes","bag","watch","jewelry","electronics","phone","laptop","tablet","appliance","kitchen"],this.defaultExcludeKeywords=["sand","gravel","cement","holloblock","hollow","block","steel","rebar","wire","nail","lumber","wood","plywood","paint","tile","pipe","pvc","fitting","construction","building","hardware"],this.gpsCoordinates="",this.isLocationLoading=!1,this.salePage=1,this.salePageSize=5,this.calendarDate=new Date,this.calendarDays=[]}ngOnInit(){let e=new Date;e.setDate(e.getDate()+1),this.pickupDate=e.toISOString().split("T")[0],this.pickupTime="10:00";let r=localStorage.getItem("chatCustomerInfo");if(r)try{let i=JSON.parse(r);console.log("Reservation autofill from chatCustomerInfo:",i),this.customerName=i.name||"",this.customerContact=i.phoneNumber||i.phone||i.contact||"",this.customerAddress=i.deliveryAddress||i.address||""}catch(i){console.error("Error parsing chatCustomerInfo",i)}this.generateCalendar(),this.loadProducts(),this.saleService.startListening(),this.subscriptions.add(this.saleService.getSales().subscribe(i=>{i.length>0&&this.checkCurrentSale()})),setTimeout(()=>this.setupScrollListener(),100)}setupScrollListener(){this.scrollContainer=document.querySelector(".public-container"),this.scrollContainer&&this.scrollContainer.addEventListener("scroll",this.onScroll.bind(this))}onScroll(){this.scrollContainer&&(this.isSummarySticky=this.scrollContainer.scrollTop>80)}ngOnDestroy(){this.subscriptions.unsubscribe(),this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.onScroll.bind(this)),this.countdownInterval&&clearInterval(this.countdownInterval),this.saleService.stopListening()}openChat(){window.dispatchEvent(new CustomEvent("openChatBubble"))}loadProducts(){this.inventoryService.loadProductsForUser("admin-1"),this.subscriptions.add(this.inventoryService.getProducts().subscribe(e=>{this.products=e.filter(r=>r.quantity>0)}))}checkCurrentSale(){let e=new Date,r=e.getMonth()+1,i=this.saleService.salesSubject.value;for(let l of i){if(!l.isActive)continue;let d=new Date(e.getFullYear(),l.month-1,l.day),u=new Date(d);if(u.setDate(u.getDate()+l.duration),u.setHours(23,59,59,999),l.month===12&&r===1&&(d.setFullYear(e.getFullYear()-1),u.setFullYear(e.getFullYear())),e>=d&&e<=u){let g=Math.ceil((u.getTime()-e.getTime())/864e5);this.currentSale={name:l.name,discount:l.discount,endsIn:g,endDate:u,bannerTitle:l.bannerTitle,bannerMessage:l.bannerMessage,bannerIcon:l.bannerIcon,holidayKeywords:l.holidayKeywords,excludeKeywords:l.excludeKeywords,saleType:l.saleType,isActualSale:l.isActualSale,actualDiscount:l.actualDiscount,isPsychologicalSale:l.isPsychologicalSale,psychologicalDiscount:l.psychologicalDiscount},this.startCountdown();return}}this.currentSale=null}startCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval),this.updateCountdown(),this.countdownInterval=setInterval(()=>this.updateCountdown(),1e3)}updateCountdown(){if(!this.currentSale)return;let e=new Date().getTime(),i=this.currentSale.endDate.getTime()-e;if(i<=0){this.countdown={days:0,hours:0,minutes:0,seconds:0},this.currentSale=null,this.countdownInterval&&clearInterval(this.countdownInterval);return}this.countdown={days:Math.floor(i/(1e3*60*60*24)),hours:Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(i%(1e3*60*60)/(1e3*60)),seconds:Math.floor(i%(1e3*60)/1e3)}}getProductSeed(e){let r=0;for(let i=0;i<e.length;i++)r=(r<<5)-r+e.charCodeAt(i),r=r&r;return Math.abs(r)}isHolidayItem(e){let r=e.name.toLowerCase(),i=(e.category||"").toLowerCase(),l=this.currentSale?.excludeKeywords||this.defaultExcludeKeywords,d=this.currentSale?.holidayKeywords||this.defaultHolidayKeywords;for(let u of l)if(r.includes(u)||i.includes(u))return!1;for(let u of d)if(r.includes(u)||i.includes(u))return!0;return!["construction","hardware","building","industrial"].includes(i)}isProductOnSale(e){return this.isSaleActive&&this.isHolidayItem(e)}calculateDynamicDiscount(e,r){let i=this.getProductSeed(e.id),l=i%25-15,d=0;e.quantity>20?d=5+i%6:e.quantity<5&&(d=-5-i%6);let u=Math.min(95,Math.max(15,r+l+d));return Math.round(u/5)*5}getProductDiscount(e){if(!this.currentSale||!this.isHolidayItem(e))return 0;let r=this.getFinalPrice(e),i=this.getOriginalPrice(e);return i<=r?0:Math.round((i-r)/i*100)}getOriginalPrice(e){if(!this.currentSale||!this.isHolidayItem(e))return e.price;let r=this.currentSale.isActualSale,i=this.currentSale.isPsychologicalSale,l=this.currentSale.actualDiscount||0,d=this.currentSale.psychologicalDiscount||0;if(r===void 0&&i===void 0){if((this.currentSale.saleType||"psychological")==="actual")return e.price;let g=this.currentSale.discount||30,P=this.calculateDynamicDiscount(e,g);return Math.ceil(e.price/(1-P/100)/10)*10}if(i){let u=this.getFinalPrice(e),P=1-this.calculateDynamicDiscount(e,d)/100,ve=u/P;return Math.ceil(ve/10)*10}return e.price}getFinalPrice(e){if(!this.currentSale||!this.isHolidayItem(e))return e.price;let r=this.currentSale.isActualSale,i=this.currentSale.actualDiscount||0;if(r===void 0){if(this.currentSale.saleType==="actual"){let l=this.currentSale.discount||30,d=this.calculateDynamicDiscount(e,l);return e.price*(1-d/100)}return e.price}if(r){let l=this.calculateDynamicDiscount(e,i);return e.price*(1-l/100)}return e.price}get isSaleActive(){return this.currentSale!==null}scrollToFeaturedDeals(){setTimeout(()=>{let e=document.getElementById("featured-deals");e&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)}get urgencyLevel(){return this.countdown.days>=3?"normal":this.countdown.days>=1?"warning":"critical"}get urgencyText(){switch(this.urgencyLevel){case"critical":return"HURRY! ENDING SOON";case"warning":return"Time is Running Out";default:return"Ends in"}}get categories(){let e=new Set(this.products.map(r=>r.category||"Other"));return["All",...Array.from(e).sort()]}get filteredProducts(){let e=this.products;if(this.selectedCategory&&this.selectedCategory!=="All"&&(e=e.filter(r=>r.category===this.selectedCategory)),this.searchQuery){let r=this.searchQuery.toLowerCase();e=e.filter(i=>i.name.toLowerCase().includes(r)||i.category&&i.category.toLowerCase().includes(r))}return e}isLowStock(e){return e.quantity>0&&e.quantity<=10}isVeryLowStock(e){return e.quantity>0&&e.quantity<=3}get isStep1Complete(){return this.orderItems.length>0}get isStep2Complete(){return!!(this.pickupDate&&this.pickupTime&&this.customerAddress)}get isStep3Complete(){return!!(this.customerName&&this.customerContact)}get currentStep(){return this.isStep1Complete?this.isStep2Complete?(this.isStep3Complete,3):2:1}get progressPercentage(){let e=0;return this.isStep1Complete&&e++,this.isStep2Complete&&e++,this.isStep3Complete&&e++,Math.round(e/3*100)}getCartQty(e){let r=this.orderItems.find(i=>i.product.id===e.id);return r?r.quantity:0}increaseCart(e){let r=this.orderItems.find(i=>i.product.id===e.id);r?r.quantity<e.quantity&&r.quantity++:this.orderItems.push({product:e,quantity:1})}decreaseCart(e){let r=this.orderItems.findIndex(i=>i.product.id===e.id);r>-1&&(this.orderItems[r].quantity>1?this.orderItems[r].quantity--:this.orderItems.splice(r,1))}get totalAmount(){return this.orderItems.reduce((e,r)=>e+this.getFinalPrice(r.product)*r.quantity,0)}get subTotal(){return this.totalAmount/1.12}get taxAmount(){return this.totalAmount-this.subTotal}getLocation(){return O(this,null,function*(){if(!navigator.geolocation){this.dialogService.warning("Geolocation is not supported by your browser","Location Error");return}this.isLocationLoading=!0;try{let e=yield new Promise((l,d)=>{navigator.geolocation.getCurrentPosition(l,d)}),r=e.coords.latitude,i=e.coords.longitude;this.gpsCoordinates=`${r},${i}`;try{let d=yield(yield fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${i}`)).json();d&&d.display_name&&(this.customerAddress=d.display_name)}catch(l){console.warn("Reverse geocoding failed",l)}}catch(e){console.error("Error getting location",e),this.dialogService.error("Unable to retrieve your location","Location Error")}finally{this.isLocationLoading=!1}})}submitReservation(){return O(this,null,function*(){if(this.orderItems.length===0||!this.customerName||!this.customerContact||!this.pickupDate||!this.customerAddress){this.dialogService.warning("Please fill in all required fields and add items to your reservation.","Missing Information");return}this.isSubmitting=!0;try{let e=new Date(this.pickupDate+(this.pickupTime?"T"+this.pickupTime:"T00:00:00")),r=`Payment: ${this.paymentOption||"Not Specified"}

${this.notes}`;if(!(yield T(this.customerService.getCustomers().pipe(B(1)))).find(g=>g.phoneNumber===this.customerContact)){let g=this.orderItems[0]?.product?.userId;yield T(this.customerService.addCustomer(j({name:this.customerName,phoneNumber:this.customerContact,deliveryAddress:this.customerAddress,gpsCoordinates:this.gpsCoordinates},g?{userId:g}:{})))}yield T(this.reservationService.addReservation({customerName:this.customerName,customerContact:this.customerContact,customerAddress:this.customerAddress,reservationDate:new Date,pickupDate:e,status:"pending",items:this.orderItems.map(g=>({productId:g.product.id,productName:g.product.name,quantity:g.quantity,price:this.getFinalPrice(g.product)})),totalAmount:this.totalAmount,notes:r}));let d={name:this.customerName,phoneNumber:this.customerContact,address:this.customerAddress,gpsCoordinates:this.gpsCoordinates};localStorage.setItem("chatCustomerInfo",JSON.stringify(d)),localStorage.setItem("chatUserName",this.customerName);let u={customerName:this.customerName,deliveryDate:`${this.pickupDate} ${this.pickupTime}`,deliveryAddress:this.customerAddress,items:this.orderItems.map(g=>({name:g.product.name,quantity:g.quantity,price:this.getFinalPrice(g.product)})),totalAmount:this.totalAmount,paymentMethod:this.paymentOption||"Not Specified"};localStorage.setItem("pendingReservationForChat",JSON.stringify(u)),this.dialogService.success("Reservation submitted successfully! We will contact you shortly. You can now chat with us!","Reservation Confirmed").subscribe(()=>{this.resetForm()})}catch(e){console.error("Error submitting reservation",e),this.dialogService.error("Failed to submit reservation. Please try again.","Reservation Failed")}finally{this.isSubmitting=!1}})}resetForm(){this.orderItems=[],this.customerName="",this.customerContact="",this.customerAddress="",this.paymentOption="",this.notes="",this.selectedProduct=null,this.pickupTime=""}makeNewReservation(){this.successMessage="",this.resetForm()}get discountedProducts(){return this.products.filter(e=>this.isProductOnSale(e))}get paginatedSaleProducts(){let e=(this.salePage-1)*this.salePageSize;return this.discountedProducts.slice(e,e+this.salePageSize)}get saleTotalPages(){return Math.ceil(this.discountedProducts.length/this.salePageSize)}nextSalePage(){this.salePage<this.saleTotalPages&&this.salePage++}prevSalePage(){this.salePage>1&&this.salePage--}goBack(){this.router.navigate(["/"]),window.location.hash.includes("reservation")&&history.pushState("",document.title,window.location.pathname+window.location.search)}generateCalendar(){let e=this.calendarDate.getFullYear(),r=this.calendarDate.getMonth(),i=new Date(e,r,1),l=new Date(i);l.setDate(i.getDate()-i.getDay()),this.calendarDays=[];let d=this.pickupDate?new Date(this.pickupDate):null;d&&d.setHours(0,0,0,0);for(let u=0;u<42;u++){let g=new Date(l);g.setDate(l.getDate()+u);let P=!1;d&&(P=g.getFullYear()===d.getFullYear()&&g.getMonth()===d.getMonth()&&g.getDate()===d.getDate()),this.calendarDays.push({day:g.getDate(),date:g,isCurrentMonth:g.getMonth()===r,isSelected:P})}}changeMonth(e){this.calendarDate.setMonth(this.calendarDate.getMonth()+e),this.generateCalendar()}onDateChange(){this.pickupDate&&(this.calendarDate=new Date(this.pickupDate),this.generateCalendar())}static{this.\u0275fac=function(r){return new(r||o)(E(fe),E(ye),E(he),E(xe),E(be),E(oe))}}static{this.\u0275cmp=z({type:o,selectors:[["app-reservation"]],standalone:!0,features:[J],decls:181,vars:33,consts:[[1,"relative","flex","w-full","flex-col","bg-gray-50","dark:bg-[#101822]","text-gray-900","dark:text-white","font-display","transition-colors","duration-200"],[1,"flex","items-center","justify-between","whitespace-nowrap","border-b","border-gray-200","dark:border-gray-700","px-6","lg:px-10","py-4","bg-white","dark:bg-[#101822]","z-20","sticky","top-0","transition-colors","duration-200"],[1,"flex","items-center","gap-4","text-blue-600","dark:text-[#1269e2]"],[1,"size-6","text-current"],["fill","none","viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg"],["clip-rule","evenodd","d","M24 0.757355L47.2426 24L24 47.2426L0.757355 24L24 0.757355ZM21 35.7574V12.2426L9.24264 24L21 35.7574Z","fill","currentColor","fill-rule","evenodd"],[1,"text-gray-900","dark:text-white","text-lg","font-bold","leading-tight","tracking-[-0.015em]"],[1,"flex","flex-1","justify-end","gap-8"],[1,"flex","items-center","gap-2","group","cursor-pointer","text-gray-500","dark:text-[#92a9c9]","hover:text-blue-600","dark:hover:text-white","transition-colors",3,"click"],[1,"material-symbols-outlined","text-xl"],[1,"text-sm","font-medium","leading-normal"],[1,"layout-container","flex","h-full","grow","flex-col"],[1,"flex","flex-1","justify-center","py-5","px-4","lg:px-8"],[1,"layout-content-container","flex","flex-col","max-w-[1200px]","flex-1","w-full"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"flex-1","flex","flex-col","gap-8","min-w-0"],[1,"flex","flex-col","gap-2"],[1,"text-gray-900","dark:text-white","text-3xl","md:text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"text-gray-500","dark:text-[#92a9c9]","text-base","font-normal","leading-normal"],[1,"flex","flex-col","gap-3"],[1,"flex","gap-6","justify-between","items-center"],[1,"text-gray-900","dark:text-white","text-base","font-medium","leading-normal"],[1,"text-gray-500","dark:text-[#92a9c9]","text-sm","bg-gray-200","dark:bg-[#233348]","px-2","py-1","rounded"],[1,"rounded-full","bg-gray-200","dark:bg-[#324867]","h-2","overflow-hidden"],[1,"h-full","bg-blue-600","dark:bg-[#1269e2]","rounded-full","transition-all","duration-300"],["class","relative overflow-hidden rounded-xl bg-gradient-to-r from-red-500 via-pink-500 to-orange-500 p-4 sm:p-5 shadow-lg animate-pulse-subtle cursor-pointer group hover:shadow-2xl hover:scale-[1.005] sm:hover:scale-[1.01] transition-all duration-300 ring-offset-2 hover:ring-2 ring-red-400 dark:ring-offset-[#101822]",3,"click",4,"ngIf"],["id","featured-deals","class","flex flex-col gap-4 animate-fadeIn scroll-mt-24",4,"ngIf"],[1,"flex","flex-col","gap-6","pb-8","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","flex","items-center","gap-2"],[1,"flex","items-center","justify-center","w-6","h-6","rounded-full","bg-blue-600","dark:bg-[#1269e2]","text-xs","text-white"],[1,"flex","gap-2","overflow-x-auto","pb-2","-mx-1","px-1"],["class","px-4 py-2 text-sm font-medium rounded-full whitespace-nowrap transition-all",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"w-full"],[1,"flex","flex-col","h-12","w-full"],[1,"flex","w-full","flex-1","items-stretch","rounded-lg","h-full","border","border-gray-300","dark:border-gray-600","focus-within:border-blue-600","dark:focus-within:border-[#1269e2]/50","transition-colors","bg-white","dark:bg-[#233348]"],[1,"text-gray-400","dark:text-[#92a9c9]","flex","items-center","justify-center","pl-4"],[1,"material-symbols-outlined"],["placeholder","Search products...",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-900","dark:text-white","focus:outline-0","focus:ring-0","border-none","bg-transparent","h-full","placeholder:text-gray-400","dark:placeholder:text-[#92a9c9]","px-4","pl-2","text-base","font-normal","leading-normal","transition-all",3,"ngModelChange","ngModel"],[1,"flex","flex-col","gap-3","max-h-[500px]","overflow-y-auto","pr-2"],["class","flex items-center gap-4 bg-white dark:bg-[#1a2432] px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 hover:border-blue-600 dark:hover:border-[#1269e2]/30 transition-all shadow-sm group",4,"ngFor","ngForOf"],["class","text-center p-4 text-gray-500 dark:text-[#92a9c9]",4,"ngIf"],[1,"flex","flex-col","gap-6","pt-8","border-t","border-gray-300","dark:border-gray-700","pb-8","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","flex-col","gap-6"],[1,"flex","gap-4"],[1,"flex","flex-col","gap-1.5","flex-1"],[1,"text-sm","font-medium","text-gray-500","dark:text-[#92a9c9]"],[1,"flex","items-center","bg-white","dark:bg-[#233348]","rounded-lg","px-3","h-12","border","border-gray-300","dark:border-gray-600","focus-within:border-blue-600","dark:focus-within:border-[#1269e2]/50","transition-colors"],[1,"material-symbols-outlined","text-gray-400","dark:text-[#92a9c9]","mr-3"],["type","date",1,"bg-transparent","border-none","text-gray-900","dark:text-white","w-full","focus:ring-0","p-0","text-sm",3,"ngModelChange","ngModel"],[1,"flex","flex-col","gap-1.5","w-36"],[1,"material-symbols-outlined","text-gray-400","dark:text-[#92a9c9]","mr-2"],["type","time",1,"bg-transparent","border-none","text-gray-900","dark:text-white","w-full","focus:ring-0","p-0","text-sm",3,"ngModelChange","ngModel"],[1,"bg-white","dark:bg-[#1a2432]","rounded-xl","p-4","border","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-gray-900","dark:text-white","font-medium"],[1,"flex","gap-1"],[1,"p-1","hover:bg-gray-100","dark:hover:bg-[#324867]","rounded",3,"click"],[1,"material-symbols-outlined","text-sm","text-gray-500","dark:text-[#92a9c9]"],[1,"grid","grid-cols-7","gap-1","text-center","text-xs","mb-2","text-gray-400","dark:text-[#92a9c9]"],[1,"grid","grid-cols-7","gap-1","text-center","text-sm"],["class","p-1 rounded cursor-default",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-1.5","w-full"],[1,"flex","gap-2"],[1,"flex","flex-1","items-center","bg-white","dark:bg-[#233348]","rounded-lg","px-3","h-12","border","border-gray-300","dark:border-gray-600","focus-within:border-blue-600","dark:focus-within:border-[#1269e2]/50","transition-colors"],["placeholder","Enter delivery address","type","text",1,"bg-transparent","border-none","text-gray-900","dark:text-white","w-full","focus:ring-0","p-0","text-sm",3,"ngModelChange","ngModel"],[1,"h-12","px-4","bg-blue-600","dark:bg-[#1269e2]","hover:bg-blue-700","text-white","rounded-lg","flex","items-center","justify-center","gap-2","transition-colors","whitespace-nowrap",3,"click","disabled"],["class","material-symbols-outlined animate-spin text-sm",4,"ngIf"],["class","material-symbols-outlined text-sm",4,"ngIf"],[1,"hidden","sm:inline"],[1,"themed-select","bg-white","dark:bg-[#233348]","border-none","text-gray-900","dark:text-white","w-full","focus:ring-0","p-0","text-sm","cursor-pointer",3,"ngModelChange","ngModel"],["value","","disabled","","selected","",1,"bg-white","dark:bg-[#233348]","text-gray-900","dark:text-white"],["class","bg-white dark:bg-[#233348] text-gray-900 dark:text-white",3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","flex-col","gap-1.5"],["placeholder","e.g. Jane Doe","type","text",1,"bg-white","dark:bg-[#233348]","border","border-gray-300","dark:border-gray-600","focus:border-blue-600","dark:focus:border-[#1269e2]/50","rounded-lg","px-4","h-12","text-gray-900","dark:text-white","placeholder:text-gray-400","dark:placeholder:text-[#92a9c9]/50","focus:ring-0","transition-colors",3,"ngModelChange","ngModel"],["placeholder","+1 (555) 000-0000","type","tel",1,"bg-white","dark:bg-[#233348]","border","border-gray-300","dark:border-gray-600","focus:border-blue-600","dark:focus:border-[#1269e2]/50","rounded-lg","px-4","h-12","text-gray-900","dark:text-white","placeholder:text-gray-400","dark:placeholder:text-[#92a9c9]/50","focus:ring-0","transition-colors",3,"ngModelChange","ngModel"],[1,"summary-placeholder"],[1,"summary-container"],[1,"bg-white","dark:bg-[#1a2432]","border","border-gray-200","dark:border-gray-600","rounded-xl","p-6","shadow-xl","flex","flex-col","gap-6"],[1,"flex","justify-between","items-center","border-b","border-dashed","remove-top","border-gray-200","dark:border-gray-600","pb-4"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],[1,"text-xs","font-medium","text-gray-500","dark:text-[#92a9c9]","bg-gray-100","dark:bg-[#233348]","px-2","py-1","rounded"],[1,"flex","flex-col","gap-4"],["class","text-sm text-gray-500 dark:text-[#92a9c9] text-center",4,"ngIf"],["class","flex justify-between items-start text-sm",4,"ngFor","ngForOf"],["class","flex justify-between items-start text-sm font-bold pt-2 border-b border-dashed remove-bottom border-gray-200 dark:border-gray-600",4,"ngIf"],[1,"border-t","border-dashed","remove-bottom","border-gray-200","dark:border-gray-600","py-4","flex","flex-col","gap-3"],[1,"flex","items-center","gap-3"],[1,"material-symbols-outlined","text-blue-600","dark:text-[#1269e2]","text-xl"],[1,"flex","flex-col"],[1,"text-xs","text-gray-500","dark:text-[#92a9c9]"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"w-full","h-12","bg-blue-600","dark:bg-[#1269e2]","hover:bg-blue-700","dark:hover:bg-[#1269e2]/90","text-white","font-bold","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],[1,"text-xs","text-center","text-gray-500","dark:text-[#92a9c9]"],[1,"bg-[#151f2b]","border","border-gray-200","dark:border-gray-600","rounded-xl","p-4","flex","items-start","gap-3"],[1,"bg-[#233348]","p-2","rounded-lg","text-[#92a9c9]","shrink-0"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","text-blue-500","dark:text-[#1269e2]","hover:underline","mt-1","inline-block","cursor-pointer",3,"click"],[1,"relative","overflow-hidden","rounded-xl","bg-gradient-to-r","from-red-500","via-pink-500","to-orange-500","p-4","sm:p-5","shadow-lg","animate-pulse-subtle","cursor-pointer","group","hover:shadow-2xl","hover:scale-[1.005]","sm:hover:scale-[1.01]","transition-all","duration-300","ring-offset-2","hover:ring-2","ring-red-400","dark:ring-offset-[#101822]",3,"click"],[1,"absolute","inset-0","bg-gradient-to-r","from-transparent","via-white/20","to-transparent","animate-shimmer","opacity-50","group-hover:opacity-100","transition-opacity"],[1,"absolute","-top-10","-right-10","w-32","h-32","bg-yellow-300/30","rounded-full","blur-3xl","group-hover:bg-yellow-300/50","transition-colors","duration-500"],[1,"relative","flex","flex-col","sm:flex-row","items-center","justify-between","gap-4","sm:gap-0"],[1,"flex","items-center","gap-3","sm:gap-4","w-full","sm:w-auto"],[1,"flex","items-center","justify-center","w-12","h-12","sm:w-14","sm:h-14","bg-white/20","rounded-full","backdrop-blur-md","shadow-inner","group-hover:scale-110","group-hover:rotate-12","transition-all","duration-500","border","border-white/20","shrink-0"],[1,"text-2xl","sm:text-3xl","filter","drop-shadow-sm"],[1,"min-w-0","flex-1"],[1,"text-white","font-black","text-lg","sm:text-xl","tracking-tight","drop-shadow-md","group-hover:text-yellow-100","transition-colors","truncate"],[1,"flex","flex-wrap","items-center","gap-2","mt-0.5"],[1,"bg-white/90","text-red-600","text-[10px]","font-bold","px-1.5","py-0.5","rounded","shadow-sm","shrink-0"],[1,"text-white/95","text-xs","sm:text-sm","font-medium","group-hover:translate-x-1","transition-transform","truncate"],[1,"w-full","sm:w-auto","text-center","sm:text-right","shrink-0","flex","flex-col","items-center","sm:items-end","mt-1","sm:mt-0"],[1,"text-white/90","text-[10px]","font-bold","uppercase","tracking-widest","mb-1.5","drop-shadow-md"],[1,"flex","gap-1.5","justify-center","sm:justify-end","w-full"],["class","backdrop-blur-md rounded-lg px-1.5 py-1 text-center min-w-[36px] sm:min-w-[38px] shadow-sm border border-white/10 transition-colors duration-300 flex flex-col justify-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"hidden","sm:block","absolute","bottom-2","left-1/2","-translate-x-1/2","translate-y-8","group-hover:-translate-y-0","opacity-0","group-hover:opacity-100","transition-all","duration-300","ease-out"],[1,"bg-black/40","text-white","text-[10px]","uppercase","font-bold","px-3","py-1","rounded-full","backdrop-blur-md","border","border-white/20","shadow-lg","flex","items-center","gap-1"],[1,"material-symbols-outlined","text-[10px]"],[1,"backdrop-blur-md","rounded-lg","px-1.5","py-1","text-center","min-w-[36px]","sm:min-w-[38px]","shadow-sm","border","border-white/10","transition-colors","duration-300","flex","flex-col","justify-center",3,"ngClass"],[1,"font-bold","text-base","sm:text-lg","leading-none","block","font-mono"],[1,"text-[7px]","sm:text-[8px]","opacity-90","font-semibold","mt-0.5"],["id","featured-deals",1,"flex","flex-col","gap-4","animate-fadeIn","scroll-mt-24"],[1,"flex","items-center","gap-2"],[1,"material-symbols-outlined","text-orange-500"],[1,"overflow-hidden","rounded-xl","border","border-gray-200","dark:border-gray-700","bg-white","dark:bg-[#1a2432]","shadow-sm"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-gray-50","dark:bg-[#233348]","text-gray-500","dark:text-[#92a9c9]","border-b","border-gray-200","dark:border-gray-700"],[1,"px-4","py-3","font-medium"],[1,"px-4","py-3","font-medium","hidden","sm:table-cell"],[1,"px-4","py-3","font-medium","text-center","hidden","sm:table-cell"],[1,"px-4","py-3","font-medium","text-right"],[1,"px-4","py-3","font-medium","w-20","text-center"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],["class","group hover:bg-gray-50 dark:hover:bg-[#233348]/50 transition-colors",4,"ngFor","ngForOf"],["class","flex items-center justify-between px-4 py-3 bg-gray-50/50 dark:bg-[#233348]/30 border-t border-gray-200 dark:border-gray-700",4,"ngIf"],[1,"group","hover:bg-gray-50","dark:hover:bg-[#233348]/50","transition-colors"],[1,"px-4","py-3","font-medium","text-gray-900","dark:text-white"],[1,"size-10","rounded-lg","bg-gray-100","dark:bg-[#324867]","flex","items-center","justify-center","shrink-0","bg-cover","bg-center","border","border-gray-200","dark:border-gray-600"],["class","material-symbols-outlined text-gray-400 text-sm",4,"ngIf"],[1,"line-clamp-1","font-semibold"],[1,"text-xs","text-orange-500","font-medium","sm:hidden"],[1,"px-4","py-3","text-gray-500","dark:text-[#92a9c9]","hidden","sm:table-cell"],[1,"bg-gray-100","dark:bg-[#233348]","px-2","py-1","rounded","text-xs"],[1,"px-4","py-3","text-center","hidden","sm:table-cell"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-bold","bg-orange-100","text-orange-700","dark:bg-orange-900/40","dark:text-orange-400","border","border-orange-200","dark:border-orange-800"],[1,"px-4","py-3","text-right"],[1,"flex","flex-col","items-end"],[1,"text-sm","font-bold","text-blue-600","dark:text-[#1269e2]"],[1,"text-xs","text-gray-400","line-through"],[1,"px-4","py-3","text-center"],[1,"size-8","inline-flex","items-center","justify-center","rounded-lg","bg-blue-50","dark:bg-blue-900/20","text-blue-600","hover:bg-blue-100","dark:hover:bg-blue-900/40","transition-colors",3,"click"],[1,"material-symbols-outlined","text-sm"],[1,"material-symbols-outlined","text-gray-400","text-sm"],[1,"flex","items-center","justify-between","px-4","py-3","bg-gray-50/50","dark:bg-[#233348]/30","border-t","border-gray-200","dark:border-gray-700"],[1,"size-8","flex","items-center","justify-center","rounded","hover:bg-white","dark:hover:bg-[#324867]","border","border-transparent","hover:border-gray-200","dark:hover:border-gray-600","disabled:opacity-50","disabled:cursor-not-allowed","text-gray-500","transition-all",3,"click","disabled"],[1,"px-4","py-2","text-sm","font-medium","rounded-full","whitespace-nowrap","transition-all",3,"click","ngClass"],[1,"flex","items-center","gap-4","bg-white","dark:bg-[#1a2432]","px-4","py-3","rounded-xl","border","border-gray-200","dark:border-gray-600","hover:border-blue-600","dark:hover:border-[#1269e2]/30","transition-all","shadow-sm","group"],[1,"bg-center","bg-no-repeat","bg-cover","rounded-lg","size-16","shrink-0","relative","overflow-hidden","bg-gray-100","dark:bg-gray-800"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","bg-black/5","dark:bg-black/10"],[1,"flex","flex-col","justify-center","flex-1","min-w-0"],[1,"flex","justify-between","items-start","gap-2"],[1,"text-gray-900","dark:text-white","text-base","font-medium","leading-normal","line-clamp-1"],[1,"flex","items-center","gap-1.5","shrink-0"],["class","text-[10px] font-semibold px-2 py-0.5 rounded-full bg-red-100 dark:bg-red-400/10 text-red-600 dark:text-red-400 animate-pulse",4,"ngIf"],["class","text-[10px] font-medium px-2 py-0.5 rounded-full bg-amber-100 dark:bg-amber-400/10 text-amber-600 dark:text-amber-400",4,"ngIf"],[1,"text-[10px]","font-medium","px-2","py-0.5","rounded-full","bg-emerald-100","dark:bg-emerald-400/10","text-emerald-600","dark:text-emerald-400"],[1,"flex","items-center","gap-2","mt-0.5","flex-wrap"],["class","text-blue-600 dark:text-[#1269e2] text-sm font-semibold",4,"ngIf"],[1,"text-gray-400","dark:text-[#324867]"],[1,"text-gray-500","dark:text-[#92a9c9]","text-xs"],[1,"shrink-0","flex","items-center","gap-2"],["class","h-9 px-4 flex items-center justify-center gap-1.5 rounded-lg bg-blue-600 dark:bg-[#1269e2] text-white text-sm font-medium hover:bg-blue-700 dark:hover:bg-[#1269e2]/80 transition-all opacity-80 group-hover:opacity-100",3,"click",4,"ngIf"],["class","flex items-center gap-2 bg-gray-100 dark:bg-[#233348] rounded-lg px-1",4,"ngIf"],[1,"text-[10px]","font-semibold","px-2","py-0.5","rounded-full","bg-red-100","dark:bg-red-400/10","text-red-600","dark:text-red-400","animate-pulse"],[1,"text-[10px]","font-medium","px-2","py-0.5","rounded-full","bg-amber-100","dark:bg-amber-400/10","text-amber-600","dark:text-amber-400"],[1,"text-gray-400","dark:text-[#4a5568]","text-xs","line-through"],[1,"text-red-500","dark:text-red-400","text-sm","font-bold"],[1,"text-[9px]","font-bold","px-1.5","py-0.5","rounded","bg-red-500","text-white","uppercase"],[1,"text-blue-600","dark:text-[#1269e2]","text-sm","font-semibold"],[1,"h-9","px-4","flex","items-center","justify-center","gap-1.5","rounded-lg","bg-blue-600","dark:bg-[#1269e2]","text-white","text-sm","font-medium","hover:bg-blue-700","dark:hover:bg-[#1269e2]/80","transition-all","opacity-80","group-hover:opacity-100",3,"click"],[1,"flex","items-center","gap-2","bg-gray-100","dark:bg-[#233348]","rounded-lg","px-1"],[1,"size-8","flex","items-center","justify-center","rounded-lg","text-gray-900","dark:text-white","hover:bg-gray-200","dark:hover:bg-[#324867]","transition-colors",3,"click"],[1,"text-gray-900","dark:text-white","font-semibold","w-6","text-center"],[1,"text-center","p-4","text-gray-500","dark:text-[#92a9c9]"],[1,"p-1","rounded","cursor-default",3,"ngClass"],[1,"material-symbols-outlined","animate-spin","text-sm"],[1,"bg-white","dark:bg-[#233348]","text-gray-900","dark:text-white",3,"value"],[1,"text-sm","text-gray-500","dark:text-[#92a9c9]","text-center"],[1,"flex","justify-between","items-start","text-sm"],[1,"flex","flex-col","gap-1"],[1,"flex","justify-between","items-start","text-sm","font-bold","pt-2","border-b","border-dashed","remove-bottom","border-gray-200","dark:border-gray-600"],[1,"text-gray-900","dark:text-white"]],template:function(r,i){r&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),U(),t(4,"svg",4),M(5,"path",5),n()(),H(),t(6,"h2",6),a(7,"JJM Inventory"),n()(),t(8,"div",7)(9,"div",8),f("click",function(){return i.goBack()}),t(10,"span",9),a(11,"arrow_back"),n(),t(12,"span",10),a(13,"Back to Login"),n()()()(),t(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"h1",17),a(21,"New Reservation"),n(),t(22,"p",18),a(23,"Select items and schedule your pickup in 3 simple steps."),n()(),t(24,"div",19)(25,"div",20)(26,"p",21),a(27,"Current Progress"),n(),t(28,"span",22),a(29),n()(),t(30,"div",23),M(31,"div",24),n()(),h(32,Oe,26,18,"div",25)(33,Ae,24,2,"div",26),t(34,"section",27)(35,"div",28)(36,"h3",29)(37,"span",30),a(38,"1"),n(),a(39," Select Product "),n()(),t(40,"div",31),h(41,je,2,5,"button",32),n(),t(42,"div",33)(43,"label",34)(44,"div",35)(45,"div",36)(46,"span",37),a(47,"search"),n()(),t(48,"input",38),S("ngModelChange",function(d){return k(i.searchQuery,d)||(i.searchQuery=d),d}),n()()()(),t(49,"div",39),h(50,Ue,23,10,"div",40)(51,He,2,0,"div",41),n()(),t(52,"section",42)(53,"div",28)(54,"h3",29)(55,"span",30),a(56,"2"),n(),a(57," Schedule Delivery "),n()(),t(58,"div",43)(59,"div",43)(60,"div",44)(61,"label",45)(62,"span",46),a(63,"Delivery Date"),n(),t(64,"div",47)(65,"span",48),a(66,"calendar_today"),n(),t(67,"input",49),S("ngModelChange",function(d){return k(i.pickupDate,d)||(i.pickupDate=d),d}),f("ngModelChange",function(){return i.onDateChange()}),n()()(),t(68,"label",50)(69,"span",46),a(70,"Time"),n(),t(71,"div",47)(72,"span",51),a(73,"schedule"),n(),t(74,"input",52),S("ngModelChange",function(d){return k(i.pickupTime,d)||(i.pickupTime=d),d}),n()()()()(),t(75,"div",53)(76,"div",54)(77,"span",55),a(78),y(79,"date"),n(),t(80,"div",56)(81,"button",57),f("click",function(){return i.changeMonth(-1)}),t(82,"span",58),a(83,"chevron_left"),n()(),t(84,"button",57),f("click",function(){return i.changeMonth(1)}),t(85,"span",58),a(86,"chevron_right"),n()()()(),t(87,"div",59)(88,"div"),a(89,"Su"),n(),t(90,"div"),a(91,"Mo"),n(),t(92,"div"),a(93,"Tu"),n(),t(94,"div"),a(95,"We"),n(),t(96,"div"),a(97,"Th"),n(),t(98,"div"),a(99,"Fr"),n(),t(100,"div"),a(101,"Sa"),n()(),t(102,"div",60),h(103,Ke,2,6,"div",61),n()()(),t(104,"div",43)(105,"label",62)(106,"span",46),a(107,"Delivery Address"),n(),t(108,"div",63)(109,"div",64)(110,"span",48),a(111,"location_on"),n(),t(112,"input",65),S("ngModelChange",function(d){return k(i.customerAddress,d)||(i.customerAddress=d),d}),n()(),t(113,"button",66),f("click",function(){return i.getLocation()}),h(114,Ye,2,0,"span",67)(115,Qe,2,0,"span",68),t(116,"span",69),a(117,"Use My Location"),n()()()(),t(118,"label",62)(119,"span",46),a(120,"Payment Option (Optional)"),n(),t(121,"div",47)(122,"span",48),a(123,"payments"),n(),t(124,"select",70),S("ngModelChange",function(d){return k(i.paymentOption,d)||(i.paymentOption=d),d}),t(125,"option",71),a(126,"Select Payment Method"),n(),h(127,$e,2,2,"option",72),n()()()()(),t(128,"section",43)(129,"div",28)(130,"h3",29)(131,"span",30),a(132,"3"),n(),a(133," Your Details "),n()(),t(134,"div",73)(135,"label",74)(136,"span",46),a(137,"Full Name"),n(),t(138,"input",75),S("ngModelChange",function(d){return k(i.customerName,d)||(i.customerName=d),d}),n()(),t(139,"label",74)(140,"span",46),a(141,"Phone Number"),n(),t(142,"input",76),S("ngModelChange",function(d){return k(i.customerContact,d)||(i.customerContact=d),d}),n()()()()(),M(143,"div",77),t(144,"div",78)(145,"div",43)(146,"div",79)(147,"div",80)(148,"h3",81),a(149,"Summary"),n(),t(150,"span",82),a(151,"ID: #RES-8921"),n()(),t(152,"div",83),h(153,Je,2,0,"div",84)(154,Ge,9,6,"div",85)(155,Ze,6,4,"div",86),n(),t(156,"div",87)(157,"div",88)(158,"span",89),a(159,"event"),n(),t(160,"div",90)(161,"span",91),a(162,"Delivery"),n(),t(163,"span",92),a(164),n()()()(),t(165,"div",19)(166,"button",93),f("click",function(){return i.submitReservation()}),h(167,Xe,2,0,"span",94)(168,et,2,0,"span",94)(169,tt,2,0,"span",68),n(),t(170,"p",95),a(171,"By confirming, you agree to the product usage policy."),n()()(),t(172,"div",96)(173,"div",97)(174,"span",37),a(175,"support_agent"),n()(),t(176,"div")(177,"p",98),a(178,"Need special product?"),n(),t(179,"a",99),f("click",function(){return i.openChat()}),a(180,"Open Chat"),n()()()()()()()()()()),r&2&&(s(29),x("Step ",i.currentStep," of 3"),s(2),R("width",i.progressPercentage,"%"),s(),m("ngIf",i.currentSale),s(),m("ngIf",i.currentSale&&i.discountedProducts.length>0),s(8),m("ngForOf",i.categories),s(7),_("ngModel",i.searchQuery),s(2),m("ngForOf",i.filteredProducts),s(),m("ngIf",i.filteredProducts.length===0),s(16),_("ngModel",i.pickupDate),s(7),_("ngModel",i.pickupTime),s(4),b(C(79,30,i.calendarDate,"MMMM yyyy")),s(25),m("ngForOf",i.calendarDays),s(9),_("ngModel",i.customerAddress),s(),m("disabled",i.isLocationLoading),s(),m("ngIf",i.isLocationLoading),s(),m("ngIf",!i.isLocationLoading),s(9),_("ngModel",i.paymentOption),s(3),m("ngForOf",i.paymentOptions),s(11),_("ngModel",i.customerName),s(4),_("ngModel",i.customerContact),s(11),m("ngIf",i.orderItems.length===0),s(),m("ngForOf",i.orderItems),s(),m("ngIf",i.orderItems.length>0),s(9),F("",i.pickupDate||"Select Date"," ",i.pickupTime,""),s(2),m("disabled",i.isSubmitting||i.orderItems.length===0),s(),m("ngIf",!i.isSubmitting),s(),m("ngIf",i.isSubmitting),s(),m("ngIf",!i.isSubmitting))},dependencies:[re,X,ee,te,ne,ie,ue,me,pe,se,ce,le,de],styles:[`[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#111822}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#233348;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#324867}.border-dashed[_ngcontent-%COMP%]{border-left:unset!important;border-right:unset!important}.remove-top[_ngcontent-%COMP%]{border-top:unset!important}.remove-bottom[_ngcontent-%COMP%]{border-bottom:unset!important}.themed-select[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");background-position:right 0 center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2rem}.themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px 12px}.dark[_nghost-%COMP%]   .themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#233348;color:#fff}.themed-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#111827}.layout-container[_ngcontent-%COMP%], .layout-content-container[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{display:block;min-height:100%;width:100%}.summary-placeholder[_ngcontent-%COMP%]{width:360px;flex-shrink:0;display:none}.summary-container[_ngcontent-%COMP%]{width:360px;flex-shrink:0}@media (min-width: 1024px){.summary-placeholder[_ngcontent-%COMP%]{display:block}.summary-container[_ngcontent-%COMP%]{position:fixed;top:80px;right:max(32px,calc((100vw - 1200px)/2));width:360px;max-height:calc(100vh - 100px);overflow-y:auto;z-index:100}}@media (max-width: 1023px){.summary-container[_ngcontent-%COMP%]{position:relative;width:100%;top:auto;right:auto;max-height:none}}.animate-pulse-subtle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-subtle 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse-subtle{0%,to{box-shadow:0 4px 15px #ef44444d}50%{box-shadow:0 4px 25px #ef444480}}.animate-shimmer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}50%,to{transform:translate(100%)}}.line-through[_ngcontent-%COMP%]{text-decoration:line-through}`]})}}return o})();export{ht as ReservationComponent};
